(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),$w=Symbol.for("react.portal"),zw=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Kw=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),Hp=Symbol.iterator;function Yw(t){return t===null||typeof t!="object"?null:(t=Hp&&t[Hp]||t["@@iterator"],typeof t=="function"?t:null)}var Xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jy=Object.assign,Zy={};function ko(t,e,n){this.props=t,this.context=e,this.refs=Zy,this.updater=n||Xy}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ev(){}ev.prototype=ko.prototype;function Td(t,e,n){this.props=t,this.context=e,this.refs=Zy,this.updater=n||Xy}var Sd=Td.prototype=new ev;Sd.constructor=Td;Jy(Sd,ko.prototype);Sd.isPureReactComponent=!0;var Wp=Array.isArray,tv=Object.prototype.hasOwnProperty,Id={current:null},nv={key:!0,ref:!0,__self:!0,__source:!0};function rv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)tv.call(e,r)&&!nv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:da,type:t,key:o,ref:s,props:i,_owner:Id.current}}function Xw(t,e){return{$$typeof:da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cd(t){return typeof t=="object"&&t!==null&&t.$$typeof===da}function Jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qp=/\/+/g;function yc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jw(""+t.key):e.toString(36)}function _l(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case da:case $w:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+yc(s,0):r,Wp(i)?(n="",t!=null&&(n=t.replace(qp,"$&/")+"/"),_l(i,e,n,"",function(c){return c})):i!=null&&(Cd(i)&&(i=Xw(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Wp(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+yc(o,l);s+=_l(o,e,n,u,i)}else if(u=Yw(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+yc(o,l++),s+=_l(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ka(t,e,n){if(t==null)return t;var r=[],i=0;return _l(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Zw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},El={transition:null},eT={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:El,ReactCurrentOwner:Id};function iv(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ka,forEach:function(t,e,n){Ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ka(t,function(){e++}),e},toArray:function(t){return Ka(t,function(e){return e})||[]},only:function(t){if(!Cd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ko;fe.Fragment=zw;fe.Profiler=Bw;fe.PureComponent=Td;fe.StrictMode=jw;fe.Suspense=Gw;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT;fe.act=iv;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Id.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)tv.call(e,u)&&!nv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:da,type:t.type,key:i,ref:o,props:r,_owner:s}};fe.createContext=function(t){return t={$$typeof:Ww,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hw,_context:t},t.Consumer=t};fe.createElement=rv;fe.createFactory=function(t){var e=rv.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:qw,render:t}};fe.isValidElement=Cd;fe.lazy=function(t){return{$$typeof:Qw,_payload:{_status:-1,_result:t},_init:Zw}};fe.memo=function(t,e){return{$$typeof:Kw,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=El.transition;El.transition={};try{t()}finally{El.transition=e}};fe.unstable_act=iv;fe.useCallback=function(t,e){return Dt.current.useCallback(t,e)};fe.useContext=function(t){return Dt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Dt.current.useEffect(t,e)};fe.useId=function(){return Dt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Dt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};fe.useRef=function(t){return Dt.current.useRef(t)};fe.useState=function(t){return Dt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Dt.current.useTransition()};fe.version="18.3.1";(function(t){t.exports=fe})(F);const tT=Uw(F.exports);var nh={},Rd={exports:{}},Yt={},ov={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var se=G.length;G.push(te);e:for(;0<se;){var Ie=se-1>>>1,de=G[Ie];if(0<i(de,te))G[Ie]=te,G[se]=de,se=Ie;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],se=G.pop();if(se!==te){G[0]=se;e:for(var Ie=0,de=G.length,Ce=de>>>1;Ie<Ce;){var Lt=2*(Ie+1)-1,ut=G[Lt],dn=Lt+1,Jt=G[dn];if(0>i(ut,se))dn<de&&0>i(Jt,ut)?(G[Ie]=Jt,G[dn]=se,Ie=dn):(G[Ie]=ut,G[Lt]=se,Ie=Lt);else if(dn<de&&0>i(Jt,se))G[Ie]=Jt,G[dn]=se,Ie=dn;else break e}}return te}function i(G,te){var se=G.sortIndex-te.sortIndex;return se!==0?se:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,m=3,v=!1,R=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=G)r(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function M(G){if(k=!1,E(G),!R)if(n(u)!==null)R=!0,xn(A);else{var te=n(c);te!==null&&Pt(M,te.startTime-G)}}function A(G,te){R=!1,k&&(k=!1,w(y),y=-1),v=!0;var se=m;try{for(E(te),p=n(u);p!==null&&(!(p.expirationTime>te)||G&&!P());){var Ie=p.callback;if(typeof Ie=="function"){p.callback=null,m=p.priorityLevel;var de=Ie(p.expirationTime<=te);te=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(u)&&r(u),E(te)}else r(u);p=n(u)}if(p!==null)var Ce=!0;else{var Lt=n(c);Lt!==null&&Pt(M,Lt.startTime-te),Ce=!1}return Ce}finally{p=null,m=se,v=!1}}var U=!1,S=null,y=-1,T=5,I=-1;function P(){return!(t.unstable_now()-I<T)}function D(){if(S!==null){var G=t.unstable_now();I=G;var te=!0;try{te=S(!0,G)}finally{te?C():(U=!1,S=null)}}else U=!1}var C;if(typeof _=="function")C=function(){_(D)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Ne=lt.port2;lt.port1.onmessage=D,C=function(){Ne.postMessage(null)}}else C=function(){N(D,0)};function xn(G){S=G,U||(U=!0,C())}function Pt(G,te){y=N(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){R||v||(R=!0,xn(A))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var se=m;m=te;try{return G()}finally{m=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var se=m;m=G;try{return te()}finally{m=se}},t.unstable_scheduleCallback=function(G,te,se){var Ie=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ie+se:Ie):se=Ie,G){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=se+de,G={id:d++,callback:te,priorityLevel:G,startTime:se,expirationTime:de,sortIndex:-1},se>Ie?(G.sortIndex=se,e(c,G),n(u)===null&&G===n(c)&&(k?(w(y),y=-1):k=!0,Pt(M,se-Ie))):(G.sortIndex=de,e(u,G),R||v||(R=!0,xn(A))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var te=m;return function(){var se=m;m=te;try{return G.apply(this,arguments)}finally{m=se}}}})(sv);(function(t){t.exports=sv})(ov);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT=F.exports,Qt=ov.exports;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var av=new Set,Ms={};function Ai(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(Ms[t]=e,t=0;t<e.length;t++)av.add(e[t])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,rT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gp={},Kp={};function iT(t){return rh.call(Kp,t)?!0:rh.call(Gp,t)?!1:rT.test(t)?Kp[t]=!0:(Gp[t]=!0,!1)}function oT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sT(t,e,n,r){if(e===null||typeof e>"u"||oT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ad=/[\-:]([a-z])/g;function xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ad,xd);yt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ad,xd);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ad,xd);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pd(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sT(e,n,i,r)&&(n=null),r||i===null?iT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=nT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),Dd=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),cv=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function ns(t){return t===null||typeof t!="object"?null:(t=Qp&&t[Qp]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,vc;function fs(t){if(vc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vc=e&&e[1]||""}return`
`+vc+t}var _c=!1;function Ec(t,e){if(!t||_c)return"";_c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{_c=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fs(t):""}function aT(t){switch(t.tag){case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return t=Ec(t.type,!1),t;case 11:return t=Ec(t.type.render,!1),t;case 1:return t=Ec(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ki:return"Fragment";case Gi:return"Portal";case ih:return"Profiler";case kd:return"StrictMode";case oh:return"Suspense";case sh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uv:return(t.displayName||"Context")+".Consumer";case lv:return(t._context.displayName||"Context")+".Provider";case Nd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dd:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function lT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===kd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uT(t){var e=hv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ya(t){t._valueTracker||(t._valueTracker=uT(t))}function dv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Yp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fv(t,e){e=e.checked,e!=null&&Pd(t,"checked",e,!1)}function uh(t,e){fv(t,e);var n=Wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&ch(t,e.type,Wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ch(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ps=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ps(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wr(n)}}function pv(t,e){var n=Wr(e.value),r=Wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xa,gv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cT=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(t){cT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ts[e]=Ts[t]})});function yv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ts.hasOwnProperty(t)&&Ts[t]?(""+e).trim():e+"px"}function vv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hT=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(hT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function ph(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=null;function Vd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gh=null,so=null,ao=null;function em(t){if(t=ma(t)){if(typeof gh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Lu(e),gh(t.stateNode,t.type,e))}}function _v(t){so?ao?ao.push(t):ao=[t]:so=t}function Ev(){if(so){var t=so,e=ao;if(ao=so=null,em(t),e)for(t=0;t<e.length;t++)em(e[t])}}function wv(t,e){return t(e)}function Tv(){}var wc=!1;function Sv(t,e,n){if(wc)return t(e,n);wc=!0;try{return wv(t,e,n)}finally{wc=!1,(so!==null||ao!==null)&&(Tv(),Ev())}}function Fs(t,e){var n=t.stateNode;if(n===null)return null;var r=Lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var yh=!1;if(er)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){yh=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{yh=!1}function dT(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ss=!1,jl=null,Bl=!1,vh=null,fT={onError:function(t){Ss=!0,jl=t}};function pT(t,e,n,r,i,o,s,l,u){Ss=!1,jl=null,dT.apply(fT,arguments)}function mT(t,e,n,r,i,o,s,l,u){if(pT.apply(this,arguments),Ss){if(Ss){var c=jl;Ss=!1,jl=null}else throw Error(H(198));Bl||(Bl=!0,vh=c)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Iv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tm(t){if(xi(t)!==t)throw Error(H(188))}function gT(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tm(i),t;if(o===r)return tm(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Cv(t){return t=gT(t),t!==null?Rv(t):null}function Rv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rv(t);if(e!==null)return e;t=t.sibling}return null}var Av=Qt.unstable_scheduleCallback,nm=Qt.unstable_cancelCallback,yT=Qt.unstable_shouldYield,vT=Qt.unstable_requestPaint,Ke=Qt.unstable_now,_T=Qt.unstable_getCurrentPriorityLevel,Ld=Qt.unstable_ImmediatePriority,xv=Qt.unstable_UserBlockingPriority,Hl=Qt.unstable_NormalPriority,ET=Qt.unstable_LowPriority,Pv=Qt.unstable_IdlePriority,ku=null,Vn=null;function wT(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ku,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:IT,TT=Math.log,ST=Math.LN2;function IT(t){return t>>>=0,t===0?32:31-(TT(t)/ST|0)|0}var Ja=64,Za=4194304;function ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ms(l):(o&=s,o!==0&&(r=ms(o)))}else s=n&~i,s!==0?r=ms(s):o!==0&&(r=ms(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function CT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-In(o),l=1<<s,u=i[s];u===-1?((l&n)===0||(l&r)!==0)&&(i[s]=CT(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function _h(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kv(){var t=Ja;return Ja<<=1,(Ja&4194240)===0&&(Ja=64),t}function Tc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function AT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Od(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Nv(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Dv,Md,Vv,Lv,Ov,Eh=!1,el=[],Nr=null,Dr=null,Vr=null,Us=new Map,$s=new Map,Cr=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rm(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function is(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ma(e),e!==null&&Md(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PT(t,e,n,r,i){switch(e){case"focusin":return Nr=is(Nr,t,e,n,r,i),!0;case"dragenter":return Dr=is(Dr,t,e,n,r,i),!0;case"mouseover":return Vr=is(Vr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Us.set(o,is(Us.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$s.set(o,is($s.get(o)||null,t,e,n,r,i)),!0}return!1}function Mv(t){var e=di(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=Iv(n),e!==null){t.blockedOn=e,Ov(t.priority,function(){Vv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mh=r,n.target.dispatchEvent(r),mh=null}else return e=ma(n),e!==null&&Md(e),t.blockedOn=n,!1;e.shift()}return!0}function im(t,e,n){wl(t)&&n.delete(e)}function kT(){Eh=!1,Nr!==null&&wl(Nr)&&(Nr=null),Dr!==null&&wl(Dr)&&(Dr=null),Vr!==null&&wl(Vr)&&(Vr=null),Us.forEach(im),$s.forEach(im)}function os(t,e){t.blockedOn===e&&(t.blockedOn=null,Eh||(Eh=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,kT)))}function zs(t){function e(i){return os(i,t)}if(0<el.length){os(el[0],t);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nr!==null&&os(Nr,t),Dr!==null&&os(Dr,t),Vr!==null&&os(Vr,t),Us.forEach(e),$s.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)Mv(n),n.blockedOn===null&&Cr.shift()}var lo=ar.ReactCurrentBatchConfig,ql=!0;function NT(t,e,n,r){var i=Re,o=lo.transition;lo.transition=null;try{Re=1,bd(t,e,n,r)}finally{Re=i,lo.transition=o}}function DT(t,e,n,r){var i=Re,o=lo.transition;lo.transition=null;try{Re=4,bd(t,e,n,r)}finally{Re=i,lo.transition=o}}function bd(t,e,n,r){if(ql){var i=wh(t,e,n,r);if(i===null)Dc(t,e,r,Gl,n),rm(t,r);else if(PT(i,t,e,n,r))r.stopPropagation();else if(rm(t,r),e&4&&-1<xT.indexOf(t)){for(;i!==null;){var o=ma(i);if(o!==null&&Dv(o),o=wh(t,e,n,r),o===null&&Dc(t,e,r,Gl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Dc(t,e,r,null,n)}}var Gl=null;function wh(t,e,n,r){if(Gl=null,t=Vd(r),t=di(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Iv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gl=t,null}function bv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_T()){case Ld:return 1;case xv:return 4;case Hl:case ET:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var xr=null,Fd=null,Tl=null;function Fv(){if(Tl)return Tl;var t,e=Fd,n=e.length,r,i="value"in xr?xr.value:xr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Tl=i.slice(t,1<r?1-r:void 0)}function Sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function om(){return!1}function Xt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tl:om,this.isPropagationStopped=om,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=Xt(No),pa=ze({},No,{view:0,detail:0}),VT=Xt(pa),Sc,Ic,ss,Nu=ze({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$d,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(Sc=t.screenX-ss.screenX,Ic=t.screenY-ss.screenY):Ic=Sc=0,ss=t),Sc)},movementY:function(t){return"movementY"in t?t.movementY:Ic}}),sm=Xt(Nu),LT=ze({},Nu,{dataTransfer:0}),OT=Xt(LT),MT=ze({},pa,{relatedTarget:0}),Cc=Xt(MT),bT=ze({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),FT=Xt(bT),UT=ze({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$T=Xt(UT),zT=ze({},No,{data:0}),am=Xt(zT),jT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HT[t])?!!e[t]:!1}function $d(){return WT}var qT=ze({},pa,{key:function(t){if(t.key){var e=jT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$d,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GT=Xt(qT),KT=ze({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=Xt(KT),QT=ze({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$d}),YT=Xt(QT),XT=ze({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),JT=Xt(XT),ZT=ze({},Nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e1=Xt(ZT),t1=[9,13,27,32],zd=er&&"CompositionEvent"in window,Is=null;er&&"documentMode"in document&&(Is=document.documentMode);var n1=er&&"TextEvent"in window&&!Is,Uv=er&&(!zd||Is&&8<Is&&11>=Is),um=String.fromCharCode(32),cm=!1;function $v(t,e){switch(t){case"keyup":return t1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function r1(t,e){switch(t){case"compositionend":return zv(e);case"keypress":return e.which!==32?null:(cm=!0,um);case"textInput":return t=e.data,t===um&&cm?null:t;default:return null}}function i1(t,e){if(Qi)return t==="compositionend"||!zd&&$v(t,e)?(t=Fv(),Tl=Fd=xr=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uv&&e.locale!=="ko"?null:e.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o1[t.type]:e==="textarea"}function jv(t,e,n,r){_v(r),e=Kl(e,"onChange"),0<e.length&&(n=new Ud("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cs=null,js=null;function s1(t){Zv(t,0)}function Du(t){var e=Ji(t);if(dv(e))return t}function a1(t,e){if(t==="change")return e}var Bv=!1;if(er){var Rc;if(er){var Ac="oninput"in document;if(!Ac){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Ac=typeof dm.oninput=="function"}Rc=Ac}else Rc=!1;Bv=Rc&&(!document.documentMode||9<document.documentMode)}function fm(){Cs&&(Cs.detachEvent("onpropertychange",Hv),js=Cs=null)}function Hv(t){if(t.propertyName==="value"&&Du(js)){var e=[];jv(e,js,t,Vd(t)),Sv(s1,e)}}function l1(t,e,n){t==="focusin"?(fm(),Cs=e,js=n,Cs.attachEvent("onpropertychange",Hv)):t==="focusout"&&fm()}function u1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(js)}function c1(t,e){if(t==="click")return Du(e)}function h1(t,e){if(t==="input"||t==="change")return Du(e)}function d1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:d1;function Bs(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rh.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,e){var n=pm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pm(n)}}function Wv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qv(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function jd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f1(t){var e=qv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wv(n.ownerDocument.documentElement,n)){if(r!==null&&jd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=mm(n,o);var s=mm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p1=er&&"documentMode"in document&&11>=document.documentMode,Yi=null,Th=null,Rs=null,Sh=!1;function gm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sh||Yi==null||Yi!==zl(r)||(r=Yi,"selectionStart"in r&&jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rs&&Bs(Rs,r)||(Rs=r,r=Kl(Th,"onSelect"),0<r.length&&(e=new Ud("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yi)))}function nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xi={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},xc={},Gv={};er&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Vu(t){if(xc[t])return xc[t];if(!Xi[t])return t;var e=Xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gv)return xc[t]=e[n];return t}var Kv=Vu("animationend"),Qv=Vu("animationiteration"),Yv=Vu("animationstart"),Xv=Vu("transitionend"),Jv=new Map,ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){Jv.set(t,e),Ai(e,[t])}for(var Pc=0;Pc<ym.length;Pc++){var kc=ym[Pc],m1=kc.toLowerCase(),g1=kc[0].toUpperCase()+kc.slice(1);ei(m1,"on"+g1)}ei(Kv,"onAnimationEnd");ei(Qv,"onAnimationIteration");ei(Yv,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(Xv,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function vm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mT(r,e,void 0,t),t.currentTarget=null}function Zv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;vm(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;vm(i,l,c),o=u}}}if(Bl)throw t=vh,Bl=!1,vh=null,t}function Le(t,e){var n=e[xh];n===void 0&&(n=e[xh]=new Set);var r=t+"__bubble";n.has(r)||(e_(e,t,2,!1),n.add(r))}function Nc(t,e,n){var r=0;e&&(r|=4),e_(n,t,r,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Hs(t){if(!t[rl]){t[rl]=!0,av.forEach(function(n){n!=="selectionchange"&&(y1.has(n)||Nc(n,!1,t),Nc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,Nc("selectionchange",!1,e))}}function e_(t,e,n,r){switch(bv(e)){case 1:var i=NT;break;case 4:i=DT;break;default:i=bd}n=i.bind(null,e,n,t),i=void 0,!yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dc(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=di(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Sv(function(){var c=o,d=Vd(n),p=[];e:{var m=Jv.get(t);if(m!==void 0){var v=Ud,R=t;switch(t){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":v=GT;break;case"focusin":R="focus",v=Cc;break;case"focusout":R="blur",v=Cc;break;case"beforeblur":case"afterblur":v=Cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=OT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=YT;break;case Kv:case Qv:case Yv:v=FT;break;case Xv:v=JT;break;case"scroll":v=VT;break;case"wheel":v=e1;break;case"copy":case"cut":case"paste":v=$T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lm}var k=(e&4)!==0,N=!k&&t==="scroll",w=k?m!==null?m+"Capture":null:m;k=[];for(var _=c,E;_!==null;){E=_;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,w!==null&&(M=Fs(_,w),M!=null&&k.push(Ws(_,M,E)))),N)break;_=_.return}0<k.length&&(m=new v(m,R,null,n,d),p.push({event:m,listeners:k}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==mh&&(R=n.relatedTarget||n.fromElement)&&(di(R)||R[tr]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(R=n.relatedTarget||n.toElement,v=c,R=R?di(R):null,R!==null&&(N=xi(R),R!==N||R.tag!==5&&R.tag!==6)&&(R=null)):(v=null,R=c),v!==R)){if(k=sm,M="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(k=lm,M="onPointerLeave",w="onPointerEnter",_="pointer"),N=v==null?m:Ji(v),E=R==null?m:Ji(R),m=new k(M,_+"leave",v,n,d),m.target=N,m.relatedTarget=E,M=null,di(d)===c&&(k=new k(w,_+"enter",R,n,d),k.target=E,k.relatedTarget=N,M=k),N=M,v&&R)t:{for(k=v,w=R,_=0,E=k;E;E=$i(E))_++;for(E=0,M=w;M;M=$i(M))E++;for(;0<_-E;)k=$i(k),_--;for(;0<E-_;)w=$i(w),E--;for(;_--;){if(k===w||w!==null&&k===w.alternate)break t;k=$i(k),w=$i(w)}k=null}else k=null;v!==null&&_m(p,m,v,k,!1),R!==null&&N!==null&&_m(p,N,R,k,!0)}}e:{if(m=c?Ji(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var A=a1;else if(hm(m))if(Bv)A=h1;else{A=u1;var U=l1}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=c1);if(A&&(A=A(t,c))){jv(p,A,n,d);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&ch(m,"number",m.value)}switch(U=c?Ji(c):window,t){case"focusin":(hm(U)||U.contentEditable==="true")&&(Yi=U,Th=c,Rs=null);break;case"focusout":Rs=Th=Yi=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,gm(p,n,d);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":gm(p,n,d)}var S;if(zd)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Qi?$v(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Uv&&n.locale!=="ko"&&(Qi||y!=="onCompositionStart"?y==="onCompositionEnd"&&Qi&&(S=Fv()):(xr=d,Fd="value"in xr?xr.value:xr.textContent,Qi=!0)),U=Kl(c,y),0<U.length&&(y=new am(y,t,null,n,d),p.push({event:y,listeners:U}),S?y.data=S:(S=zv(n),S!==null&&(y.data=S)))),(S=n1?r1(t,n):i1(t,n))&&(c=Kl(c,"onBeforeInput"),0<c.length&&(d=new am("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=S))}Zv(p,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fs(t,n),o!=null&&r.unshift(Ws(t,o,i)),o=Fs(t,e),o!=null&&r.push(Ws(t,o,i))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _m(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Fs(n,o),u!=null&&s.unshift(Ws(n,u,l))):i||(u=Fs(n,o),u!=null&&s.push(Ws(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function Em(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(_1,"")}function il(t,e,n){if(e=Em(e),Em(t)!==e&&n)throw Error(H(425))}function Ql(){}var Ih=null,Ch=null;function Rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(t){return wm.resolve(null).then(t).catch(T1)}:Ah;function T1(t){setTimeout(function(){throw t})}function Vc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Do,qs="__reactProps$"+Do,tr="__reactContainer$"+Do,xh="__reactEvents$"+Do,S1="__reactListeners$"+Do,I1="__reactHandles$"+Do;function di(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tm(t);t!==null;){if(n=t[Dn])return n;t=Tm(t)}return e}t=n,n=t.parentNode}return null}function ma(t){return t=t[Dn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Lu(t){return t[qs]||null}var Ph=[],Zi=-1;function ti(t){return{current:t}}function Me(t){0>Zi||(t.current=Ph[Zi],Ph[Zi]=null,Zi--)}function De(t,e){Zi++,Ph[Zi]=t.current,t.current=e}var qr={},xt=ti(qr),Ut=ti(!1),_i=qr;function go(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function Yl(){Me(Ut),Me(xt)}function Sm(t,e,n){if(xt.current!==qr)throw Error(H(168));De(xt,e),De(Ut,n)}function t_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,lT(t)||"Unknown",i));return ze({},n,r)}function Xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,_i=xt.current,De(xt,t),De(Ut,Ut.current),!0}function Im(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=t_(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,Me(Ut),Me(xt),De(xt,t)):Me(Ut),De(Ut,n)}var Qn=null,Ou=!1,Lc=!1;function n_(t){Qn===null?Qn=[t]:Qn.push(t)}function C1(t){Ou=!0,n_(t)}function ni(){if(!Lc&&Qn!==null){Lc=!0;var t=0,e=Re;try{var n=Qn;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,Ou=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(t+1)),Av(Ld,ni),i}finally{Re=e,Lc=!1}}return null}var eo=[],to=0,Jl=null,Zl=0,nn=[],rn=0,Ei=null,Yn=1,Xn="";function li(t,e){eo[to++]=Zl,eo[to++]=Jl,Jl=t,Zl=e}function r_(t,e,n){nn[rn++]=Yn,nn[rn++]=Xn,nn[rn++]=Ei,Ei=t;var r=Yn;t=Xn;var i=32-In(r)-1;r&=~(1<<i),n+=1;var o=32-In(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yn=1<<32-In(e)+i|n<<i|r,Xn=o+t}else Yn=1<<o|n<<i|r,Xn=t}function Bd(t){t.return!==null&&(li(t,1),r_(t,1,0))}function Hd(t){for(;t===Jl;)Jl=eo[--to],eo[to]=null,Zl=eo[--to],eo[to]=null;for(;t===Ei;)Ei=nn[--rn],nn[rn]=null,Xn=nn[--rn],nn[rn]=null,Yn=nn[--rn],nn[rn]=null}var Kt=null,Gt=null,Fe=!1,Tn=null;function i_(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Gt=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ei!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Gt=null,!0):!1;default:return!1}}function kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nh(t){if(Fe){var e=Gt;if(e){var n=e;if(!Cm(t,e)){if(kh(t))throw Error(H(418));e=Lr(n.nextSibling);var r=Kt;e&&Cm(t,e)?i_(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Kt=t)}}else{if(kh(t))throw Error(H(418));t.flags=t.flags&-4097|2,Fe=!1,Kt=t}}}function Rm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function ol(t){if(t!==Kt)return!1;if(!Fe)return Rm(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rh(t.type,t.memoizedProps)),e&&(e=Gt)){if(kh(t))throw o_(),Error(H(418));for(;e;)i_(t,e),e=Lr(e.nextSibling)}if(Rm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Kt?Lr(t.stateNode.nextSibling):null;return!0}function o_(){for(var t=Gt;t;)t=Lr(t.nextSibling)}function yo(){Gt=Kt=null,Fe=!1}function Wd(t){Tn===null?Tn=[t]:Tn.push(t)}var R1=ar.ReactCurrentBatchConfig;function as(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function sl(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Am(t){var e=t._init;return e(t._payload)}function s_(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Fr(w,_),w.index=0,w.sibling=null,w}function o(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,_,E,M){return _===null||_.tag!==6?(_=zc(E,w.mode,M),_.return=w,_):(_=i(_,E),_.return=w,_)}function u(w,_,E,M){var A=E.type;return A===Ki?d(w,_,E.props.children,M,E.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Tr&&Am(A)===_.type)?(M=i(_,E.props),M.ref=as(w,_,E),M.return=w,M):(M=kl(E.type,E.key,E.props,null,w.mode,M),M.ref=as(w,_,E),M.return=w,M)}function c(w,_,E,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=jc(E,w.mode,M),_.return=w,_):(_=i(_,E.children||[]),_.return=w,_)}function d(w,_,E,M,A){return _===null||_.tag!==7?(_=vi(E,w.mode,M,A),_.return=w,_):(_=i(_,E),_.return=w,_)}function p(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zc(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qa:return E=kl(_.type,_.key,_.props,null,w.mode,E),E.ref=as(w,null,_),E.return=w,E;case Gi:return _=jc(_,w.mode,E),_.return=w,_;case Tr:var M=_._init;return p(w,M(_._payload),E)}if(ps(_)||ns(_))return _=vi(_,w.mode,E,null),_.return=w,_;sl(w,_)}return null}function m(w,_,E,M){var A=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:l(w,_,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qa:return E.key===A?u(w,_,E,M):null;case Gi:return E.key===A?c(w,_,E,M):null;case Tr:return A=E._init,m(w,_,A(E._payload),M)}if(ps(E)||ns(E))return A!==null?null:d(w,_,E,M,null);sl(w,E)}return null}function v(w,_,E,M,A){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(E)||null,l(_,w,""+M,A);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Qa:return w=w.get(M.key===null?E:M.key)||null,u(_,w,M,A);case Gi:return w=w.get(M.key===null?E:M.key)||null,c(_,w,M,A);case Tr:var U=M._init;return v(w,_,E,U(M._payload),A)}if(ps(M)||ns(M))return w=w.get(E)||null,d(_,w,M,A,null);sl(_,M)}return null}function R(w,_,E,M){for(var A=null,U=null,S=_,y=_=0,T=null;S!==null&&y<E.length;y++){S.index>y?(T=S,S=null):T=S.sibling;var I=m(w,S,E[y],M);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(w,S),_=o(I,_,y),U===null?A=I:U.sibling=I,U=I,S=T}if(y===E.length)return n(w,S),Fe&&li(w,y),A;if(S===null){for(;y<E.length;y++)S=p(w,E[y],M),S!==null&&(_=o(S,_,y),U===null?A=S:U.sibling=S,U=S);return Fe&&li(w,y),A}for(S=r(w,S);y<E.length;y++)T=v(S,w,y,E[y],M),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?y:T.key),_=o(T,_,y),U===null?A=T:U.sibling=T,U=T);return t&&S.forEach(function(P){return e(w,P)}),Fe&&li(w,y),A}function k(w,_,E,M){var A=ns(E);if(typeof A!="function")throw Error(H(150));if(E=A.call(E),E==null)throw Error(H(151));for(var U=A=null,S=_,y=_=0,T=null,I=E.next();S!==null&&!I.done;y++,I=E.next()){S.index>y?(T=S,S=null):T=S.sibling;var P=m(w,S,I.value,M);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(w,S),_=o(P,_,y),U===null?A=P:U.sibling=P,U=P,S=T}if(I.done)return n(w,S),Fe&&li(w,y),A;if(S===null){for(;!I.done;y++,I=E.next())I=p(w,I.value,M),I!==null&&(_=o(I,_,y),U===null?A=I:U.sibling=I,U=I);return Fe&&li(w,y),A}for(S=r(w,S);!I.done;y++,I=E.next())I=v(S,w,y,I.value,M),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),_=o(I,_,y),U===null?A=I:U.sibling=I,U=I);return t&&S.forEach(function(D){return e(w,D)}),Fe&&li(w,y),A}function N(w,_,E,M){if(typeof E=="object"&&E!==null&&E.type===Ki&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qa:e:{for(var A=E.key,U=_;U!==null;){if(U.key===A){if(A=E.type,A===Ki){if(U.tag===7){n(w,U.sibling),_=i(U,E.props.children),_.return=w,w=_;break e}}else if(U.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Tr&&Am(A)===U.type){n(w,U.sibling),_=i(U,E.props),_.ref=as(w,U,E),_.return=w,w=_;break e}n(w,U);break}else e(w,U);U=U.sibling}E.type===Ki?(_=vi(E.props.children,w.mode,M,E.key),_.return=w,w=_):(M=kl(E.type,E.key,E.props,null,w.mode,M),M.ref=as(w,_,E),M.return=w,w=M)}return s(w);case Gi:e:{for(U=E.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=i(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=jc(E,w.mode,M),_.return=w,w=_}return s(w);case Tr:return U=E._init,N(w,_,U(E._payload),M)}if(ps(E))return R(w,_,E,M);if(ns(E))return k(w,_,E,M);sl(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,E),_.return=w,w=_):(n(w,_),_=zc(E,w.mode,M),_.return=w,w=_),s(w)):n(w,_)}return N}var vo=s_(!0),a_=s_(!1),eu=ti(null),tu=null,no=null,qd=null;function Gd(){qd=no=tu=null}function Kd(t){var e=eu.current;Me(eu),t._currentValue=e}function Dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){tu=t,qd=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Ft=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(qd!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(tu===null)throw Error(H(308));no=t,tu.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var fi=null;function Qd(t){fi===null?fi=[t]:fi.push(t)}function l_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qd(e)):(n.next=i.next,i.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function Yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(_e&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,nr(t,n)}return i=r.interleaved,i===null?(e.next=e,Qd(r)):(e.next=i.next,i.next=e),r.interleaved=e,nr(t,n)}function Il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Od(t,n)}}function xm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nu(t,e,n,r){var i=t.updateQueue;Sr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,d=c=u=null,l=o;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,k=l;switch(m=e,v=n,k.tag){case 1:if(R=k.payload,typeof R=="function"){p=R.call(v,p,m);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=k.payload,m=typeof R=="function"?R.call(v,p,m):R,m==null)break e;p=ze({},p,m);break e;case 2:Sr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=p):d=d.next=v,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ti|=s,t.lanes=s,t.memoizedState=p}}function Pm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var ga={},Ln=ti(ga),Gs=ti(ga),Ks=ti(ga);function pi(t){if(t===ga)throw Error(H(174));return t}function Xd(t,e){switch(De(Ks,e),De(Gs,t),De(Ln,ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dh(e,t)}Me(Ln),De(Ln,e)}function _o(){Me(Ln),Me(Gs),Me(Ks)}function c_(t){pi(Ks.current);var e=pi(Ln.current),n=dh(e,t.type);e!==n&&(De(Gs,t),De(Ln,n))}function Jd(t){Gs.current===t&&(Me(Ln),Me(Gs))}var Ue=ti(0);function ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oc=[];function Zd(){for(var t=0;t<Oc.length;t++)Oc[t]._workInProgressVersionPrimary=null;Oc.length=0}var Cl=ar.ReactCurrentDispatcher,Mc=ar.ReactCurrentBatchConfig,wi=0,$e=null,tt=null,st=null,iu=!1,As=!1,Qs=0,A1=0;function wt(){throw Error(H(321))}function ef(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function tf(t,e,n,r,i,o){if(wi=o,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cl.current=t===null||t.memoizedState===null?N1:D1,t=n(r,i),As){o=0;do{if(As=!1,Qs=0,25<=o)throw Error(H(301));o+=1,st=tt=null,e.updateQueue=null,Cl.current=V1,t=n(r,i)}while(As)}if(Cl.current=ou,e=tt!==null&&tt.next!==null,wi=0,st=tt=$e=null,iu=!1,e)throw Error(H(300));return t}function nf(){var t=Qs!==0;return Qs=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?$e.memoizedState=st=t:st=st.next=t,st}function cn(){if(tt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=st===null?$e.memoizedState:st.next;if(e!==null)st=e,tt=t;else{if(t===null)throw Error(H(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},st===null?$e.memoizedState=st=t:st=st.next=t}return st}function Ys(t,e){return typeof e=="function"?e(t):e}function bc(t){var e=cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((wi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,$e.lanes|=d,Ti|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,Rn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,$e.lanes|=o,Ti|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Rn(o,e.memoizedState)||(Ft=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function h_(){}function d_(t,e){var n=$e,r=cn(),i=e(),o=!Rn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ft=!0),r=r.queue,rf(m_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Xs(9,p_.bind(null,n,r,i,e),void 0,null),at===null)throw Error(H(349));(wi&30)!==0||f_(n,e,i)}return i}function f_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p_(t,e,n,r){e.value=n,e.getSnapshot=r,g_(e)&&y_(t)}function m_(t,e,n){return n(function(){g_(e)&&y_(t)})}function g_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function y_(t){var e=nr(t,1);e!==null&&Cn(e,t,1,-1)}function km(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=k1.bind(null,$e,t),[e.memoizedState,t]}function Xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v_(){return cn().memoizedState}function Rl(t,e,n,r){var i=kn();$e.flags|=t,i.memoizedState=Xs(1|e,n,void 0,r===void 0?null:r)}function Mu(t,e,n,r){var i=cn();r=r===void 0?null:r;var o=void 0;if(tt!==null){var s=tt.memoizedState;if(o=s.destroy,r!==null&&ef(r,s.deps)){i.memoizedState=Xs(e,n,o,r);return}}$e.flags|=t,i.memoizedState=Xs(1|e,n,o,r)}function Nm(t,e){return Rl(8390656,8,t,e)}function rf(t,e){return Mu(2048,8,t,e)}function __(t,e){return Mu(4,2,t,e)}function E_(t,e){return Mu(4,4,t,e)}function w_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T_(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4,4,w_.bind(null,e,t),n)}function of(){}function S_(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ef(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I_(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ef(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C_(t,e,n){return(wi&21)===0?(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n):(Rn(n,e)||(n=kv(),$e.lanes|=n,Ti|=n,t.baseState=!0),e)}function x1(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Mc.transition;Mc.transition={};try{t(!1),e()}finally{Re=n,Mc.transition=r}}function R_(){return cn().memoizedState}function P1(t,e,n){var r=br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A_(t))x_(e,n);else if(n=l_(t,e,n,r),n!==null){var i=Nt();Cn(n,t,r,i),P_(n,e,r)}}function k1(t,e,n){var r=br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A_(t))x_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Rn(l,s)){var u=e.interleaved;u===null?(i.next=i,Qd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=l_(t,e,i,r),n!==null&&(i=Nt(),Cn(n,t,r,i),P_(n,e,r))}}function A_(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function x_(t,e){As=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P_(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Od(t,n)}}var ou={readContext:un,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},N1={readContext:un,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Nm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4194308,4,w_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rl(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P1.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:km,useDebugValue:of,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=km(!1),e=t[0];return t=x1.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=kn();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),at===null)throw Error(H(349));(wi&30)!==0||f_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Nm(m_.bind(null,r,o,t),[t]),r.flags|=2048,Xs(9,p_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kn(),e=at.identifierPrefix;if(Fe){var n=Xn,r=Yn;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D1={readContext:un,useCallback:S_,useContext:un,useEffect:rf,useImperativeHandle:T_,useInsertionEffect:__,useLayoutEffect:E_,useMemo:I_,useReducer:bc,useRef:v_,useState:function(){return bc(Ys)},useDebugValue:of,useDeferredValue:function(t){var e=cn();return C_(e,tt.memoizedState,t)},useTransition:function(){var t=bc(Ys)[0],e=cn().memoizedState;return[t,e]},useMutableSource:h_,useSyncExternalStore:d_,useId:R_,unstable_isNewReconciler:!1},V1={readContext:un,useCallback:S_,useContext:un,useEffect:rf,useImperativeHandle:T_,useInsertionEffect:__,useLayoutEffect:E_,useMemo:I_,useReducer:Fc,useRef:v_,useState:function(){return Fc(Ys)},useDebugValue:of,useDeferredValue:function(t){var e=cn();return tt===null?e.memoizedState=t:C_(e,tt.memoizedState,t)},useTransition:function(){var t=Fc(Ys)[0],e=cn().memoizedState;return[t,e]},useMutableSource:h_,useSyncExternalStore:d_,useId:R_,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bu={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=br(t),o=Jn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Or(t,o,i),e!==null&&(Cn(e,t,i,r),Il(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=br(t),o=Jn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Or(t,o,i),e!==null&&(Cn(e,t,i,r),Il(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=br(t),i=Jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Or(t,i,r),e!==null&&(Cn(e,t,r,n),Il(e,t,r))}};function Dm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Bs(n,r)||!Bs(i,o):!0}function k_(t,e,n){var r=!1,i=qr,o=e.contextType;return typeof o=="object"&&o!==null?o=un(o):(i=$t(e)?_i:xt.current,r=e.contextTypes,o=(r=r!=null)?go(t,i):qr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bu.enqueueReplaceState(e,e.state,null)}function Lh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=un(o):(o=$t(e)?_i:xt.current,i.context=go(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Vh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bu.enqueueReplaceState(i,i.state,null),nu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=aT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Uc(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Oh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L1=typeof WeakMap=="function"?WeakMap:Map;function N_(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){au||(au=!0,Wh=r),Oh(t,e)},n}function D_(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Oh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Oh(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Lm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K1.bind(null,t,e,n),e.then(t,t))}function Om(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mm(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var O1=ar.ReactCurrentOwner,Ft=!1;function kt(t,e,n,r){e.child=t===null?a_(e,null,n,r):vo(e,t.child,n,r)}function bm(t,e,n,r,i){n=n.render;var o=e.ref;return uo(e,i),r=tf(t,e,n,r,o,i),n=nf(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rr(t,e,i)):(Fe&&n&&Bd(e),e.flags|=1,kt(t,e,r,i),e.child)}function Fm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ff(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,V_(t,e,o,r,i)):(t=kl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(s,r)&&t.ref===e.ref)return rr(t,e,i)}return e.flags|=1,t=Fr(o,r),t.ref=e.ref,t.return=e,e.child=t}function V_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Bs(o,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Ft=!0);else return e.lanes=t.lanes,rr(t,e,i)}return Mh(t,e,n,r,i)}function L_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(io,Wt),Wt|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(io,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(io,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(io,Wt),Wt|=r;return kt(t,e,i,n),e.child}function O_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mh(t,e,n,r,i){var o=$t(n)?_i:xt.current;return o=go(e,o),uo(e,i),n=tf(t,e,n,r,o,i),r=nf(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rr(t,e,i)):(Fe&&r&&Bd(e),e.flags|=1,kt(t,e,n,i),e.child)}function Um(t,e,n,r,i){if($t(n)){var o=!0;Xl(e)}else o=!1;if(uo(e,i),e.stateNode===null)Al(t,e),k_(e,n,r),Lh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=$t(n)?_i:xt.current,c=go(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Vm(e,s,r,c),Sr=!1;var m=e.memoizedState;s.state=m,nu(e,r,s,i),u=e.memoizedState,l!==r||m!==u||Ut.current||Sr?(typeof d=="function"&&(Vh(e,n,d,r),u=e.memoizedState),(l=Sr||Dm(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,u_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:_n(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=$t(n)?_i:xt.current,u=go(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Vm(e,s,r,u),Sr=!1,m=e.memoizedState,s.state=m,nu(e,r,s,i);var R=e.memoizedState;l!==p||m!==R||Ut.current||Sr?(typeof v=="function"&&(Vh(e,n,v,r),R=e.memoizedState),(c=Sr||Dm(e,n,c,r,m,R,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,R,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,R,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),s.props=r,s.state=R,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return bh(t,e,n,r,o,i)}function bh(t,e,n,r,i,o){O_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Im(e,n,!1),rr(t,e,o);r=e.stateNode,O1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=vo(e,t.child,null,o),e.child=vo(e,null,l,o)):kt(t,e,l,o),e.memoizedState=r.state,i&&Im(e,n,!0),e.child}function M_(t){var e=t.stateNode;e.pendingContext?Sm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sm(t,e.context,!1),Xd(t,e.containerInfo)}function $m(t,e,n,r,i){return yo(),Wd(i),e.flags|=256,kt(t,e,n,r),e.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function b_(t,e,n){var r=e.pendingProps,i=Ue.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Ue,i&1),t===null)return Nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=$u(s,r,0,null),t=vi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Uh(n),e.memoizedState=Fh,t):sf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return M1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Fr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Fr(l,o):(o=vi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Uh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Fh,r}return o=t.child,t=o.sibling,r=Fr(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sf(t,e){return e=$u({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function al(t,e,n,r){return r!==null&&Wd(r),vo(e,t.child,null,n),t=sf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Uc(Error(H(422))),al(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=$u({mode:"visible",children:r.children},i,0,null),o=vi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&vo(e,t.child,null,s),e.child.memoizedState=Uh(s),e.memoizedState=Fh,o);if((e.mode&1)===0)return al(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(H(419)),r=Uc(o,r,void 0),al(t,e,s,r)}if(l=(s&t.childLanes)!==0,Ft||l){if(r=at,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,nr(t,i),Cn(r,t,i,-1))}return df(),r=Uc(Error(H(421))),al(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Q1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gt=Lr(i.nextSibling),Kt=e,Fe=!0,Tn=null,t!==null&&(nn[rn++]=Yn,nn[rn++]=Xn,nn[rn++]=Ei,Yn=t.id,Xn=t.overflow,Ei=e),e=sf(e,r.children),e.flags|=4096,e)}function zm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dh(t.return,e,n)}function $c(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function F_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(kt(t,e,r.children,n),r=Ue.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zm(t,n,e);else if(t.tag===19)zm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Ue,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ru(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$c(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ru(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$c(e,!0,n,null,o);break;case"together":$c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Al(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ti|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function b1(t,e,n){switch(e.tag){case 3:M_(e),yo();break;case 5:c_(e);break;case 1:$t(e.type)&&Xl(e);break;case 4:Xd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Ue,Ue.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?b_(t,e,n):(De(Ue,Ue.current&1),t=rr(t,e,n),t!==null?t.sibling:null);De(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return F_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,L_(t,e,n)}return rr(t,e,n)}var U_,$h,$_,z_;U_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$h=function(){};$_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pi(Ln.current);var o=null;switch(n){case"input":i=lh(t,i),r=lh(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=hh(t,i),r=hh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ql)}fh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ms.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Le("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};z_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ls(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function F1(t,e,n){var r=e.pendingProps;switch(Hd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return $t(e.type)&&Yl(),Tt(e),null;case 3:return r=e.stateNode,_o(),Me(Ut),Me(xt),Zd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ol(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Tn!==null&&(Kh(Tn),Tn=null))),$h(t,e),Tt(e),null;case 5:Jd(e);var i=pi(Ks.current);if(n=e.type,t!==null&&e.stateNode!=null)$_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Tt(e),null}if(t=pi(Ln.current),ol(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dn]=e,r[qs]=o,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<gs.length;i++)Le(gs[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Yp(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":Jp(r,o),Le("invalid",r)}fh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&il(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&il(r.textContent,l,t),i=["children",""+l]):Ms.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Le("scroll",r)}switch(n){case"input":Ya(r),Xp(r,o,!0);break;case"textarea":Ya(r),Zp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ql)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Dn]=e,t[qs]=r,U_(t,e,!1,!1),e.stateNode=t;e:{switch(s=ph(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<gs.length;i++)Le(gs[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":Yp(t,r),i=lh(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Le("invalid",t);break;case"textarea":Jp(t,r),i=hh(t,r),Le("invalid",t);break;default:i=r}fh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?vv(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gv(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bs(t,u):typeof u=="number"&&bs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ms.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Le("scroll",t):u!=null&&Pd(t,o,u,s))}switch(n){case"input":Ya(t),Xp(t,r,!1);break;case"textarea":Ya(t),Zp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?oo(t,!!r.multiple,o,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)z_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=pi(Ks.current),pi(Ln.current),ol(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(o=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:il(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Me(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Gt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)o_(),yo(),e.flags|=98560,o=!1;else if(o=ol(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Dn]=e}else yo(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else Tn!==null&&(Kh(Tn),Tn=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ue.current&1)!==0?nt===0&&(nt=3):df())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return _o(),$h(t,e),t===null&&Hs(e.stateNode.containerInfo),Tt(e),null;case 10:return Kd(e.type._context),Tt(e),null;case 17:return $t(e.type)&&Yl(),Tt(e),null;case 19:if(Me(Ue),o=e.memoizedState,o===null)return Tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ls(o,!1);else{if(nt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=ru(t),s!==null){for(e.flags|=128,ls(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ue,Ue.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ke()>wo&&(e.flags|=128,r=!0,ls(o,!1),e.lanes=4194304)}else{if(!r)if(t=ru(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Fe)return Tt(e),null}else 2*Ke()-o.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,ls(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,n=Ue.current,De(Ue,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return hf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Wt&1073741824)!==0&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function U1(t,e){switch(Hd(e),e.tag){case 1:return $t(e.type)&&Yl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Me(Ut),Me(xt),Zd(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Jd(e),null;case 13:if(Me(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ue),null;case 4:return _o(),null;case 10:return Kd(e.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var ll=!1,Ct=!1,$1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function zh(t,e,n){try{n()}catch(r){qe(t,e,r)}}var jm=!1;function z1(t,e){if(Ih=ql,t=qv(),jd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++d===r&&(u=s),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ch={focusedElem:t,selectionRange:n},ql=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var R=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var k=R.memoizedProps,N=R.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:_n(e.type,k),N);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(M){qe(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return R=jm,jm=!1,R}function xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&zh(e,n,o)}i=i.next}while(i!==r)}}function Fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j_(t){var e=t.alternate;e!==null&&(t.alternate=null,j_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[qs],delete e[xh],delete e[S1],delete e[I1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B_(t){return t.tag===5||t.tag===3||t.tag===4}function Bm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ql));else if(r!==4&&(t=t.child,t!==null))for(Bh(t,e,n),t=t.sibling;t!==null;)Bh(t,e,n),t=t.sibling}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}var dt=null,En=!1;function Er(t,e,n){for(n=n.child;n!==null;)H_(t,e,n),n=n.sibling}function H_(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ku,n)}catch{}switch(n.tag){case 5:Ct||ro(n,e);case 6:var r=dt,i=En;dt=null,Er(t,e,n),dt=r,En=i,dt!==null&&(En?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(En?(t=dt,n=n.stateNode,t.nodeType===8?Vc(t.parentNode,n):t.nodeType===1&&Vc(t,n),zs(t)):Vc(dt,n.stateNode));break;case 4:r=dt,i=En,dt=n.stateNode.containerInfo,En=!0,Er(t,e,n),dt=r,En=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&zh(n,e,s),i=i.next}while(i!==r)}Er(t,e,n);break;case 1:if(!Ct&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qe(n,e,l)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Er(t,e,n),Ct=r):Er(t,e,n);break;default:Er(t,e,n)}}function Hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $1),e.forEach(function(r){var i=Y1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,En=!1;break e;case 3:dt=l.stateNode.containerInfo,En=!0;break e;case 4:dt=l.stateNode.containerInfo,En=!0;break e}l=l.return}if(dt===null)throw Error(H(160));H_(o,s,i),dt=null,En=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){qe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W_(e,t),e=e.sibling}function W_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Pn(t),r&4){try{xs(3,t,t.return),Fu(3,t)}catch(k){qe(t,t.return,k)}try{xs(5,t,t.return)}catch(k){qe(t,t.return,k)}}break;case 1:vn(e,t),Pn(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(vn(e,t),Pn(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var i=t.stateNode;try{bs(i,"")}catch(k){qe(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&fv(i,o),ph(l,s);var c=ph(l,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];d==="style"?vv(i,p):d==="dangerouslySetInnerHTML"?gv(i,p):d==="children"?bs(i,p):Pd(i,d,p,c)}switch(l){case"input":uh(i,o);break;case"textarea":pv(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?oo(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?oo(i,!!o.multiple,o.defaultValue,!0):oo(i,!!o.multiple,o.multiple?[]:"",!1))}i[qs]=o}catch(k){qe(t,t.return,k)}}break;case 6:if(vn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){qe(t,t.return,k)}}break;case 3:if(vn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(k){qe(t,t.return,k)}break;case 4:vn(e,t),Pn(t);break;case 13:vn(e,t),Pn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(uf=Ke())),r&4&&Hm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||d,vn(e,t),Ct=c):vn(e,t),Pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&(t.mode&1)!==0)for(Y=t,d=t.child;d!==null;){for(p=Y=d;Y!==null;){switch(m=Y,v=m.child,m.tag){case 0:case 11:case 14:case 15:xs(4,m,m.return);break;case 1:ro(m,m.return);var R=m.stateNode;if(typeof R.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(k){qe(r,n,k)}}break;case 5:ro(m,m.return);break;case 22:if(m.memoizedState!==null){qm(p);continue}}v!==null?(v.return=m,Y=v):qm(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=yv("display",s))}catch(k){qe(t,t.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){qe(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vn(e,t),Pn(t),r&4&&Hm(t);break;case 21:break;default:vn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B_(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bs(i,""),r.flags&=-33);var o=Bm(t);Hh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Bm(t);Bh(t,l,s);break;default:throw Error(H(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j1(t,e,n){Y=t,q_(t)}function q_(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ll;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ct;l=ll;var c=Ct;if(ll=s,(Ct=u)&&!c)for(Y=i;Y!==null;)s=Y,u=s.child,s.tag===22&&s.memoizedState!==null?Gm(i):u!==null?(u.return=s,Y=u):Gm(i);for(;o!==null;)Y=o,q_(o),o=o.sibling;Y=i,ll=l,Ct=c}Wm(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,Y=o):Wm(t)}}function Wm(t){for(;Y!==null;){var e=Y;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Ct||Fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Pm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pm(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&zs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ct||e.flags&512&&jh(e)}catch(m){qe(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function qm(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Gm(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fu(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){qe(e,i,u)}}var o=e.return;try{jh(e)}catch(u){qe(e,o,u)}break;case 5:var s=e.return;try{jh(e)}catch(u){qe(e,s,u)}}}catch(u){qe(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var B1=Math.ceil,su=ar.ReactCurrentDispatcher,af=ar.ReactCurrentOwner,an=ar.ReactCurrentBatchConfig,_e=0,at=null,Ye=null,mt=0,Wt=0,io=ti(0),nt=0,Js=null,Ti=0,Uu=0,lf=0,Ps=null,bt=null,uf=0,wo=1/0,Kn=null,au=!1,Wh=null,Mr=null,ul=!1,Pr=null,lu=0,ks=0,qh=null,xl=-1,Pl=0;function Nt(){return(_e&6)!==0?Ke():xl!==-1?xl:xl=Ke()}function br(t){return(t.mode&1)===0?1:(_e&2)!==0&&mt!==0?mt&-mt:R1.transition!==null?(Pl===0&&(Pl=kv()),Pl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:bv(t.type)),t)}function Cn(t,e,n,r){if(50<ks)throw ks=0,qh=null,Error(H(185));fa(t,n,r),((_e&2)===0||t!==at)&&(t===at&&((_e&2)===0&&(Uu|=n),nt===4&&Rr(t,mt)),zt(t,r),n===1&&_e===0&&(e.mode&1)===0&&(wo=Ke()+500,Ou&&ni()))}function zt(t,e){var n=t.callbackNode;RT(t,e);var r=Wl(t,t===at?mt:0);if(r===0)n!==null&&nm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nm(n),e===1)t.tag===0?C1(Km.bind(null,t)):n_(Km.bind(null,t)),w1(function(){(_e&6)===0&&ni()}),n=null;else{switch(Nv(r)){case 1:n=Ld;break;case 4:n=xv;break;case 16:n=Hl;break;case 536870912:n=Pv;break;default:n=Hl}n=e0(n,G_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G_(t,e){if(xl=-1,Pl=0,(_e&6)!==0)throw Error(H(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=Wl(t,t===at?mt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=uu(t,r);else{e=r;var i=_e;_e|=2;var o=Q_();(at!==t||mt!==e)&&(Kn=null,wo=Ke()+500,yi(t,e));do try{q1();break}catch(l){K_(t,l)}while(1);Gd(),su.current=o,_e=i,Ye!==null?e=0:(at=null,mt=0,e=nt)}if(e!==0){if(e===2&&(i=_h(t),i!==0&&(r=i,e=Gh(t,i))),e===1)throw n=Js,yi(t,0),Rr(t,r),zt(t,Ke()),n;if(e===6)Rr(t,r);else{if(i=t.current.alternate,(r&30)===0&&!H1(i)&&(e=uu(t,r),e===2&&(o=_h(t),o!==0&&(r=o,e=Gh(t,o))),e===1))throw n=Js,yi(t,0),Rr(t,r),zt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ui(t,bt,Kn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=uf+500-Ke(),10<e)){if(Wl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ah(ui.bind(null,t,bt,Kn),e);break}ui(t,bt,Kn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-In(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B1(r/1960))-r,10<r){t.timeoutHandle=Ah(ui.bind(null,t,bt,Kn),r);break}ui(t,bt,Kn);break;case 5:ui(t,bt,Kn);break;default:throw Error(H(329))}}}return zt(t,Ke()),t.callbackNode===n?G_.bind(null,t):null}function Gh(t,e){var n=Ps;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=uu(t,e),t!==2&&(e=bt,bt=n,e!==null&&Kh(e)),t}function Kh(t){bt===null?bt=t:bt.push.apply(bt,t)}function H1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Rn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~lf,e&=~Uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function Km(t){if((_e&6)!==0)throw Error(H(327));co();var e=Wl(t,0);if((e&1)===0)return zt(t,Ke()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=_h(t);r!==0&&(e=r,n=Gh(t,r))}if(n===1)throw n=Js,yi(t,0),Rr(t,e),zt(t,Ke()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,bt,Kn),zt(t,Ke()),null}function cf(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(wo=Ke()+500,Ou&&ni())}}function Si(t){Pr!==null&&Pr.tag===0&&(_e&6)===0&&co();var e=_e;_e|=1;var n=an.transition,r=Re;try{if(an.transition=null,Re=1,t)return t()}finally{Re=r,an.transition=n,_e=e,(_e&6)===0&&ni()}}function hf(){Wt=io.current,Me(io)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E1(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Hd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yl();break;case 3:_o(),Me(Ut),Me(xt),Zd();break;case 5:Jd(r);break;case 4:_o();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:Kd(r.type._context);break;case 22:case 23:hf()}n=n.return}if(at=t,Ye=t=Fr(t.current,null),mt=Wt=e,nt=0,Js=null,lf=Uu=Ti=0,bt=Ps=null,fi!==null){for(e=0;e<fi.length;e++)if(n=fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fi=null}return t}function K_(t,e){do{var n=Ye;try{if(Gd(),Cl.current=ou,iu){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iu=!1}if(wi=0,st=tt=$e=null,As=!1,Qs=0,af.current=null,n===null||n.return===null){nt=1,Js=e,Ye=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if((d.mode&1)===0&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Om(s);if(v!==null){v.flags&=-257,Mm(v,s,l,o,e),v.mode&1&&Lm(o,c,e),e=v,u=c;var R=e.updateQueue;if(R===null){var k=new Set;k.add(u),e.updateQueue=k}else R.add(u);break e}else{if((e&1)===0){Lm(o,c,e),df();break e}u=Error(H(426))}}else if(Fe&&l.mode&1){var N=Om(s);if(N!==null){(N.flags&65536)===0&&(N.flags|=256),Mm(N,s,l,o,e),Wd(Eo(u,l));break e}}o=u=Eo(u,l),nt!==4&&(nt=2),Ps===null?Ps=[o]:Ps.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=N_(o,u,e);xm(o,w);break e;case 1:l=u;var _=o.type,E=o.stateNode;if((o.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Mr===null||!Mr.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=D_(o,l,e);xm(o,M);break e}}o=o.return}while(o!==null)}X_(n)}catch(A){e=A,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function Q_(){var t=su.current;return su.current=ou,t===null?ou:t}function df(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||(Ti&268435455)===0&&(Uu&268435455)===0||Rr(at,mt)}function uu(t,e){var n=_e;_e|=2;var r=Q_();(at!==t||mt!==e)&&(Kn=null,yi(t,e));do try{W1();break}catch(i){K_(t,i)}while(1);if(Gd(),_e=n,su.current=r,Ye!==null)throw Error(H(261));return at=null,mt=0,nt}function W1(){for(;Ye!==null;)Y_(Ye)}function q1(){for(;Ye!==null&&!yT();)Y_(Ye)}function Y_(t){var e=Z_(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?X_(t):Ye=e,af.current=null}function X_(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=F1(n,e,Wt),n!==null){Ye=n;return}}else{if(n=U1(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ye=null;return}}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);nt===0&&(nt=5)}function ui(t,e,n){var r=Re,i=an.transition;try{an.transition=null,Re=1,G1(t,e,n,r)}finally{an.transition=i,Re=r}return null}function G1(t,e,n,r){do co();while(Pr!==null);if((_e&6)!==0)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(AT(t,o),t===at&&(Ye=at=null,mt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ul||(ul=!0,e0(Hl,function(){return co(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=an.transition,an.transition=null;var s=Re;Re=1;var l=_e;_e|=4,af.current=null,z1(t,n),W_(n,t),f1(Ch),ql=!!Ih,Ch=Ih=null,t.current=n,j1(n),vT(),_e=l,Re=s,an.transition=o}else t.current=n;if(ul&&(ul=!1,Pr=t,lu=i),o=t.pendingLanes,o===0&&(Mr=null),wT(n.stateNode),zt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(au)throw au=!1,t=Wh,Wh=null,t;return(lu&1)!==0&&t.tag!==0&&co(),o=t.pendingLanes,(o&1)!==0?t===qh?ks++:(ks=0,qh=t):ks=0,ni(),null}function co(){if(Pr!==null){var t=Nv(lu),e=an.transition,n=Re;try{if(an.transition=null,Re=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,lu=0,(_e&6)!==0)throw Error(H(331));var i=_e;for(_e|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if((Y.flags&16)!==0){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:xs(8,d,o)}var p=d.child;if(p!==null)p.return=d,Y=p;else for(;Y!==null;){d=Y;var m=d.sibling,v=d.return;if(j_(d),d===c){Y=null;break}if(m!==null){m.return=v,Y=m;break}Y=v}}}var R=o.alternate;if(R!==null){var k=R.child;if(k!==null){R.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}Y=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:xs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Y=w;break e}Y=o.return}}var _=t.current;for(Y=_;Y!==null;){s=Y;var E=s.child;if((s.subtreeFlags&2064)!==0&&E!==null)E.return=s,Y=E;else e:for(s=_;Y!==null;){if(l=Y,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:Fu(9,l)}}catch(A){qe(l,l.return,A)}if(l===s){Y=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,Y=M;break e}Y=l.return}}if(_e=i,ni(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ku,t)}catch{}r=!0}return r}finally{Re=n,an.transition=e}}return!1}function Qm(t,e,n){e=Eo(n,e),e=N_(t,e,1),t=Or(t,e,1),e=Nt(),t!==null&&(fa(t,1,e),zt(t,e))}function qe(t,e,n){if(t.tag===3)Qm(t,t,n);else for(;e!==null;){if(e.tag===3){Qm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=Eo(n,t),t=D_(e,t,1),e=Or(e,t,1),t=Nt(),e!==null&&(fa(e,1,t),zt(e,t));break}}e=e.return}}function K1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>Ke()-uf?yi(t,0):lf|=n),zt(t,e)}function J_(t,e){e===0&&((t.mode&1)===0?e=1:(e=Za,Za<<=1,(Za&130023424)===0&&(Za=4194304)));var n=Nt();t=nr(t,e),t!==null&&(fa(t,e,n),zt(t,n))}function Q1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J_(t,n)}function Y1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),J_(t,n)}var Z_;Z_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Ft=!1,b1(t,e,n);Ft=(t.flags&131072)!==0}else Ft=!1,Fe&&(e.flags&1048576)!==0&&r_(e,Zl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Al(t,e),t=e.pendingProps;var i=go(e,xt.current);uo(e,n),i=tf(null,e,r,t,i,n);var o=nf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(o=!0,Xl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yd(e),i.updater=bu,e.stateNode=i,i._reactInternals=e,Lh(e,r,t,n),e=bh(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&Bd(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Al(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J1(r),t=_n(r,t),i){case 0:e=Mh(null,e,r,t,n);break e;case 1:e=Um(null,e,r,t,n);break e;case 11:e=bm(null,e,r,t,n);break e;case 14:e=Fm(null,e,r,_n(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Mh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Um(t,e,r,i,n);case 3:e:{if(M_(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,u_(t,e),nu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Eo(Error(H(423)),e),e=$m(t,e,r,n,i);break e}else if(r!==i){i=Eo(Error(H(424)),e),e=$m(t,e,r,n,i);break e}else for(Gt=Lr(e.stateNode.containerInfo.firstChild),Kt=e,Fe=!0,Tn=null,n=a_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),r===i){e=rr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return c_(e),t===null&&Nh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Rh(r,i)?s=null:o!==null&&Rh(r,o)&&(e.flags|=32),O_(t,e),kt(t,e,s,n),e.child;case 6:return t===null&&Nh(e),null;case 13:return b_(t,e,n);case 4:return Xd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vo(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),bm(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,De(eu,r._currentValue),r._currentValue=s,o!==null)if(Rn(o.value,s)){if(o.children===i.children&&!Ut.current){e=rr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Jn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Dh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=un(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),Fm(t,e,r,i,n);case 15:return V_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Al(t,e),e.tag=1,$t(r)?(t=!0,Xl(e)):t=!1,uo(e,n),k_(e,r,i),Lh(e,r,i,n),bh(null,e,r,!0,t,n);case 19:return F_(t,e,n);case 22:return L_(t,e,n)}throw Error(H(156,e.tag))};function e0(t,e){return Av(t,e)}function X1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new X1(t,e,n,r)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J1(t){if(typeof t=="function")return ff(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nd)return 11;if(t===Dd)return 14}return 2}function Fr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ff(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ki:return vi(n.children,i,o,e);case kd:s=8,i|=8;break;case ih:return t=sn(12,n,e,i|2),t.elementType=ih,t.lanes=o,t;case oh:return t=sn(13,n,e,i),t.elementType=oh,t.lanes=o,t;case sh:return t=sn(19,n,e,i),t.elementType=sh,t.lanes=o,t;case cv:return $u(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lv:s=10;break e;case uv:s=9;break e;case Nd:s=11;break e;case Dd:s=14;break e;case Tr:s=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=sn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function vi(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function $u(t,e,n,r){return t=sn(22,t,r,e),t.elementType=cv,t.lanes=n,t.stateNode={isHidden:!1},t}function zc(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function jc(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tc(0),this.expirationTimes=Tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pf(t,e,n,r,i,o,s,l,u){return t=new Z1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(o),t}function eS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t0(t){if(!t)return qr;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if($t(n))return t_(t,n,e)}return e}function n0(t,e,n,r,i,o,s,l,u){return t=pf(n,r,!0,t,i,o,s,l,u),t.context=t0(null),n=t.current,r=Nt(),i=br(n),o=Jn(r,i),o.callback=e!=null?e:null,Or(n,o,i),t.current.lanes=i,fa(t,i,r),zt(t,r),t}function zu(t,e,n,r){var i=e.current,o=Nt(),s=br(i);return n=t0(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(i,e,s),t!==null&&(Cn(t,i,s,o),Il(t,i,s)),s}function cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ym(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mf(t,e){Ym(t,e),(t=t.alternate)&&Ym(t,e)}function tS(){return null}var r0=typeof reportError=="function"?reportError:function(t){console.error(t)};function gf(t){this._internalRoot=t}ju.prototype.render=gf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));zu(t,e,null,null)};ju.prototype.unmount=gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Si(function(){zu(null,t,null,null)}),e[tr]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&Mv(t)}};function yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xm(){}function nS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=cu(s);o.call(c)}}var s=n0(e,r,t,0,null,!1,!1,"",Xm);return t._reactRootContainer=s,t[tr]=s.current,Hs(t.nodeType===8?t.parentNode:t),Si(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=cu(u);l.call(c)}}var u=pf(t,0,!1,null,null,!1,!1,"",Xm);return t._reactRootContainer=u,t[tr]=u.current,Hs(t.nodeType===8?t.parentNode:t),Si(function(){zu(e,u,n,r)}),u}function Hu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=cu(s);l.call(u)}}zu(e,s,t,i)}else s=nS(n,e,t,i,r);return cu(s)}Dv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ms(e.pendingLanes);n!==0&&(Od(e,n|1),zt(e,Ke()),(_e&6)===0&&(wo=Ke()+500,ni()))}break;case 13:Si(function(){var r=nr(t,1);if(r!==null){var i=Nt();Cn(r,t,1,i)}}),mf(t,1)}};Md=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=Nt();Cn(e,t,134217728,n)}mf(t,134217728)}};Vv=function(t){if(t.tag===13){var e=br(t),n=nr(t,e);if(n!==null){var r=Nt();Cn(n,t,e,r)}mf(t,e)}};Lv=function(){return Re};Ov=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};gh=function(t,e,n){switch(e){case"input":if(uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lu(r);if(!i)throw Error(H(90));dv(r),uh(r,i)}}}break;case"textarea":pv(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};wv=cf;Tv=Si;var rS={usingClientEntryPoint:!1,Events:[ma,Ji,Lu,_v,Ev,cf]},us={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iS={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cv(t),t===null?null:t.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||tS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ku=cl.inject(iS),Vn=cl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(e))throw Error(H(200));return eS(t,e,null,n)};Yt.createRoot=function(t,e){if(!yf(t))throw Error(H(299));var n=!1,r="",i=r0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pf(t,1,!1,null,null,n,!1,r,i),t[tr]=e.current,Hs(t.nodeType===8?t.parentNode:t),new gf(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Cv(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Si(t)};Yt.hydrate=function(t,e,n){if(!Bu(e))throw Error(H(200));return Hu(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!yf(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=r0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=n0(e,null,t,1,n!=null?n:null,i,!1,o,s),t[tr]=e.current,Hs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ju(e)};Yt.render=function(t,e,n){if(!Bu(e))throw Error(H(200));return Hu(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!Bu(t))throw Error(H(40));return t._reactRootContainer?(Si(function(){Hu(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1};Yt.unstable_batchedUpdates=cf;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bu(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Hu(t,e,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Yt})(Rd);var Jm=Rd.exports;nh.createRoot=Jm.createRoot,nh.hydrateRoot=Jm.hydrateRoot;const oS="modulepreload",sS=function(t){return"/"+t},Zm={},aS=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=sS(o),o in Zm)return;Zm[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===o&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":oS,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};var vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.parse=pS;vf.serialize=mS;const lS=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,uS=/^[\u0021-\u003A\u003C-\u007E]*$/,cS=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,hS=/^[\u0020-\u003A\u003D-\u007E]*$/,dS=Object.prototype.toString,fS=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function pS(t,e){const n=new fS,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||gS;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const l=t.indexOf(";",o),u=l===-1?r:l;if(s>u){o=t.lastIndexOf(";",s-1)+1;continue}const c=eg(t,o,s),d=tg(t,s,c),p=t.slice(c,d);if(n[p]===void 0){let m=eg(t,s+1,u),v=tg(t,u,m);const R=i(t.slice(m,v));n[p]=R}o=u+1}while(o<r);return n}function eg(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function tg(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function mS(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!lS.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!uS.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!cS.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!hS.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!yS(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function gS(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function yS(t){return dS.call(t)==="[object Date]"}var Wu={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS=F.exports,_S=Symbol.for("react.element"),ES=Symbol.for("react.fragment"),wS=Object.prototype.hasOwnProperty,TS=vS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SS={key:!0,ref:!0,__self:!0,__source:!0};function i0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)wS.call(e,r)&&!SS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_S,type:t,key:o,ref:s,props:i,_owner:TS.current}}qu.Fragment=ES;qu.jsx=i0;qu.jsxs=i0;(function(t){t.exports=qu})(Wu);const IS=Wu.exports.Fragment,j=Wu.exports.jsx,we=Wu.exports.jsxs;var o0=t=>{throw TypeError(t)},CS=(t,e,n)=>e.has(t)||o0("Cannot "+n),Bc=(t,e,n)=>(CS(t,e,"read from private field"),n?n.call(t):e.get(t)),RS=(t,e,n)=>e.has(t)?o0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ng="popstate";function AS(t={}){function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Zs("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gr(i)}return PS(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xS(){return Math.random().toString(36).substring(2,10)}function rg(t,e){return{usr:t.state,key:t.key,idx:e}}function Zs(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?lr(e):e,state:n,key:e&&e.key||r||xS()}}function Gr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function lr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PS(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l="POP",u=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function p(){l="POP";let N=d(),w=N==null?null:N-c;c=N,u&&u({action:l,location:k.location,delta:w})}function m(N,w){l="PUSH";let _=Zs(k.location,N,w);n&&n(_,N),c=d()+1;let E=rg(_,c),M=k.createHref(_);try{s.pushState(E,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(M)}o&&u&&u({action:l,location:k.location,delta:1})}function v(N,w){l="REPLACE";let _=Zs(k.location,N,w);n&&n(_,N),c=d();let E=rg(_,c),M=k.createHref(_);s.replaceState(E,"",M),o&&u&&u({action:l,location:k.location,delta:0})}function R(N){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof N=="string"?N:Gr(N);return _=_.replace(/ $/,"%20"),pe(w,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,w)}let k={get action(){return l},get location(){return t(i,s)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ng,p),u=N,()=>{i.removeEventListener(ng,p),u=null}},createHref(N){return e(i,N)},createURL:R,encodeLocation(N){let w=R(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:v,go(N){return s.go(N)}};return k}var ys,ig=class{constructor(t){if(RS(this,ys,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Bc(this,ys).has(t))return Bc(this,ys).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Bc(this,ys).set(t,e)}};ys=new WeakMap;var kS=new Set(["lazy","caseSensitive","path","id","index","children"]);function NS(t){return t.index===!0}function hu(t,e,n=[],r={}){return t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),NS(i)){let u={...i,...e(i),id:l};return r[l]=u,u}else{let u={...i,...e(i),id:l,children:void 0};return r[l]=u,i.children&&(u.children=hu(i.children,e,s,r)),u}})}function Ar(t,e,n="/"){return Nl(t,e,n,!1)}function Nl(t,e,n,r){let i=typeof e=="string"?lr(e):e,o=hn(i.pathname||"/",n);if(o==null)return null;let s=s0(t);VS(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=HS(o);l=jS(s[u],c,r)}return l}function DS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function s0(t,e=[],n=[],r=""){let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(pe(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=On([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(pe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),s0(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:$S(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of a0(o.path))i(o,s,u)}),e}function a0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=a0(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LS=/^:[\w-]+$/,OS=3,MS=2,bS=1,FS=10,US=-2,og=t=>t==="*";function $S(t,e){let n=t.split("/"),r=n.length;return n.some(og)&&(r+=US),e&&(r+=MS),n.filter(i=>!og(i)).reduce((i,o)=>i+(LS.test(o)?OS:o===""?bS:FS),r)}function zS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jS(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=du({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=du({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:On([o,p.pathname]),pathnameBase:GS(On([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=On([o,p.pathnameBase]))}return s}function du(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},m)=>{if(d==="*"){let R=l[m]||"";s=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function BS(t,e=!1,n=!0){gt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WS(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lr(t):t;return{pathname:n?n.startsWith("/")?n:qS(n,e):e,search:KS(r),hash:QS(i)}}function qS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hc(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _f(t){let e=l0(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ef(t,e,n,r=!1){let i;typeof t=="string"?i=lr(t):(i={...t},pe(!i.pathname||!i.pathname.includes("?"),Hc("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),Hc("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),Hc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=WS(i,l),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var On=t=>t.join("/").replace(/\/\/+/g,"/"),GS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,fu=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ea(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var u0=["POST","PUT","PATCH","DELETE"],YS=new Set(u0),XS=["GET",...u0],JS=new Set(XS),ZS=new Set([301,302,303,307,308]),eI=new Set([307,308]),Wc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nI=t=>({hasErrorBoundary:Boolean(t.hasErrorBoundary)}),c0="remix-router-transitions",h0=Symbol("ResetLoaderData");function rI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||nI,i={},o=hu(t.routes,r,void 0,i),s,l=t.basename||"/",u=t.dataStrategy||lI,c={unstable_middleware:!1,...t.future},d=null,p=new Set,m=null,v=null,R=null,k=t.hydrationData!=null,N=Ar(o,t.history.location,l),w=!1,_=null;if(N==null&&!t.patchRoutesOnNavigation){let x=tn(404,{pathname:t.history.location.pathname}),{matches:V,route:O}=yg(o);N=V,_={[O.id]:x}}N&&!t.hydrationData&&pr(N,o,t.history.location.pathname).active&&(N=null);let E;if(N)if(N.some(x=>x.route.lazy))E=!1;else if(!N.some(x=>x.route.loader))E=!0;else{let x=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null;if(V){let O=N.findIndex(B=>V[B.route.id]!==void 0);E=N.slice(0,O+1).every(B=>!Yh(B.route,x,V))}else E=N.every(O=>!Yh(O.route,x,V))}else{E=!1,N=[];let x=pr(null,o,t.history.location.pathname);x.active&&x.matches&&(w=!0,N=x.matches)}let M,A={historyAction:t.history.action,location:t.history.location,matches:N,initialized:E,navigation:Wc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},U="POP",S=!1,y,T=!1,I=new Map,P=null,D=!1,C=!1,lt=new Set,Ne=new Map,xn=0,Pt=-1,G=new Map,te=new Set,se=new Map,Ie=new Map,de=new Set,Ce=new Map,Lt,ut=null;function dn(){if(d=t.history.listen(({action:x,location:V,delta:O})=>{if(Lt){Lt(),Lt=void 0;return}gt(Ce.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=Va({currentLocation:A.location,nextLocation:V,historyAction:x});if(B&&O!=null){let W=new Promise(ie=>{Lt=ie});t.history.go(O*-1),dr(B,{state:"blocked",location:V,proceed(){dr(B,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),W.then(()=>t.history.go(O))},reset(){let ie=new Map(A.blockers);ie.set(B,cs),ct({blockers:ie})}});return}return pn(x,V)}),n){EI(e,I);let x=()=>wI(e,I);e.addEventListener("pagehide",x),P=()=>e.removeEventListener("pagehide",x)}return A.initialized||pn("POP",A.location,{initialHydration:!0}),M}function Jt(){d&&d(),P&&P(),p.clear(),y&&y.abort(),A.fetchers.forEach((x,V)=>Ze(V)),A.blockers.forEach((x,V)=>Ho(V))}function lc(x){return p.add(x),()=>p.delete(x)}function ct(x,V={}){A={...A,...x};let O=[],B=[];A.fetchers.forEach((W,ie)=>{W.state==="idle"&&(de.has(ie)?O.push(ie):B.push(ie))}),de.forEach(W=>{!A.fetchers.has(W)&&!Ne.has(W)&&O.push(W)}),[...p].forEach(W=>W(A,{deletedFetchers:O,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),O.forEach(W=>Ze(W)),B.forEach(W=>A.fetchers.delete(W))}function fn(x,V,{flushSync:O}={}){var K,Z;let B=A.actionData!=null&&A.navigation.formMethod!=null&&wn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((K=x.state)==null?void 0:K._isRedirect)!==!0,W;V.actionData?Object.keys(V.actionData).length>0?W=V.actionData:W=null:B?W=A.actionData:W=null;let ie=V.loaderData?mg(A.loaderData,V.loaderData,V.matches||[],V.errors):A.loaderData,ne=A.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((oe,ge)=>ne.set(ge,cs)));let J=S===!0||A.navigation.formMethod!=null&&wn(A.navigation.formMethod)&&((Z=x.state)==null?void 0:Z._isRedirect)!==!0;s&&(o=s,s=void 0),D||U==="POP"||(U==="PUSH"?t.history.push(x,x.state):U==="REPLACE"&&t.history.replace(x,x.state));let ee;if(U==="POP"){let oe=I.get(A.location.pathname);oe&&oe.has(x.pathname)?ee={currentLocation:A.location,nextLocation:x}:I.has(x.pathname)&&(ee={currentLocation:x,nextLocation:A.location})}else if(T){let oe=I.get(A.location.pathname);oe?oe.add(x.pathname):(oe=new Set([x.pathname]),I.set(A.location.pathname,oe)),ee={currentLocation:A.location,nextLocation:x}}ct({...V,actionData:W,loaderData:ie,historyAction:U,location:x,initialized:!0,navigation:Wc,revalidation:"idle",restoreScrollPosition:fr(x,V.matches||A.matches),preventScrollReset:J,blockers:ne},{viewTransitionOpts:ee,flushSync:O===!0}),U="POP",S=!1,T=!1,D=!1,C=!1,ut==null||ut.resolve(),ut=null}async function ri(x,V){if(typeof x=="number"){t.history.go(x);return}let O=Qh(A.location,A.matches,l,x,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:B,submission:W,error:ie}=sg(!1,O,V),ne=A.location,J=Zs(A.location,B,V&&V.state);J={...J,...t.history.encodeLocation(J)};let ee=V&&V.replace!=null?V.replace:void 0,K="PUSH";ee===!0?K="REPLACE":ee===!1||W!=null&&wn(W.formMethod)&&W.formAction===A.location.pathname+A.location.search&&(K="REPLACE");let Z=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,oe=(V&&V.flushSync)===!0,ge=Va({currentLocation:ne,nextLocation:J,historyAction:K});if(ge){dr(ge,{state:"blocked",location:J,proceed(){dr(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),ri(x,V)},reset(){let xe=new Map(A.blockers);xe.set(ge,cs),ct({blockers:xe})}});return}await pn(K,J,{submission:W,pendingError:ie,preventScrollReset:Z,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:oe})}function Uo(){ut||(ut=TI()),ii(),ct({revalidation:"loading"});let x=ut.promise;return A.navigation.state==="submitting"?x:A.navigation.state==="idle"?(pn(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),x):(pn(U||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:T===!0}),x)}async function pn(x,V,O){y&&y.abort(),y=null,U=x,D=(O&&O.startUninterruptedRevalidation)===!0,La(A.location,A.matches),S=(O&&O.preventScrollReset)===!0,T=(O&&O.enableViewTransition)===!0;let B=s||o,W=O&&O.overrideNavigation,ie=(O==null?void 0:O.initialHydration)&&A.matches&&A.matches.length>0&&!w?A.matches:Ar(B,V,l),ne=(O&&O.flushSync)===!0;if(ie&&A.initialized&&!C&&mI(A.location,V)&&!(O&&O.submission&&wn(O.submission.formMethod))){fn(V,{matches:ie},{flushSync:ne});return}let J=pr(ie,B,V.pathname);if(J.active&&J.matches&&(ie=J.matches),!ie){let{error:be,notFoundMatches:Pe,route:Ae}=Wo(V.pathname);fn(V,{matches:Pe,loaderData:{},errors:{[Ae.id]:be}},{flushSync:ne});return}y=new AbortController;let ee=zi(t.history,V,y.signal,O&&O.submission),K=new ig(t.unstable_getContext?await t.unstable_getContext():void 0),Z;if(O&&O.pendingError)Z=[hi(ie).route.id,{type:"error",error:O.pendingError}];else if(O&&O.submission&&wn(O.submission.formMethod)){let be=await $o(ee,V,O.submission,ie,K,J.active,{replace:O.replace,flushSync:ne});if(be.shortCircuited)return;if(be.pendingActionResult){let[Pe,Ae]=be.pendingActionResult;if(qt(Ae)&&ea(Ae.error)&&Ae.error.status===404){y=null,fn(V,{matches:be.matches,loaderData:{},errors:{[Pe]:Ae.error}});return}}ie=be.matches||ie,Z=be.pendingActionResult,W=qc(V,O.submission),ne=!1,J.active=!1,ee=zi(t.history,ee.url,ee.signal)}let{shortCircuited:oe,matches:ge,loaderData:xe,errors:et}=await zo(ee,V,ie,K,J.active,W,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ne,Z);oe||(y=null,fn(V,{matches:ge||ie,...gg(Z),loaderData:xe,errors:et}))}async function $o(x,V,O,B,W,ie,ne={}){ii();let J=vI(V,O);if(ct({navigation:J},{flushSync:ne.flushSync===!0}),ie){let Z=await mr(B,V.pathname,x.signal);if(Z.type==="aborted")return{shortCircuited:!0};if(Z.type==="error"){let oe=hi(Z.partialMatches).route.id;return{matches:Z.partialMatches,pendingActionResult:[oe,{type:"error",error:Z.error}]}}else if(Z.matches)B=Z.matches;else{let{notFoundMatches:oe,error:ge,route:xe}=Wo(V.pathname);return{matches:oe,pendingActionResult:[xe.id,{type:"error",error:ge}]}}}let ee,K=vs(B,V);if(!K.route.action&&!K.route.lazy)ee={type:"error",error:tn(405,{method:x.method,pathname:V.pathname,routeId:K.route.id})};else{let Z=await cr("action",x,[K],B,W,null);if(ee=Z[K.route.id],!ee){for(let oe of B)if(Z[oe.route.id]){ee=Z[oe.route.id];break}}if(x.signal.aborted)return{shortCircuited:!0}}if(mi(ee)){let Z;return ne&&ne.replace!=null?Z=ne.replace:Z=dg(ee.response.headers.get("Location"),new URL(x.url),l)===A.location.pathname+A.location.search,await mn(x,ee,!0,{submission:O,replace:Z}),{shortCircuited:!0}}if(qt(ee)){let Z=hi(B,K.route.id);return(ne&&ne.replace)!==!0&&(U="PUSH"),{matches:B,pendingActionResult:[Z.route.id,ee]}}return{matches:B,pendingActionResult:[K.route.id,ee]}}async function zo(x,V,O,B,W,ie,ne,J,ee,K,Z,oe){let ge=ie||qc(V,ne),xe=ne||J||_g(ge),et=!D&&!K;if(W){if(et){let Be=jo(oe);ct({navigation:ge,...Be!==void 0?{actionData:Be}:{}},{flushSync:Z})}let Te=await mr(O,V.pathname,x.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let Be=hi(Te.partialMatches).route.id;return{matches:Te.partialMatches,loaderData:{},errors:{[Be]:Te.error}}}else if(Te.matches)O=Te.matches;else{let{error:Be,notFoundMatches:en,route:Hn}=Wo(V.pathname);return{matches:en,loaderData:{},errors:{[Hn.id]:Be}}}}let be=s||o,[Pe,Ae]=lg(t.history,A,O,xe,V,K===!0,C,lt,de,se,te,be,l,oe);if(Pt=++xn,Pe.length===0&&Ae.length===0){let Te=Na();return fn(V,{matches:O,loaderData:{},errors:oe&&qt(oe[1])?{[oe[0]]:oe[1].error}:null,...gg(oe),...Te?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Z}),{shortCircuited:!0}}if(et){let Te={};if(!W){Te.navigation=ge;let Be=jo(oe);Be!==void 0&&(Te.actionData=Be)}Ae.length>0&&(Te.fetchers=Aa(Ae)),ct(Te,{flushSync:Z})}Ae.forEach(Te=>{gn(Te.key),Te.controller&&Ne.set(Te.key,Te.controller)});let zn=()=>Ae.forEach(Te=>gn(Te.key));y&&y.signal.addEventListener("abort",zn);let{loaderResults:gr,fetcherResults:Bt}=await ka(O,Pe,Ae,x,B);if(x.signal.aborted)return{shortCircuited:!0};y&&y.signal.removeEventListener("abort",zn),Ae.forEach(Te=>Ne.delete(Te.key));let Ot=hl(gr);if(Ot)return await mn(x,Ot.result,!0,{replace:ee}),{shortCircuited:!0};if(Ot=hl(Bt),Ot)return te.add(Ot.key),await mn(x,Ot.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:Mi,errors:yr}=pg(A,O,gr,oe,Ae,Bt);K&&A.errors&&(yr={...A.errors,...yr});let jn=Na(),Bn=hr(Pt),oi=jn||Bn||Ae.length>0;return{matches:O,loaderData:Mi,errors:yr,...oi?{fetchers:new Map(A.fetchers)}:{}}}function jo(x){if(x&&!qt(x[1]))return{[x[0]]:x[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Aa(x){return x.forEach(V=>{let O=A.fetchers.get(V.key),B=hs(void 0,O?O.data:void 0);A.fetchers.set(V.key,B)}),new Map(A.fetchers)}async function uc(x,V,O,B){gn(x);let W=(B&&B.flushSync)===!0,ie=s||o,ne=Qh(A.location,A.matches,l,O,V,B==null?void 0:B.relative),J=Ar(ie,ne,l),ee=pr(J,ie,ne);if(ee.active&&ee.matches&&(J=ee.matches),!J){jt(x,V,tn(404,{pathname:ne}),{flushSync:W});return}let{path:K,submission:Z,error:oe}=sg(!0,ne,B);if(oe){jt(x,V,oe,{flushSync:W});return}let ge=vs(J,K),xe=new ig(t.unstable_getContext?await t.unstable_getContext():void 0),et=(B&&B.preventScrollReset)===!0;if(Z&&wn(Z.formMethod)){await xa(x,V,K,ge,J,xe,ee.active,W,et,Z);return}se.set(x,{routeId:V,path:K}),await Pa(x,V,K,ge,J,xe,ee.active,W,et,Z)}async function xa(x,V,O,B,W,ie,ne,J,ee,K){ii(),se.delete(x);function Z(He){if(!He.route.action&&!He.route.lazy){let Wn=tn(405,{method:K.formMethod,pathname:O,routeId:V});return jt(x,V,Wn,{flushSync:J}),!0}return!1}if(!ne&&Z(B))return;let oe=A.fetchers.get(x);Zt(x,_I(K,oe),{flushSync:J});let ge=new AbortController,xe=zi(t.history,O,ge.signal,K);if(ne){let He=await mr(W,O,xe.signal,x);if(He.type==="aborted")return;if(He.type==="error"){jt(x,V,He.error,{flushSync:J});return}else if(He.matches){if(W=He.matches,B=vs(W,O),Z(B))return}else{jt(x,V,tn(404,{pathname:O}),{flushSync:J});return}}Ne.set(x,ge);let et=xn,Pe=(await cr("action",xe,[B],W,ie,x))[B.route.id];if(xe.signal.aborted){Ne.get(x)===ge&&Ne.delete(x);return}if(de.has(x)){if(mi(Pe)||qt(Pe)){Zt(x,wr(void 0));return}}else{if(mi(Pe))if(Ne.delete(x),Pt>et){Zt(x,wr(void 0));return}else return te.add(x),Zt(x,hs(K)),mn(xe,Pe,!1,{fetcherSubmission:K,preventScrollReset:ee});if(qt(Pe)){jt(x,V,Pe.error);return}}let Ae=A.navigation.location||A.location,zn=zi(t.history,Ae,ge.signal),gr=s||o,Bt=A.navigation.state!=="idle"?Ar(gr,A.navigation.location,l):A.matches;pe(Bt,"Didn't find any matches after fetcher action");let Ot=++xn;G.set(x,Ot);let Mi=hs(K,Pe.data);A.fetchers.set(x,Mi);let[yr,jn]=lg(t.history,A,Bt,K,Ae,!1,C,lt,de,se,te,gr,l,[B.route.id,Pe]);jn.filter(He=>He.key!==x).forEach(He=>{let Wn=He.key,Ko=A.fetchers.get(Wn),Ma=hs(void 0,Ko?Ko.data:void 0);A.fetchers.set(Wn,Ma),gn(Wn),He.controller&&Ne.set(Wn,He.controller)}),ct({fetchers:new Map(A.fetchers)});let Bn=()=>jn.forEach(He=>gn(He.key));ge.signal.addEventListener("abort",Bn);let{loaderResults:oi,fetcherResults:Te}=await ka(Bt,yr,jn,zn,ie);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",Bn),G.delete(x),Ne.delete(x),jn.forEach(He=>Ne.delete(He.key));let Be=hl(oi);if(Be)return mn(zn,Be.result,!1,{preventScrollReset:ee});if(Be=hl(Te),Be)return te.add(Be.key),mn(zn,Be.result,!1,{preventScrollReset:ee});let{loaderData:en,errors:Hn}=pg(A,Bt,oi,void 0,jn,Te);if(A.fetchers.has(x)){let He=wr(Pe.data);A.fetchers.set(x,He)}hr(Ot),A.navigation.state==="loading"&&Ot>Pt?(pe(U,"Expected pending action"),y&&y.abort(),fn(A.navigation.location,{matches:Bt,loaderData:en,errors:Hn,fetchers:new Map(A.fetchers)})):(ct({errors:Hn,loaderData:mg(A.loaderData,en,Bt,Hn),fetchers:new Map(A.fetchers)}),C=!1)}async function Pa(x,V,O,B,W,ie,ne,J,ee,K){let Z=A.fetchers.get(x);Zt(x,hs(K,Z?Z.data:void 0),{flushSync:J});let oe=new AbortController,ge=zi(t.history,O,oe.signal);if(ne){let Pe=await mr(W,O,ge.signal,x);if(Pe.type==="aborted")return;if(Pe.type==="error"){jt(x,V,Pe.error,{flushSync:J});return}else if(Pe.matches)W=Pe.matches,B=vs(W,O);else{jt(x,V,tn(404,{pathname:O}),{flushSync:J});return}}Ne.set(x,oe);let xe=xn,be=(await cr("loader",ge,[B],W,ie,x))[B.route.id];if(Ne.get(x)===oe&&Ne.delete(x),!ge.signal.aborted){if(de.has(x)){Zt(x,wr(void 0));return}if(mi(be))if(Pt>xe){Zt(x,wr(void 0));return}else{te.add(x),await mn(ge,be,!1,{preventScrollReset:ee});return}if(qt(be)){jt(x,V,be.error);return}Zt(x,wr(be.data))}}async function mn(x,V,O,{submission:B,fetcherSubmission:W,preventScrollReset:ie,replace:ne}={}){V.response.headers.has("X-Remix-Revalidate")&&(C=!0);let J=V.response.headers.get("Location");pe(J,"Expected a Location header on the redirect Response"),J=dg(J,new URL(x.url),l);let ee=Zs(A.location,J,{_isRedirect:!0});if(n){let et=!1;if(V.response.headers.has("X-Remix-Reload-Document"))et=!0;else if(wf.test(J)){const be=t.history.createURL(J);et=be.origin!==e.location.origin||hn(be.pathname,l)==null}if(et){ne?e.location.replace(J):e.location.assign(J);return}}y=null;let K=ne===!0||V.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Z,formAction:oe,formEncType:ge}=A.navigation;!B&&!W&&Z&&oe&&ge&&(B=_g(A.navigation));let xe=B||W;if(eI.has(V.response.status)&&xe&&wn(xe.formMethod))await pn(K,ee,{submission:{...xe,formAction:J},preventScrollReset:ie||S,enableViewTransition:O?T:void 0});else{let et=qc(ee,B);await pn(K,ee,{overrideNavigation:et,fetcherSubmission:W,preventScrollReset:ie||S,enableViewTransition:O?T:void 0})}}async function cr(x,V,O,B,W,ie){let ne,J={};try{ne=await cI(u,x,V,O,B,ie,i,r,W,c.unstable_middleware)}catch(ee){return O.forEach(K=>{J[K.route.id]={type:"error",error:ee}}),J}for(let[ee,K]of Object.entries(ne))if(gI(K)){let Z=K.result;J[ee]={type:"redirect",response:fI(Z,V,ee,B,l)}}else J[ee]=await dI(K);return J}async function ka(x,V,O,B,W){let ie=cr("loader",B,V,x,W,null),ne=Promise.all(O.map(async K=>{if(K.matches&&K.match&&K.controller){let oe=(await cr("loader",zi(t.history,K.path,K.controller.signal),[K.match],K.matches,W,K.key))[K.match.route.id];return{[K.key]:oe}}else return Promise.resolve({[K.key]:{type:"error",error:tn(404,{pathname:K.path})}})})),J=await ie,ee=(await ne).reduce((K,Z)=>Object.assign(K,Z),{});return{loaderResults:J,fetcherResults:ee}}function ii(){C=!0,se.forEach((x,V)=>{Ne.has(V)&&lt.add(V),gn(V)})}function Zt(x,V,O={}){A.fetchers.set(x,V),ct({fetchers:new Map(A.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function jt(x,V,O,B={}){let W=hi(A.matches,V);Ze(x),ct({errors:{[W.route.id]:O},fetchers:new Map(A.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Je(x){return Ie.set(x,(Ie.get(x)||0)+1),de.has(x)&&de.delete(x),A.fetchers.get(x)||tI}function Ze(x){let V=A.fetchers.get(x);Ne.has(x)&&!(V&&V.state==="loading"&&G.has(x))&&gn(x),se.delete(x),G.delete(x),te.delete(x),de.delete(x),lt.delete(x),A.fetchers.delete(x)}function Oi(x){let V=(Ie.get(x)||0)-1;V<=0?(Ie.delete(x),de.add(x)):Ie.set(x,V),ct({fetchers:new Map(A.fetchers)})}function gn(x){let V=Ne.get(x);V&&(V.abort(),Ne.delete(x))}function Bo(x){for(let V of x){let O=Je(V),B=wr(O.data);A.fetchers.set(V,B)}}function Na(){let x=[],V=!1;for(let O of te){let B=A.fetchers.get(O);pe(B,`Expected fetcher: ${O}`),B.state==="loading"&&(te.delete(O),x.push(O),V=!0)}return Bo(x),V}function hr(x){let V=[];for(let[O,B]of G)if(B<x){let W=A.fetchers.get(O);pe(W,`Expected fetcher: ${O}`),W.state==="loading"&&(gn(O),G.delete(O),V.push(O))}return Bo(V),V.length>0}function Da(x,V){let O=A.blockers.get(x)||cs;return Ce.get(x)!==V&&Ce.set(x,V),O}function Ho(x){A.blockers.delete(x),Ce.delete(x)}function dr(x,V){let O=A.blockers.get(x)||cs;pe(O.state==="unblocked"&&V.state==="blocked"||O.state==="blocked"&&V.state==="blocked"||O.state==="blocked"&&V.state==="proceeding"||O.state==="blocked"&&V.state==="unblocked"||O.state==="proceeding"&&V.state==="unblocked",`Invalid blocker state transition: ${O.state} -> ${V.state}`);let B=new Map(A.blockers);B.set(x,V),ct({blockers:B})}function Va({currentLocation:x,nextLocation:V,historyAction:O}){if(Ce.size===0)return;Ce.size>1&&gt(!1,"A router only supports one blocker at a time");let B=Array.from(Ce.entries()),[W,ie]=B[B.length-1],ne=A.blockers.get(W);if(!(ne&&ne.state==="proceeding")&&ie({currentLocation:x,nextLocation:V,historyAction:O}))return W}function Wo(x){let V=tn(404,{pathname:x}),O=s||o,{matches:B,route:W}=yg(O);return{notFoundMatches:B,route:W,error:V}}function qo(x,V,O){if(m=x,R=V,v=O||null,!k&&A.navigation===Wc){k=!0;let B=fr(A.location,A.matches);B!=null&&ct({restoreScrollPosition:B})}return()=>{m=null,R=null,v=null}}function Go(x,V){return v&&v(x,V.map(B=>DS(B,A.loaderData)))||x.key}function La(x,V){if(m&&R){let O=Go(x,V);m[O]=R()}}function fr(x,V){if(m){let O=Go(x,V),B=m[O];if(typeof B=="number")return B}return null}function pr(x,V,O){if(t.patchRoutesOnNavigation)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:Nl(V,O,l,!0)}}else return{active:!0,matches:Nl(V,O,l,!0)||[]};return{active:!1,matches:null}}async function mr(x,V,O,B){if(!t.patchRoutesOnNavigation)return{type:"success",matches:x};let W=x;for(;;){let ie=s==null,ne=s||o,J=i;try{await t.patchRoutesOnNavigation({signal:O,path:V,matches:W,fetcherKey:B,patch:(Z,oe)=>{O.aborted||cg(Z,oe,ne,J,r)}})}catch(Z){return{type:"error",error:Z,partialMatches:W}}finally{ie&&!O.aborted&&(o=[...o])}if(O.aborted)return{type:"aborted"};let ee=Ar(ne,V,l);if(ee)return{type:"success",matches:ee};let K=Nl(ne,V,l,!0);if(!K||W.length===K.length&&W.every((Z,oe)=>Z.route.id===K[oe].route.id))return{type:"success",matches:null};W=K}}function $n(x){i={},s=hu(x,r,void 0,i)}function Oa(x,V){let O=s==null;cg(x,V,s||o,i,r),O&&(o=[...o],ct({}))}return M={get basename(){return l},get future(){return c},get state(){return A},get routes(){return o},get window(){return e},initialize:dn,subscribe:lc,enableScrollRestoration:qo,navigate:ri,fetch:uc,revalidate:Uo,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Je,deleteFetcher:Oi,dispose:Jt,getBlocker:Da,deleteBlocker:Ho,patchRoutes:Oa,_internalFetchControllers:Ne,_internalSetRoutes:$n},M}function iI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Qh(t,e,n,r,i,o){let s,l;if(i){s=[];for(let c of e)if(s.push(c),c.route.id===i){l=c;break}}else s=e,l=e[e.length-1];let u=Ef(r||".",_f(s),hn(t.pathname,n)||t.pathname,o==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&l){let c=Tf(u.search);if(l.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&c){let d=new URLSearchParams(u.search),p=d.getAll("index");d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();u.search=m?`?${m}`:""}}return n!=="/"&&(u.pathname=u.pathname==="/"?n:On([n,u.pathname])),Gr(u)}function sg(t,e,n){if(!n||!iI(n))return{path:e};if(n.formMethod&&!yI(n.formMethod))return{path:e,error:tn(405,{method:n.formMethod})};let r=()=>({path:e,error:tn(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),s=p0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!wn(o))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[v,R])=>`${m}${v}=${R}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!wn(o))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}pe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=Xh(n.formData),u=n.formData;else if(n.body instanceof FormData)l=Xh(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=fg(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=fg(l)}catch{return r()}let c={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(wn(c.formMethod))return{path:e,submission:c};let d=lr(e);return t&&d.search&&Tf(d.search)&&l.append("index",""),d.search=`?${l}`,{path:Gr(d),submission:c}}function ag(t,e,n=!1){let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function lg(t,e,n,r,i,o,s,l,u,c,d,p,m,v){let R=v?qt(v[1])?v[1].error:v[1].data:void 0,k=t.createURL(e.location),N=t.createURL(i),w=n;o&&e.errors?w=ag(n,Object.keys(e.errors)[0],!0):v&&qt(v[1])&&(w=ag(n,v[0]));let _=v?v[1].statusCode:void 0,E=_&&_>=400,M=w.filter((U,S)=>{let{route:y}=U;if(y.lazy)return!0;if(y.loader==null)return!1;if(o)return Yh(y,e.loaderData,e.errors);if(oI(e.loaderData,e.matches[S],U))return!0;let T=e.matches[S],I=U;return ug(U,{currentUrl:k,currentParams:T.params,nextUrl:N,nextParams:I.params,...r,actionResult:R,actionStatus:_,defaultShouldRevalidate:E?!1:s||k.pathname+k.search===N.pathname+N.search||k.search!==N.search||sI(T,I)})}),A=[];return c.forEach((U,S)=>{if(o||!n.some(D=>D.route.id===U.routeId)||u.has(S))return;let y=Ar(p,U.path,m);if(!y){A.push({key:S,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(S),I=vs(y,U.path),P=!1;d.has(S)?P=!1:l.has(S)?(l.delete(S),P=!0):T&&T.state!=="idle"&&T.data===void 0?P=s:P=ug(I,{currentUrl:k,currentParams:e.matches[e.matches.length-1].params,nextUrl:N,nextParams:n[n.length-1].params,...r,actionResult:R,actionStatus:_,defaultShouldRevalidate:E?!1:s}),P&&A.push({key:S,routeId:U.routeId,path:U.path,matches:y,match:I,controller:new AbortController})}),[M,A]}function Yh(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function oI(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function sI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ug(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function cg(t,e,n,r,i){let o;if(t){let u=r[t];pe(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),o=u.children}else o=n;let s=e.filter(u=>!o.some(c=>d0(u,c))),l=hu(s,i,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...l)}function d0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>d0(n,o))}):!1}async function aI(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";gt(!u,`Route "${i.id}" has a static property "${s}" defined but its lazy function is also returning a value for this property. The lazy route property "${s}" will be ignored.`),!u&&!kS.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{...e(i),lazy:void 0})}async function hg(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function lI(t){return t.matches.some(e=>e.route.unstable_middleware)?uI(t,!1,()=>hg(t),(e,n)=>({[n]:{type:"error",result:e}})):hg(t)}async function uI(t,e,n,r){let{matches:i,request:o,params:s,context:l}=t,u={handlerResult:void 0};try{let c=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(m=>[p.route.id,m]):[]),d=await f0({request:o,params:s,context:l},c,e,u,n);return e?d:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let d=await r(u.middlewareError.error,u.middlewareError.routeId);return e||!u.handlerResult?d:Object.assign(u.handlerResult,d)}}async function f0(t,e,n,r,i,o=0){let{request:s}=t;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let l=e[o];if(!l)return r.handlerResult=await i(),r.handlerResult;let[u,c]=l,d=!1,p,m=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0;let v=await f0(t,e,n,r,i,o+1);if(n)return p=v,p};try{let v=await c({request:t.request,params:t.params,context:t.context},m);return d?v===void 0?p:v:m()}catch(v){throw r.middlewareError?r.middlewareError.error!==v&&(r.middlewareError={routeId:u,error:v}):r.middlewareError={routeId:u,error:v},v}}async function cI(t,e,n,r,i,o,s,l,u,c){let d=i.map(v=>v.route.lazy?aI(v.route,l,s):void 0);c&&await Promise.all(d);let p=i.map((v,R)=>{let k=d[R],N=r.some(_=>_.route.id===v.route.id);return{...v,shouldLoad:N,resolve:async _=>(_&&n.method==="GET"&&(v.route.lazy||v.route.loader)&&(N=!0),N?hI(e,n,v,k,_,u):Promise.resolve({type:"data",result:void 0}))}}),m=await t({matches:p,request:n,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return m}async function hI(t,e,n,r,i,o){let s,l,u=c=>{let d,p=new Promise((R,k)=>d=k);l=()=>d(),e.signal.addEventListener("abort",l);let m=R=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):c({request:e,params:n.params,context:o},...R!==void 0?[R]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(k=>m(k)):m())}}catch(R){return{type:"error",result:R}}})();return Promise.race([v,p])};try{let c=n.route[t];if(r)if(c){let d,[p]=await Promise.all([u(c).catch(m=>{d=m}),r]);if(d!==void 0)throw d;s=p}else if(await r,c=n.route[t],c)s=await u(c);else if(t==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw tn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:"data",result:void 0};else if(c)s=await u(c);else{let d=new URL(e.url),p=d.pathname+d.search;throw tn(404,{pathname:p})}}catch(c){return{type:"error",result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function dI(t){var r,i,o,s,l,u;let{result:e,type:n}=t;if(m0(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new fu(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return n==="error"?vg(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new fu(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:ea(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ea(e)?e.status:void 0}:vg(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function fI(t,e,n,r,i){let o=t.headers.get("Location");if(pe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!wf.test(o)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Qh(new URL(e.url),s,i,o),t.headers.set("Location",o)}return t}function dg(t,e,n){if(wf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=hn(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function zi(t,e,n,r){let i=t.createURL(p0(e)).toString(),o={signal:n};if(r&&wn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Xh(r.formData):o.body=r.formData}return new Request(i,o)}function Xh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function fg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function pI(t,e,n,r=!1,i=!1){let o={},s=null,l,u=!1,c={},d=n&&qt(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let m=p.route.id,v=e[m];if(pe(!mi(v),"Cannot handle redirect results in processLoaderData"),qt(v)){let R=v.error;if(d!==void 0&&(R=d,d=void 0),s=s||{},i)s[m]=R;else{let k=hi(t,m);s[k.route.id]==null&&(s[k.route.id]=R)}r||(o[m]=h0),u||(u=!0,l=ea(v.error)?v.error.status:500),v.headers&&(c[m]=v.headers)}else o[m]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(c[m]=v.headers)}),d!==void 0&&n&&(s={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:c}}function pg(t,e,n,r,i,o){let{loaderData:s,errors:l}=pI(e,n,r);return i.forEach(u=>{let{key:c,match:d,controller:p}=u,m=o[c];if(pe(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(qt(m)){let v=hi(t.matches,d==null?void 0:d.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:m.error}),t.fetchers.delete(c)}else if(mi(m))pe(!1,"Unhandled fetcher revalidation redirect");else{let v=wr(m.data);t.fetchers.set(c,v)}}),{loaderData:s,errors:l}}function mg(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==h0).reduce((o,[s,l])=>(o[s]=l,o),{});for(let o of n){let s=o.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function gg(t){return t?qt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function hi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function yg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function tn(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(s="Not Found",l=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new fu(t||500,s,new Error(l),!0)}function hl(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(mi(i))return{key:r,result:i}}}function p0(t){let e=typeof t=="string"?lr(t):t;return Gr({...e,hash:""})}function mI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function gI(t){return m0(t.result)&&ZS.has(t.result.status)}function qt(t){return t.type==="error"}function mi(t){return(t&&t.type)==="redirect"}function vg(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function m0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function yI(t){return JS.has(t.toUpperCase())}function wn(t){return YS.has(t.toUpperCase())}function Tf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function vs(t,e){let n=typeof e=="string"?lr(e).search:e.search;if(t[t.length-1].route.index&&Tf(n||""))return t[t.length-1];let r=l0(t);return r[r.length-1]}function _g(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function qc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vI(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _I(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function wr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function EI(t,e){try{let n=t.sessionStorage.getItem(c0);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function wI(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(c0,JSON.stringify(n))}catch(r){gt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function TI(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Pi=F.exports.createContext(null);Pi.displayName="DataRouter";var ya=F.exports.createContext(null);ya.displayName="DataRouterState";var Sf=F.exports.createContext({isTransitioning:!1});Sf.displayName="ViewTransition";var g0=F.exports.createContext(new Map);g0.displayName="Fetchers";var SI=F.exports.createContext(null);SI.displayName="Await";var Un=F.exports.createContext(null);Un.displayName="Navigation";var va=F.exports.createContext(null);va.displayName="Location";var ur=F.exports.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var If=F.exports.createContext(null);If.displayName="RouteError";function II(t,{relative:e}={}){pe(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.exports.useContext(Un),{hash:i,pathname:o,search:s}=Ea(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:On([n,o])),r.createHref({pathname:l,search:s,hash:i})}function _a(){return F.exports.useContext(va)!=null}function ki(){return pe(_a(),"useLocation() may be used only in the context of a <Router> component."),F.exports.useContext(va).location}var y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v0(t){F.exports.useContext(Un).static||F.exports.useLayoutEffect(t)}function CI(){let{isDataRoute:t}=F.exports.useContext(ur);return t?FI():RI()}function RI(){pe(_a(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.exports.useContext(Pi),{basename:e,navigator:n}=F.exports.useContext(Un),{matches:r}=F.exports.useContext(ur),{pathname:i}=ki(),o=JSON.stringify(_f(r)),s=F.exports.useRef(!1);return v0(()=>{s.current=!0}),F.exports.useCallback((u,c={})=>{if(gt(s.current,y0),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=Ef(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:On([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}F.exports.createContext(null);function Ea(t,{relative:e}={}){let{matches:n}=F.exports.useContext(ur),{pathname:r}=ki(),i=JSON.stringify(_f(n));return F.exports.useMemo(()=>Ef(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function AI(t,e,n,r){var _;pe(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=F.exports.useContext(Un),{matches:s}=F.exports.useContext(ur),l=s[s.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let E=p&&p.path||"";_0(c,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=ki(),v;if(e){let E=typeof e=="string"?lr(e):e;pe(d==="/"||((_=E.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=m;let R=v.pathname||"/",k=R;if(d!=="/"){let E=d.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=!o&&n&&n.matches&&n.matches.length>0?n.matches:Ar(t,{pathname:k});gt(p||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),gt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=DI(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:On([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:On([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&w?F.exports.createElement(va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function xI(){let t=bI(),e=ea(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=F.exports.createElement(F.exports.Fragment,null,F.exports.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),F.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.exports.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.exports.createElement("code",{style:o},"errorElement")," prop on your route.")),F.exports.createElement(F.exports.Fragment,null,F.exports.createElement("h2",null,"Unexpected Application Error!"),F.exports.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.exports.createElement("pre",{style:i},n):null,s)}var PI=F.exports.createElement(xI,null),kI=class extends F.exports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.exports.createElement(ur.Provider,{value:this.props.routeContext},F.exports.createElement(If.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NI({routeContext:t,match:e,children:n}){let r=F.exports.useContext(Pi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.exports.createElement(ur.Provider,{value:t},n)}function DI(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);pe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:p}=n,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let p,m=!1,v=null,R=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,v=c.route.errorElement||PI,s&&(l<0&&d===0?(_0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,R=null):l===d&&(m=!0,R=c.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,d+1)),N=()=>{let w;return p?w=v:m?w=R:c.route.Component?w=F.exports.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=u,F.exports.createElement(NI,{match:c,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?F.exports.createElement(kI,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}function Cf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VI(t){let e=F.exports.useContext(Pi);return pe(e,Cf(t)),e}function LI(t){let e=F.exports.useContext(ya);return pe(e,Cf(t)),e}function OI(t){let e=F.exports.useContext(ur);return pe(e,Cf(t)),e}function Rf(t){let e=OI(t),n=e.matches[e.matches.length-1];return pe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MI(){return Rf("useRouteId")}function bI(){var r;let t=F.exports.useContext(If),e=LI("useRouteError"),n=Rf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FI(){let{router:t}=VI("useNavigate"),e=Rf("useNavigate"),n=F.exports.useRef(!1);return v0(()=>{n.current=!0}),F.exports.useCallback(async(i,o={})=>{gt(n.current,y0),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Eg={};function _0(t,e,n){!e&&!Eg[t]&&(Eg[t]=!0,gt(!1,n))}var wg={};function Tg(t,e){!t&&!wg[e]&&(wg[e]=!0,console.warn(e))}function UI(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&gt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.exports.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&gt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.exports.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&gt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.exports.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var $I=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function zI({router:t,flushSync:e}){let[n,r]=F.exports.useState(t.state),[i,o]=F.exports.useState(),[s,l]=F.exports.useState({isTransitioning:!1}),[u,c]=F.exports.useState(),[d,p]=F.exports.useState(),[m,v]=F.exports.useState(),R=F.exports.useRef(new Map),k=F.exports.useCallback((E,{deletedFetchers:M,flushSync:A,viewTransitionOpts:U})=>{E.fetchers.forEach((y,T)=>{y.data!==void 0&&R.current.set(T,y.data)}),M.forEach(y=>R.current.delete(y)),Tg(A===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Tg(U==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!S){e&&A?e(()=>r(E)):F.exports.startTransition(()=>r(E));return}if(e&&A){e(()=>{d&&(u&&u.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let y=t.window.document.startViewTransition(()=>{e(()=>r(E))});y.finished.finally(()=>{e(()=>{c(void 0),p(void 0),o(void 0),l({isTransitioning:!1})})}),e(()=>p(y));return}d?(u&&u.resolve(),d.skipTransition(),v({state:E,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(E),l({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,e,d,u]);F.exports.useLayoutEffect(()=>t.subscribe(k),[t,k]),F.exports.useEffect(()=>{s.isTransitioning&&!s.flushSync&&c(new $I)},[s]),F.exports.useEffect(()=>{if(u&&i&&t.window){let E=i,M=u.promise,A=t.window.document.startViewTransition(async()=>{F.exports.startTransition(()=>r(E)),await M});A.finished.finally(()=>{c(void 0),p(void 0),o(void 0),l({isTransitioning:!1})}),p(A)}},[i,u,t.window]),F.exports.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,d,n.location,i]),F.exports.useEffect(()=>{!s.isTransitioning&&m&&(o(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[s.isTransitioning,m]);let N=F.exports.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:E=>t.navigate(E),push:(E,M,A)=>t.navigate(E,{state:M,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(E,M,A)=>t.navigate(E,{replace:!0,state:M,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[t]),w=t.basename||"/",_=F.exports.useMemo(()=>({router:t,navigator:N,static:!1,basename:w}),[t,N,w]);return j(IS,{children:j(Pi.Provider,{value:_,children:j(ya.Provider,{value:n,children:j(g0.Provider,{value:R.current,children:j(Sf.Provider,{value:s,children:j(HI,{basename:w,location:n.location,navigationType:n.historyAction,navigator:N,children:j(jI,{routes:t.routes,future:t.future,state:n})})})})})})})}var jI=F.exports.memo(BI);function BI({routes:t,future:e,state:n}){return AI(t,void 0,n,e)}function HI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){pe(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=F.exports.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=lr(n));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:m="default"}=n,v=F.exports.useMemo(()=>{let R=hn(u,s);return R==null?null:{location:{pathname:R,search:c,hash:d,state:p,key:m},navigationType:r}},[s,u,c,d,p,m,r]);return gt(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j(Un.Provider,{value:l,children:j(va.Provider,{children:e,value:v})})}var Dl="get",Vl="application/x-www-form-urlencoded";function Gu(t){return t!=null&&typeof t.tagName=="string"}function WI(t){return Gu(t)&&t.tagName.toLowerCase()==="button"}function qI(t){return Gu(t)&&t.tagName.toLowerCase()==="form"}function GI(t){return Gu(t)&&t.tagName.toLowerCase()==="input"}function KI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QI(t,e){return t.button===0&&(!e||e==="_self")&&!KI(t)}var dl=null;function YI(){if(dl===null)try{new FormData(document.createElement("form"),0),dl=!1}catch{dl=!0}return dl}var XI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gc(t){return t!=null&&!XI.has(t)?(gt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vl}"`),null):t}function JI(t,e){let n,r,i,o,s;if(qI(t)){let l=t.getAttribute("action");r=l?hn(l,e):null,n=t.getAttribute("method")||Dl,i=Gc(t.getAttribute("enctype"))||Vl,o=new FormData(t)}else if(WI(t)||GI(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?hn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Dl,i=Gc(t.getAttribute("formenctype"))||Gc(l.getAttribute("enctype"))||Vl,o=new FormData(l,t),!YI()){let{name:c,type:d,value:p}=t;if(d==="image"){let m=c?`${c}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else c&&o.append(c,p)}}else{if(Gu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dl,r=null,i=Vl,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Af(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ZI(t,e){if(t.id in e)return e[t.id];try{let n=await aS(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eC(t){return t!=null&&typeof t.page=="string"}function tC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nC(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await ZI(o,n);return s.links?s.links():[]}return[]}));return sC(r.flat(1).filter(tC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Sg(t,e,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||l(u,c)):o==="data"?e.filter((u,c)=>{var p;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function rC(t,e,{includeHydrateFallback:n}={}){return iC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function iC(t){return[...new Set(t)]}function oC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function sC(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!eC(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let l=JSON.stringify(oC(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function aC(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&hn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function E0(){let t=F.exports.useContext(Pi);return Af(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lC(){let t=F.exports.useContext(ya);return Af(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xf=F.exports.createContext(void 0);xf.displayName="FrameworkContext";function w0(){let t=F.exports.useContext(xf);return Af(t,"You must render this element inside a <HydratedRouter> element"),t}function uC(t,e){let n=F.exports.useContext(xf),[r,i]=F.exports.useState(!1),[o,s]=F.exports.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=e,m=F.exports.useRef(null);F.exports.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let k=w=>{w.forEach(_=>{s(_.isIntersecting)})},N=new IntersectionObserver(k,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[t]),F.exports.useEffect(()=>{if(r){let k=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(k)}}},[r]);let v=()=>{i(!0)},R=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,m,{}]:[o,m,{onFocus:ds(l,v),onBlur:ds(u,R),onMouseEnter:ds(c,v),onMouseLeave:ds(d,R),onTouchStart:ds(p,v)}]:[!1,m,{}]}function ds(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cC({page:t,...e}){let{router:n}=E0(),r=F.exports.useMemo(()=>Ar(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.exports.createElement(dC,{page:t,matches:r,...e}):null}function hC(t){let{manifest:e,routeModules:n}=w0(),[r,i]=F.exports.useState([]);return F.exports.useEffect(()=>{let o=!1;return nC(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function dC({page:t,matches:e,...n}){let r=ki(),{manifest:i,routeModules:o}=w0(),{basename:s}=E0(),{loaderData:l,matches:u}=lC(),c=F.exports.useMemo(()=>Sg(t,e,u,i,r,"data"),[t,e,u,i,r]),d=F.exports.useMemo(()=>Sg(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=F.exports.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,k=!1;if(e.forEach(w=>{var E;let _=i.routes[w.route.id];!_||!_.hasLoader||(!c.some(M=>M.route.id===w.route.id)&&w.route.id in l&&((E=o[w.route.id])==null?void 0:E.shouldRevalidate)||_.hasClientLoader?k=!0:R.add(w.route.id))}),R.size===0)return[];let N=aC(t,s);return k&&R.size>0&&N.searchParams.set("_routes",e.filter(w=>R.has(w.route.id)).map(w=>w.route.id).join(",")),[N.pathname+N.search]},[s,l,r,i,c,e,t,o]),m=F.exports.useMemo(()=>rC(d,i),[d,i]),v=hC(d);return F.exports.createElement(F.exports.Fragment,null,p.map(R=>F.exports.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),m.map(R=>F.exports.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),v.map(({key:R,link:k})=>F.exports.createElement("link",{key:R,...k})))}function fC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T0&&(window.__reactRouterVersion="7.4.0")}catch{}function pC(t,e){return rI({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:AS({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||mC(),routes:t,mapRouteProperties:UI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mC(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:gC(t.errors)}),t}function gC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new fu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I0=F.exports.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p,...m},v){let{basename:R}=F.exports.useContext(Un),k=typeof c=="string"&&S0.test(c),N,w=!1;if(typeof c=="string"&&k&&(N=c,T0))try{let T=new URL(window.location.href),I=c.startsWith("//")?new URL(T.protocol+c):new URL(c),P=hn(I.pathname,R);I.origin===T.origin&&P!=null?c=P+I.search+I.hash:w=!0}catch{gt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=II(c,{relative:i}),[E,M,A]=uC(r,m),U=EC(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function S(T){e&&e(T),T.defaultPrevented||U(T)}let y=F.exports.createElement("a",{...m,...A,href:N||_,onClick:w||o?e:S,ref:fC(v,M),target:u,"data-discover":!k&&n==="render"?"true":void 0});return E&&!k?F.exports.createElement(F.exports.Fragment,null,y,F.exports.createElement(cC,{page:_})):y});I0.displayName="Link";var yC=F.exports.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:l,children:u,...c},d){let p=Ea(s,{relative:c.relative}),m=ki(),v=F.exports.useContext(ya),{navigator:R,basename:k}=F.exports.useContext(Un),N=v!=null&&CC(p)&&l===!0,w=R.encodeLocation?R.encodeLocation(p).pathname:p.pathname,_=m.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&k&&(E=hn(E,k)||E);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let A=_===w||!i&&_.startsWith(w)&&_.charAt(M)==="/",U=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),S={isActive:A,isPending:U,isTransitioning:N},y=A?e:void 0,T;typeof r=="function"?T=r(S):T=[r,A?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return F.exports.createElement(I0,{...c,"aria-current":y,className:T,ref:d,style:I,to:s,viewTransition:l},typeof u=="function"?u(S):u)});yC.displayName="NavLink";var vC=F.exports.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Dl,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,...m},v)=>{let R=SC(),k=IC(l,{relative:c}),N=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&S0.test(l),_=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let M=E.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||s;R(M||E.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:p})};return F.exports.createElement("form",{ref:v,method:N,action:k,onSubmit:r?u:_,...m,"data-discover":!w&&t==="render"?"true":void 0})});vC.displayName="Form";function _C(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(t){let e=F.exports.useContext(Pi);return pe(e,_C(t)),e}function EC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=CI(),u=ki(),c=Ea(t,{relative:o});return F.exports.useCallback(d=>{if(QI(d,e)){d.preventDefault();let p=n!==void 0?n:Gr(u)===Gr(c);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,c,n,r,e,t,i,o,s])}var wC=0,TC=()=>`__${String(++wC)}__`;function SC(){let{router:t}=C0("useSubmit"),{basename:e}=F.exports.useContext(Un),n=MI();return F.exports.useCallback(async(r,i={})=>{let{action:o,method:s,encType:l,formData:u,body:c}=JI(r,e);if(i.navigate===!1){let d=i.fetcherKey||TC();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function IC(t,{relative:e}={}){let{basename:n}=F.exports.useContext(Un),r=F.exports.useContext(ur);pe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ea(t||".",{relative:e})},s=ki();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:On([n,o.pathname])),Gr(o)}function CC(t,e={}){let n=F.exports.useContext(Sf);pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=C0("useViewTransitionState"),i=Ea(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=hn(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=hn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return du(i.pathname,s)!=null||du(i.pathname,o)!=null}new TextEncoder;/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RC(t){return j(zI,{flushSync:Rd.exports.flushSync,...t})}const ce={boxWidth:"xl:max-w-[1280px] w-full",heading2:"font-poppins font-semibold xs:text-[48px] text-[40px] text-white xs:leading-[76.8px] leading-[66.8px] w-full",paragraph:"font-poppins font-normal text-dimWhite text-[18px] leading-[30.8px]",flexCenter:"flex justify-center items-center",flexStart:"flex justify-center items-start",paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-12 py-4",marginX:"sm:mx-16 mx-6",marginY:"sm:my-16 my-6"},ho={section:`flex md:flex-row flex-col ${ce.paddingY}`,sectionReverse:`flex md:flex-row flex-col-reverse ${ce.paddingY}`,sectionImgReverse:`flex-1 flex ${ce.flexCenter} md:mr-10 mr-0 md:mt-0 mt-10 relative`,sectionImg:`flex-1 flex ${ce.flexCenter} md:ml-10 ml-0 md:mt-0 mt-10 relative`,sectionInfo:`flex-1 ${ce.flexStart} flex-col`},AC="/assets/Send.454b3199.svg",xC="/assets/Shield.6d9e87e5.svg",PC="/assets/Star.b8bf87ea.svg",kC="/assets/menu.e0613cf3.svg",NC="/assets/close.945782e8.svg",DC="/assets/phishing.01221ba9.png",Ig=[{id:"home",link:"/",title:"Home"},{id:"features",link:"/#features",title:"Features"},{id:"product",link:"/product",title:"Product"},{id:"quiz",link:"/quiz",title:"Quiz"}],R0=[{id:"feature-1",icon:PC,title:"Versatile Usage",content:"Cerberus functions as both a website and a chrome extension."},{id:"feature-2",icon:xC,title:"Protect yourself from malicious emails",content:"Our built-in phishing scanner will process the information and provide a detailed analysis of whether or not it is a scam."},{id:"feature-3",icon:AC,title:"Get access to the Blacklist",content:"View our exclusive database of malicious emails. Once our system registers a malicious email, it will save the sender's address and alert other users who provide the same address."}],Pf=()=>{const[t,e]=F.exports.useState("Home"),[n,r]=F.exports.useState(!1);return we("nav",{className:"w-full flex py-6 justify-between items-center navbar",children:[j("p",{className:"font-poppins text-3xl font-bold text-white hover:text-gray-300 transition duration-300",children:"Cerberus"}),j("ul",{className:"list-none sm:flex hidden justify-end items-center flex-1",children:Ig.map(i=>j("li",{className:`font-poppins font-normal cursor-pointer text-[16px] ${t===i.title?"text-white":"text-dimWhite"} mx-4`,onClick:()=>e(i.title),children:j("a",{href:i.link,children:i.title})},i.id))}),we("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[j("img",{src:n?NC:kC,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>r(!n)}),j("div",{className:`${n?"flex":"hidden"} p-6 bg-black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] rounded-xl sidebar`,children:j("ul",{className:"list-none flex justify-end items-start flex-1 flex-col",children:Ig.map(i=>j("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${t===i.title?"text-white":"text-dimWhite"} mb-4`,onClick:()=>e(i.title),children:j("a",{href:i.link,children:i.title})},i.id))})})]})]})},VC=()=>we("section",{id:"product",className:ho.sectionReverse,children:[we("div",{className:ho.sectionImgReverse,children:[j("img",{src:DC,alt:"img",className:"w-[100%] h-[100%] relative z-[5]"}),j("div",{className:"absolute z-[3] -left-1/2 top-0 w-[50%] h-[50%] rounded-full white__gradient"}),j("div",{className:"absolute z-[0] w-[50%] h-[50%] -left-1/2 bottom-0 rounded-full pink__gradient"})]}),we("div",{className:ho.sectionInfo,children:[we("h2",{className:ce.heading2,children:["Our Inspiration ",j("br",{className:"sm:block hidden"})]}),j("p",{className:`${ce.paragraph} max-w-[470px] mt-5`,children:"We know how easy it is to fall victim to financial scams. We see it every day, on the news. While we were lucky to get extensive education on how to recognize and take action on phishing and fraud, some people have not received that training. The loss of such large amounts of money can impact people's lives substantially, and we just wanted to make the world a more just place in the ways we could."})]})]}),LC=({icon:t,title:e,content:n,index:r})=>we("div",{className:`flex flex-row p-6 rounded-[20px] ${r!==R0.length-1?"mb-6":"mb-0"} feature-card`,children:[j("div",{className:`w-[64px] h-[64px] rounded-full ${ce.flexCenter} bg-dimBlue`,children:j("img",{src:t,alt:"feature icon",className:"w-[50%] h-[50%] object-contain"})}),we("div",{className:"flex-1 flex flex-col ml-3",children:[j("h4",{className:"font-poppins font-semibold text-white text-[18px] leading-[23.4px] mb-1",children:e}),j("p",{className:"font-poppins font-normal text-dimWhite text-[16px] leading-[24px]",children:n})]})]}),OC=()=>we("section",{id:"features",className:`${ho.section} max-w-[1100px] mx-auto`,children:[we("div",{className:ho.sectionInfo,children:[j("h2",{className:ce.heading2,children:"Features"}),j("p",{className:`${ce.paragraph} max-w-[470px] mt-5`,children:"Detect fraud and phishing scams with just a click of a button!"})]}),j("div",{className:`${ho.sectionImg} flex-col`,children:R0.map((t,e)=>j(LC,{...t,index:e},t.id))})]});const kf=({styles:t,link:e,text:n="Get Started",handleOnClick:r})=>j("a",{href:e,onClick:r,className:`button py-4 px-6 font-poppins font-medium text-[18px] text-primary bg-blue-gradient rounded-[10px] outline-none ${t}`,children:n}),MC=()=>we("section",{className:`${ce.flexCenter} ${ce.marginY} ${ce.padding} sm:flex-row flex-col bg-black-gradient-2 rounded-[20px] box-shadow`,children:[we("div",{className:"flex-1 flex flex-col",children:[j("h2",{className:ce.heading2,children:"Get your security score!"}),j("p",{className:`${ce.paragraph} max-w-[470px] mt-5`,children:"Take our specialized security quiz to check your level of online safety."})]}),j("div",{className:`${ce.flexCenter} sm:ml-10 ml-0 sm:mt-0 mt-10`,children:j(kf,{text:"Get Started",link:"/quiz"})})]}),bC=()=>j("section",{className:`${ce.flexCenter} ${ce.paddingY} flex-col`,children:we("div",{className:"w-full flex justify-between items-center md:flex-row flex-col pt-6 border-t-[1px] border-t-[#3F3E45]",children:[j("p",{className:"font-poppins text-3xl font-bold text-white hover:text-gray-300 transition duration-300",children:"Cerberus"}),j("p",{className:"font-poppins font-normal text-center text-[18px] leading-[27px] text-white",children:"2025 Lexi, Arieana, Priya, Nithya."})]})}),FC=()=>we("section",{id:"home",className:`flex md:flex-row flex-col ${ce.paddingY} max-w-[1200px] mx-auto`,children:[we("div",{className:`flex-1 ${ce.flexStart} flex-col xl:px-0 sm:px-10 px-6`,children:[j("div",{className:"flex flex-row justify-between items-center w-full",children:we("h1",{className:"flex-1 font-poppins font-semibold ss:text-[64px] text-[48px] text-white ss:leading-[100.8px] leading-[75px]",children:["Cerberus",j("br",{className:"sm:block hidden"})," ",j("span",{className:"text-gradient",children:"Blu's Hacks"})," "]})}),j("p",{className:`${ce.paragraph} max-w-[500px] mt-5`,children:"Promoting financial security in emails and more with email fraud, scam, and phishing detection."}),j(kf,{styles:"mt-10",link:"/product"})]}),we("div",{className:`flex-1 flex ${ce.flexCenter} md:my-0 my-10 relative`,children:[j("div",{className:"absolute z-[0] w-[30%] h-[30%] top-0 pink__gradient"}),j("div",{className:"absolute z-[1] w-[70%] h-[70%] rounded-full white__gradient bottom-40"}),j("div",{className:"absolute z-[0] w-[40%] h-[40%] right-20 bottom-20 blue__gradient"})]})]});var Cg;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Cg||(Cg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rg;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Rg||(Rg={}));var Ag;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ag||(Ag={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=["user","model","function","system"];var Pg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Pg||(Pg={}));var kg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kg||(kg={}));var Ng;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ng||(Ng={}));var Dg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Dg||(Dg={}));var Ns;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Ns||(Ns={}));var Vg;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Vg||(Vg={}));var Lg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Lg||(Lg={}));var Og;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Og||(Og={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ji extends At{constructor(e,n){super(e),this.response=n}}class A0 extends At{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Ur extends At{}class x0 extends At{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="https://generativelanguage.googleapis.com",$C="v1beta",zC="0.24.0",jC="genai-js";var Ii;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ii||(Ii={}));class BC{constructor(e,n,r,i,o){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||$C;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||UC}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function HC(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${jC}/${zC}`),e.join(" ")}async function WC(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",HC(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ur(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,o]of r.entries()){if(i==="x-goog-api-key")throw new Ur(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ur(`Header name ${i} can only be set using the apiClient field`);n.append(i,o)}}return n}async function qC(t,e,n,r,i,o){const s=new BC(t,e,n,r,o);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},YC(o)),{method:"POST",headers:await WC(s),body:i})}}async function wa(t,e,n,r,i,o={},s=fetch){const{url:l,fetchOptions:u}=await qC(t,e,n,r,i,o);return GC(l,u,s)}async function GC(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){KC(i,t)}return r.ok||await QC(r,t),r}function KC(t,e){let n=t;throw n.name==="AbortError"?(n=new x0(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof A0||t instanceof Ur||(n=new At(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function QC(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new A0(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function YC(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ll(t.candidates[0]))throw new ji(`${Ir(t)}`,t);return XC(t)}else if(t.promptFeedback)throw new ji(`Text not available. ${Ir(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ll(t.candidates[0]))throw new ji(`${Ir(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Mg(t)[0]}else if(t.promptFeedback)throw new ji(`Function call not available. ${Ir(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ll(t.candidates[0]))throw new ji(`${Ir(t)}`,t);return Mg(t)}else if(t.promptFeedback)throw new ji(`Function call not available. ${Ir(t)}`,t)},t}function XC(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&o.push(s.text),s.executableCode&&o.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&o.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Mg(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&o.push(s.functionCall);if(o.length>0)return o}const JC=[Ns.RECITATION,Ns.SAFETY,Ns.LANGUAGE];function Ll(t){return!!t.finishReason&&JC.includes(t.finishReason)}function Ir(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];Ll(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function ta(t){return this instanceof ta?(this.v=t,this):new ta(t)}function ZC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(v){return new Promise(function(R,k){o.push([m,v,R,k])>1||l(m,v)})})}function l(m,v){try{u(r[m](v))}catch(R){p(o[0][3],R)}}function u(m){m.value instanceof ta?Promise.resolve(m.value.v).then(c,d):p(o[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function p(m,v){m(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function eR(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=rR(e),[r,i]=n.tee();return{stream:nR(r),response:tR(i)}}async function tR(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Nf(iR(e));e.push(i)}}function nR(t){return ZC(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield ta(n.read());if(i)break;yield yield ta(Nf(r))}})}function rR(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new At("Failed to parse stream"));return}r.close();return}i+=s;let u=i.match(bg),c;for(;u;){try{c=JSON.parse(u[1])}catch{r.error(new At(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(c),i=i.substring(u[0].length),u=i.match(bg)}return o()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new x0("Request aborted when reading from the stream"):l=new At("Error reading from the stream"),l})}}})}function iR(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const o of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].groundingMetadata=o.groundingMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[]});const s={};for(const l of o.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(t,e,n,r){const i=await wa(e,Ii.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return eR(i)}async function k0(t,e,n,r){const o=await(await wa(e,Ii.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Nf(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function na(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return oR(e)}function oR(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new At("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new At("No content is provided for sending chat message.");return r?e:n}function sR(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Ur("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const o=na(t);r.contents=[o]}return{generateContentRequest:r}}function Fg(t){let e;return t.contents?e=t:e={contents:[na(t)]},t.systemInstruction&&(e.systemInstruction=N0(t.systemInstruction)),e}function aR(t){return typeof t=="string"||Array.isArray(t)?{content:na(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],lR={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function uR(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new At(`First content should be with role 'user', got ${r}`);if(!xg.includes(r))throw new At(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(xg)}`);if(!Array.isArray(i))throw new At("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new At("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of Ug)u in l&&(o[u]+=1);const s=lR[r];for(const l of Ug)if(!s.includes(l)&&o[l]>0)throw new At(`Content with role '${r}' can't contain '${l}' part`);e=!0}}function $g(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="SILENT_ERROR";class cR{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(uR(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,o,s,l,u;await this._sendPromise;const c=na(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,c]},p=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>k0(this._apiKey,this.model,d,p)).then(v=>{var R;if($g(v.response)){this._history.push(c);const k=Object.assign({parts:[],role:"model"},(R=v.response.candidates)===null||R===void 0?void 0:R[0].content);this._history.push(k)}else{const k=Ir(v.response);k&&console.warn(`sendMessage() was unsuccessful. ${k}. Inspect response object for details.`)}m=v}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,i,o,s,l,u;await this._sendPromise;const c=na(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,c]},p=Object.assign(Object.assign({},this._requestOptions),n),m=P0(this._apiKey,this.model,d,p);return this._sendPromise=this._sendPromise.then(()=>m).catch(v=>{throw new Error(zg)}).then(v=>v.response).then(v=>{if($g(v)){this._history.push(c);const R=Object.assign({},v.candidates[0].content);R.role||(R.role="model"),this._history.push(R)}else{const R=Ir(v);R&&console.warn(`sendMessageStream() was unsuccessful. ${R}. Inspect response object for details.`)}}).catch(v=>{v.message!==zg&&console.error(v)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e,n,r){return(await wa(e,Ii.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n,r){return(await wa(e,Ii.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function fR(t,e,n,r){const i=n.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(await wa(e,Ii.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=N0(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=Fg(e),o=Object.assign(Object.assign({},this._requestOptions),n);return k0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}async generateContentStream(e,n={}){var r;const i=Fg(e),o=Object.assign(Object.assign({},this._requestOptions),n);return P0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}startChat(e){var n;return new cR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=sR(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return hR(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=aR(e),i=Object.assign(Object.assign({},this._requestOptions),n);return dR(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return fR(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new At("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new jg(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Ur("Cached content must contain a `name` field.");if(!e.model)throw new Ur("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if((n==null?void 0:n[s])&&e[s]&&(n==null?void 0:n[s])!==e[s]){if(s==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===u)continue}throw new Ur(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${e[s]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new jg(this.apiKey,o,r)}}const mR=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,v=c&63;u||(v=64,s||(m=64)),r.push(n[d],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new yR;const m=o<<2|l>>4;if(r.push(m),c!==64){const v=l<<4&240|c>>2;if(r.push(v),p!==64){const R=c<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(t){const e=D0(t);return V0.encodeByteArray(e,!0)},pu=function(t){return vR(t).replace(/\./g,"")},_R=function(t){try{return V0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=()=>ER().__FIREBASE_DEFAULTS__,TR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_R(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return mR()||wR()||TR()||SR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IR=t=>{var e,n;return(n=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CR=t=>{const e=IR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L0=()=>{var t;return(t=Df())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[pu(JSON.stringify(n)),pu(JSON.stringify(s)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){var t;const e=(t=Df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return!PR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VR,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O0.prototype.create)}}class O0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LR(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Vo(i,l,r)}}function LR(t,e){return t.replace(OR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OR=/\{\$([^}]+)}/g;function mu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Bg(o)&&Bg(s)){if(!mu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return t&&t._delegate?t._delegate:t}class ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(t){return t===ci?void 0:t}function FR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const $R={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},zR=ve.INFO,jR={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},BR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M0{constructor(e){this.name=e,this._logLevel=zR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const HR=(t,e)=>e.some(n=>t instanceof n);let Hg,Wg;function WR(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return Wg||(Wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,Jh=new WeakMap,F0=new WeakMap,Kc=new WeakMap,Vf=new WeakMap;function GR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($r(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&b0.set(n,t)}).catch(()=>{}),Vf.set(e,t),e}function KR(t){if(Jh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jh.set(t,e)}let Zh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QR(t){Zh=t(Zh)}function YR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qc(this),e,...n);return F0.set(r,e.sort?e.sort():[e]),$r(r)}:qR().includes(t)?function(...e){return t.apply(Qc(this),e),$r(b0.get(this))}:function(...e){return $r(t.apply(Qc(this),e))}}function XR(t){return typeof t=="function"?YR(t):(t instanceof IDBTransaction&&KR(t),HR(t,WR())?new Proxy(t,Zh):t)}function $r(t){if(t instanceof IDBRequest)return GR(t);if(Kc.has(t))return Kc.get(t);const e=XR(t);return e!==t&&(Kc.set(t,e),Vf.set(e,t)),e}const Qc=t=>Vf.get(t);function JR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=$r(s);return r&&s.addEventListener("upgradeneeded",u=>{r($r(s.result),u.oldVersion,u.newVersion,$r(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const ZR=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],Yc=new Map;function qg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yc.get(e))return Yc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZR.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Yc.set(e,o),o}QR(t=>({...t,get:(e,n,r)=>qg(e,n)||t.get(e,n,r),has:(e,n)=>!!qg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",Gg="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new M0("@firebase/app"),rA="@firebase/app-compat",iA="@firebase/analytics-compat",oA="@firebase/analytics",sA="@firebase/app-check-compat",aA="@firebase/app-check",lA="@firebase/auth",uA="@firebase/auth-compat",cA="@firebase/database",hA="@firebase/data-connect",dA="@firebase/database-compat",fA="@firebase/functions",pA="@firebase/functions-compat",mA="@firebase/installations",gA="@firebase/installations-compat",yA="@firebase/messaging",vA="@firebase/messaging-compat",_A="@firebase/performance",EA="@firebase/performance-compat",wA="@firebase/remote-config",TA="@firebase/remote-config-compat",SA="@firebase/storage",IA="@firebase/storage-compat",CA="@firebase/firestore",RA="@firebase/vertexai",AA="@firebase/firestore-compat",xA="firebase",PA="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",kA={[ed]:"fire-core",[rA]:"fire-core-compat",[oA]:"fire-analytics",[iA]:"fire-analytics-compat",[aA]:"fire-app-check",[sA]:"fire-app-check-compat",[lA]:"fire-auth",[uA]:"fire-auth-compat",[cA]:"fire-rtdb",[hA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[fA]:"fire-fn",[pA]:"fire-fn-compat",[mA]:"fire-iid",[gA]:"fire-iid-compat",[yA]:"fire-fcm",[vA]:"fire-fcm-compat",[_A]:"fire-perf",[EA]:"fire-perf-compat",[wA]:"fire-rc",[TA]:"fire-rc-compat",[SA]:"fire-gcs",[IA]:"fire-gcs-compat",[CA]:"fire-fst",[AA]:"fire-fst-compat",[RA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,NA=new Map,nd=new Map;function Kg(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yu(t){const e=t.name;if(nd.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,t);for(const n of gu.values())Kg(n,t);for(const n of NA.values())Kg(n,t);return!0}function DA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VA(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},zr=new O0("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=PA;function U0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:td,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=L0()),!n)throw zr.create("no-options");const o=gu.get(i);if(o){if(mu(n,o.options)&&mu(r,o.config))return o;throw zr.create("duplicate-app",{appName:i})}const s=new UR(i);for(const u of nd.values())s.addComponent(u);const l=new OA(n,r,s);return gu.set(i,l),l}function bA(t=td){const e=gu.get(t);if(!e&&t===td&&L0())return U0();if(!e)throw zr.create("no-app",{appName:t});return e}function fo(t,e,n){var r;let i=(r=kA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(l.join(" "));return}yu(new ra(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebase-heartbeat-database",UA=1,ia="firebase-heartbeat-store";let Xc=null;function $0(){return Xc||(Xc=JR(FA,UA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),Xc}async function $A(t){try{const n=(await $0()).transaction(ia),r=await n.objectStore(ia).get(z0(t));return await n.done,r}catch(e){if(e instanceof Vo)ir.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Qg(t,e){try{const r=(await $0()).transaction(ia,"readwrite");await r.objectStore(ia).put(e,z0(t)),await r.done}catch(n){if(n instanceof Vo)ir.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function z0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1024,jA=30;class BA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jA){const s=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yg(),{heartbeatsToSend:r,unsentEntries:i}=HA(this._heartbeatsCache.heartbeats),o=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ir.warn(n),""}}}function Yg(){return new Date().toISOString().substring(0,10)}function HA(t,e=zA){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Xg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?DR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $A(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xg(t){return pu(JSON.stringify({version:2,heartbeats:t})).length}function qA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){yu(new ra("platform-logger",e=>new tA(e),"PRIVATE")),yu(new ra("heartbeat",e=>new BA(e),"PRIVATE")),fo(ed,Gg,t),fo(ed,Gg,"esm2017"),fo("fire-js","")}GA("");var KA="firebase",QA="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(KA,QA,"app");var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,j0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function T(){}T.prototype=y.prototype,S.D=y.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(I,P,D){for(var C=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)C[lt-2]=arguments[lt];return y.prototype[P].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,T){T||(T=0);var I=Array(16);if(typeof y=="string")for(var P=0;16>P;++P)I[P]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(P=0;16>P;++P)I[P]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=S.g[0],T=S.g[1],P=S.g[2];var D=S.g[3],C=y+(D^T&(P^D))+I[0]+3614090360&4294967295;y=T+(C<<7&4294967295|C>>>25),C=D+(P^y&(T^P))+I[1]+3905402710&4294967295,D=y+(C<<12&4294967295|C>>>20),C=P+(T^D&(y^T))+I[2]+606105819&4294967295,P=D+(C<<17&4294967295|C>>>15),C=T+(y^P&(D^y))+I[3]+3250441966&4294967295,T=P+(C<<22&4294967295|C>>>10),C=y+(D^T&(P^D))+I[4]+4118548399&4294967295,y=T+(C<<7&4294967295|C>>>25),C=D+(P^y&(T^P))+I[5]+1200080426&4294967295,D=y+(C<<12&4294967295|C>>>20),C=P+(T^D&(y^T))+I[6]+2821735955&4294967295,P=D+(C<<17&4294967295|C>>>15),C=T+(y^P&(D^y))+I[7]+4249261313&4294967295,T=P+(C<<22&4294967295|C>>>10),C=y+(D^T&(P^D))+I[8]+1770035416&4294967295,y=T+(C<<7&4294967295|C>>>25),C=D+(P^y&(T^P))+I[9]+2336552879&4294967295,D=y+(C<<12&4294967295|C>>>20),C=P+(T^D&(y^T))+I[10]+4294925233&4294967295,P=D+(C<<17&4294967295|C>>>15),C=T+(y^P&(D^y))+I[11]+2304563134&4294967295,T=P+(C<<22&4294967295|C>>>10),C=y+(D^T&(P^D))+I[12]+1804603682&4294967295,y=T+(C<<7&4294967295|C>>>25),C=D+(P^y&(T^P))+I[13]+4254626195&4294967295,D=y+(C<<12&4294967295|C>>>20),C=P+(T^D&(y^T))+I[14]+2792965006&4294967295,P=D+(C<<17&4294967295|C>>>15),C=T+(y^P&(D^y))+I[15]+1236535329&4294967295,T=P+(C<<22&4294967295|C>>>10),C=y+(P^D&(T^P))+I[1]+4129170786&4294967295,y=T+(C<<5&4294967295|C>>>27),C=D+(T^P&(y^T))+I[6]+3225465664&4294967295,D=y+(C<<9&4294967295|C>>>23),C=P+(y^T&(D^y))+I[11]+643717713&4294967295,P=D+(C<<14&4294967295|C>>>18),C=T+(D^y&(P^D))+I[0]+3921069994&4294967295,T=P+(C<<20&4294967295|C>>>12),C=y+(P^D&(T^P))+I[5]+3593408605&4294967295,y=T+(C<<5&4294967295|C>>>27),C=D+(T^P&(y^T))+I[10]+38016083&4294967295,D=y+(C<<9&4294967295|C>>>23),C=P+(y^T&(D^y))+I[15]+3634488961&4294967295,P=D+(C<<14&4294967295|C>>>18),C=T+(D^y&(P^D))+I[4]+3889429448&4294967295,T=P+(C<<20&4294967295|C>>>12),C=y+(P^D&(T^P))+I[9]+568446438&4294967295,y=T+(C<<5&4294967295|C>>>27),C=D+(T^P&(y^T))+I[14]+3275163606&4294967295,D=y+(C<<9&4294967295|C>>>23),C=P+(y^T&(D^y))+I[3]+4107603335&4294967295,P=D+(C<<14&4294967295|C>>>18),C=T+(D^y&(P^D))+I[8]+1163531501&4294967295,T=P+(C<<20&4294967295|C>>>12),C=y+(P^D&(T^P))+I[13]+2850285829&4294967295,y=T+(C<<5&4294967295|C>>>27),C=D+(T^P&(y^T))+I[2]+4243563512&4294967295,D=y+(C<<9&4294967295|C>>>23),C=P+(y^T&(D^y))+I[7]+1735328473&4294967295,P=D+(C<<14&4294967295|C>>>18),C=T+(D^y&(P^D))+I[12]+2368359562&4294967295,T=P+(C<<20&4294967295|C>>>12),C=y+(T^P^D)+I[5]+4294588738&4294967295,y=T+(C<<4&4294967295|C>>>28),C=D+(y^T^P)+I[8]+2272392833&4294967295,D=y+(C<<11&4294967295|C>>>21),C=P+(D^y^T)+I[11]+1839030562&4294967295,P=D+(C<<16&4294967295|C>>>16),C=T+(P^D^y)+I[14]+4259657740&4294967295,T=P+(C<<23&4294967295|C>>>9),C=y+(T^P^D)+I[1]+2763975236&4294967295,y=T+(C<<4&4294967295|C>>>28),C=D+(y^T^P)+I[4]+1272893353&4294967295,D=y+(C<<11&4294967295|C>>>21),C=P+(D^y^T)+I[7]+4139469664&4294967295,P=D+(C<<16&4294967295|C>>>16),C=T+(P^D^y)+I[10]+3200236656&4294967295,T=P+(C<<23&4294967295|C>>>9),C=y+(T^P^D)+I[13]+681279174&4294967295,y=T+(C<<4&4294967295|C>>>28),C=D+(y^T^P)+I[0]+3936430074&4294967295,D=y+(C<<11&4294967295|C>>>21),C=P+(D^y^T)+I[3]+3572445317&4294967295,P=D+(C<<16&4294967295|C>>>16),C=T+(P^D^y)+I[6]+76029189&4294967295,T=P+(C<<23&4294967295|C>>>9),C=y+(T^P^D)+I[9]+3654602809&4294967295,y=T+(C<<4&4294967295|C>>>28),C=D+(y^T^P)+I[12]+3873151461&4294967295,D=y+(C<<11&4294967295|C>>>21),C=P+(D^y^T)+I[15]+530742520&4294967295,P=D+(C<<16&4294967295|C>>>16),C=T+(P^D^y)+I[2]+3299628645&4294967295,T=P+(C<<23&4294967295|C>>>9),C=y+(P^(T|~D))+I[0]+4096336452&4294967295,y=T+(C<<6&4294967295|C>>>26),C=D+(T^(y|~P))+I[7]+1126891415&4294967295,D=y+(C<<10&4294967295|C>>>22),C=P+(y^(D|~T))+I[14]+2878612391&4294967295,P=D+(C<<15&4294967295|C>>>17),C=T+(D^(P|~y))+I[5]+4237533241&4294967295,T=P+(C<<21&4294967295|C>>>11),C=y+(P^(T|~D))+I[12]+1700485571&4294967295,y=T+(C<<6&4294967295|C>>>26),C=D+(T^(y|~P))+I[3]+2399980690&4294967295,D=y+(C<<10&4294967295|C>>>22),C=P+(y^(D|~T))+I[10]+4293915773&4294967295,P=D+(C<<15&4294967295|C>>>17),C=T+(D^(P|~y))+I[1]+2240044497&4294967295,T=P+(C<<21&4294967295|C>>>11),C=y+(P^(T|~D))+I[8]+1873313359&4294967295,y=T+(C<<6&4294967295|C>>>26),C=D+(T^(y|~P))+I[15]+4264355552&4294967295,D=y+(C<<10&4294967295|C>>>22),C=P+(y^(D|~T))+I[6]+2734768916&4294967295,P=D+(C<<15&4294967295|C>>>17),C=T+(D^(P|~y))+I[13]+1309151649&4294967295,T=P+(C<<21&4294967295|C>>>11),C=y+(P^(T|~D))+I[4]+4149444226&4294967295,y=T+(C<<6&4294967295|C>>>26),C=D+(T^(y|~P))+I[11]+3174756917&4294967295,D=y+(C<<10&4294967295|C>>>22),C=P+(y^(D|~T))+I[2]+718787259&4294967295,P=D+(C<<15&4294967295|C>>>17),C=T+(D^(P|~y))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var T=y-this.blockSize,I=this.B,P=this.h,D=0;D<y;){if(P==0)for(;D<=T;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<y;)if(I[P++]=S.charCodeAt(D++),P==this.blockSize){i(this,I),P=0;break}}else for(;D<y;)if(I[P++]=S[D++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var T=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=T&255,T/=256;for(this.u(S),S=Array(16),y=T=0;4>y;++y)for(var I=0;32>I;I+=8)S[T++]=this.g[y]>>>I&255;return S};function o(S,y){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=y(S)}function s(S,y){this.h=y;for(var T=[],I=!0,P=S.length-1;0<=P;P--){var D=S[P]|0;I&&D==y||(T[P]=D,I=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?o(S,function(y){return new s([y|0],0>y?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return N(c(-S));for(var y=[],T=1,I=0;S>=T;I++)y[I]=S/T|0,T*=4294967296;return new s(y,0)}function d(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return N(d(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(y,8)),I=p,P=0;P<S.length;P+=8){var D=Math.min(8,S.length-P),C=parseInt(S.substring(P,P+D),y);8>D?(D=c(Math.pow(y,D)),I=I.j(D).add(c(C))):(I=I.j(T),I=I.add(c(C)))}return I}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-N(this).m();for(var S=0,y=1,T=0;T<this.g.length;T++){var I=this.i(T);S+=(0<=I?I:4294967296+I)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R(this))return"0";if(k(this))return"-"+N(this).toString(S);for(var y=c(Math.pow(S,6)),T=this,I="";;){var P=M(T,y).g;T=w(T,P.j(y));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=P,R(T))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function R(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function k(S){return S.h==-1}t.l=function(S){return S=w(this,S),k(S)?-1:R(S)?0:1};function N(S){for(var y=S.g.length,T=[],I=0;I<y;I++)T[I]=~S.g[I];return new s(T,~S.h).add(m)}t.abs=function(){return k(this)?N(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],I=0,P=0;P<=y;P++){var D=I+(this.i(P)&65535)+(S.i(P)&65535),C=(D>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);I=C>>>16,D&=65535,C&=65535,T[P]=C<<16|D}return new s(T,T[T.length-1]&-2147483648?-1:0)};function w(S,y){return S.add(N(y))}t.j=function(S){if(R(this)||R(S))return p;if(k(this))return k(S)?N(this).j(N(S)):N(N(this).j(S));if(k(S))return N(this.j(N(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,T=[],I=0;I<2*y;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<S.g.length;P++){var D=this.i(I)>>>16,C=this.i(I)&65535,lt=S.i(P)>>>16,Ne=S.i(P)&65535;T[2*I+2*P]+=C*Ne,_(T,2*I+2*P),T[2*I+2*P+1]+=D*Ne,_(T,2*I+2*P+1),T[2*I+2*P+1]+=C*lt,_(T,2*I+2*P+1),T[2*I+2*P+2]+=D*lt,_(T,2*I+2*P+2)}for(I=0;I<y;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=y;I<2*y;I++)T[I]=0;return new s(T,0)};function _(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function E(S,y){this.g=S,this.h=y}function M(S,y){if(R(y))throw Error("division by zero");if(R(S))return new E(p,p);if(k(S))return y=M(N(S),y),new E(N(y.g),N(y.h));if(k(y))return y=M(S,N(y)),new E(N(y.g),y.h);if(30<S.g.length){if(k(S)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,I=y;0>=I.l(S);)T=A(T),I=A(I);var P=U(T,1),D=U(I,1);for(I=U(I,2),T=U(T,2);!R(I);){var C=D.add(I);0>=C.l(S)&&(P=P.add(T),D=C),I=U(I,1),T=U(T,1)}return y=w(S,P.j(y)),new E(P,y)}for(P=p;0<=S.l(y);){for(T=Math.max(1,Math.floor(S.m()/y.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=c(T),C=D.j(y);k(C)||0<C.l(S);)T-=I,D=c(T),C=D.j(y);R(D)&&(D=m),P=P.add(D),S=w(S,C)}return new E(P,S)}t.A=function(S){return M(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],I=0;I<y;I++)T[I]=this.i(I)&S.i(I);return new s(T,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],I=0;I<y;I++)T[I]=this.i(I)|S.i(I);return new s(T,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],I=0;I<y;I++)T[I]=this.i(I)^S.i(I);return new s(T,this.h^S.h)};function A(S){for(var y=S.g.length+1,T=[],I=0;I<y;I++)T[I]=S.i(I)<<1|S.i(I-1)>>>31;return new s(T,S.h)}function U(S,y){var T=y>>5;y%=32;for(var I=S.g.length-T,P=[],D=0;D<I;D++)P[D]=0<y?S.i(D+T)>>>y|S.i(D+T+1)<<32-y:S.i(D+T);return new s(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,j0=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,jr=s}).apply(typeof Jg<"u"?Jg:typeof self<"u"?self:typeof window<"u"?window:{});var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,_s,H0,Ol,rd,W0,q0,G0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof fl=="object"&&fl];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var L=a[g];if(!(L in f))break e;f=f[L]}a=a[a.length-1],g=f[a],h=h(g),h!=g&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var f=0,g=!1,L={next:function(){if(!g&&f<a.length){var b=f++;return{value:h(b,a[b]),done:!1}}return g=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function p(a,h,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,g),a.apply(h,L)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function v(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function R(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,L,b){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return h.prototype[L].apply(g,q)}}function k(a){const h=a.length;if(0<h){const f=Array(h);for(let g=0;g<h;g++)f[g]=a[g];return f}return[]}function N(a,h){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const L=a.length||0,b=g.length||0;a.length=L+b;for(let q=0;q<b;q++)a[L+q]=g[q]}else a.push(g)}}class w{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(a){return/^[\s\xa0]*$/.test(a)}function E(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function U(a,h,f){for(const g in a)h.call(f,a[g],g,a)}function S(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function y(a){const h={};for(const f in a)h[f]=a[f];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let f,g;for(let L=1;L<arguments.length;L++){g=arguments[L];for(f in g)a[f]=g[f];for(let b=0;b<T.length;b++)f=T[b],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function P(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function D(a){l.setTimeout(()=>{throw a},0)}function C(){var a=te;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class lt{constructor(){this.h=this.g=null}add(h,f){const g=Ne.get();g.set(h,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ne=new w(()=>new xn,a=>a.reset());class xn{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,G=!1,te=new lt,se=()=>{const a=l.Promise.resolve(void 0);Pt=()=>{a.then(Ie)}};var Ie=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(f){D(f)}var h=Ne;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}G=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function ut(a,h){if(Ce.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(A){e:{try{M(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:dn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ut.aa.h.call(this)}}R(ut,Ce);var dn={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),lc=0;function ct(a,h,f,g,L){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!g,this.ha=L,this.key=++lc,this.da=this.fa=!1}function fn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ri(a){this.src=a,this.g={},this.h=0}ri.prototype.add=function(a,h,f,g,L){var b=a.toString();a=this.g[b],a||(a=this.g[b]=[],this.h++);var q=pn(a,h,g,L);return-1<q?(h=a[q],f||(h.fa=!1)):(h=new ct(h,this.src,b,!!g,L),h.fa=f,a.push(h)),h};function Uo(a,h){var f=h.type;if(f in a.g){var g=a.g[f],L=Array.prototype.indexOf.call(g,h,void 0),b;(b=0<=L)&&Array.prototype.splice.call(g,L,1),b&&(fn(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function pn(a,h,f,g){for(var L=0;L<a.length;++L){var b=a[L];if(!b.da&&b.listener==h&&b.capture==!!f&&b.ha==g)return L}return-1}var $o="closure_lm_"+(1e6*Math.random()|0),zo={};function jo(a,h,f,g,L){if(g&&g.once)return xa(a,h,f,g,L);if(Array.isArray(h)){for(var b=0;b<h.length;b++)jo(a,h[b],f,g,L);return null}return f=jt(f),a&&a[Jt]?a.K(h,f,c(g)?!!g.capture:!!g,L):Aa(a,h,f,!1,g,L)}function Aa(a,h,f,g,L,b){if(!h)throw Error("Invalid event type");var q=c(L)?!!L.capture:!!L,ke=ii(a);if(ke||(a[$o]=ke=new ri(a)),f=ke.add(h,f,g,q,b),f.proxy)return f;if(g=uc(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)Lt||(L=q),L===void 0&&(L=!1),a.addEventListener(h.toString(),g,L);else if(a.attachEvent)a.attachEvent(cr(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function uc(){function a(f){return h.call(a.src,a.listener,f)}const h=ka;return a}function xa(a,h,f,g,L){if(Array.isArray(h)){for(var b=0;b<h.length;b++)xa(a,h[b],f,g,L);return null}return f=jt(f),a&&a[Jt]?a.L(h,f,c(g)?!!g.capture:!!g,L):Aa(a,h,f,!0,g,L)}function Pa(a,h,f,g,L){if(Array.isArray(h))for(var b=0;b<h.length;b++)Pa(a,h[b],f,g,L);else g=c(g)?!!g.capture:!!g,f=jt(f),a&&a[Jt]?(a=a.i,h=String(h).toString(),h in a.g&&(b=a.g[h],f=pn(b,f,g,L),-1<f&&(fn(b[f]),Array.prototype.splice.call(b,f,1),b.length==0&&(delete a.g[h],a.h--)))):a&&(a=ii(a))&&(h=a.g[h.toString()],a=-1,h&&(a=pn(h,f,g,L)),(f=-1<a?h[a]:null)&&mn(f))}function mn(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Jt])Uo(h.i,a);else{var f=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(f,g,a.capture):h.detachEvent?h.detachEvent(cr(f),g):h.addListener&&h.removeListener&&h.removeListener(g),(f=ii(h))?(Uo(f,a),f.h==0&&(f.src=null,h[$o]=null)):fn(a)}}}function cr(a){return a in zo?zo[a]:zo[a]="on"+a}function ka(a,h){if(a.da)a=!0;else{h=new ut(h,this);var f=a.listener,g=a.ha||a.src;a.fa&&mn(a),a=f.call(g,h)}return a}function ii(a){return a=a[$o],a instanceof ri?a:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(a){return typeof a=="function"?a:(a[Zt]||(a[Zt]=function(h){return a.handleEvent(h)}),a[Zt])}function Je(){de.call(this),this.i=new ri(this),this.M=this,this.F=null}R(Je,de),Je.prototype[Jt]=!0,Je.prototype.removeEventListener=function(a,h,f,g){Pa(this,a,h,f,g)};function Ze(a,h){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new Ce(h,a);else if(h instanceof Ce)h.target=h.target||a;else{var L=h;h=new Ce(g,a),I(h,L)}if(L=!0,f)for(var b=f.length-1;0<=b;b--){var q=h.g=f[b];L=Oi(q,g,!0,h)&&L}if(q=h.g=a,L=Oi(q,g,!0,h)&&L,L=Oi(q,g,!1,h)&&L,f)for(b=0;b<f.length;b++)q=h.g=f[b],L=Oi(q,g,!1,h)&&L}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],g=0;g<f.length;g++)fn(f[g]);delete a.g[h],a.h--}}this.F=null},Je.prototype.K=function(a,h,f,g){return this.i.add(String(a),h,!1,f,g)},Je.prototype.L=function(a,h,f,g){return this.i.add(String(a),h,!0,f,g)};function Oi(a,h,f,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,b=0;b<h.length;++b){var q=h[b];if(q&&!q.da&&q.capture==f){var ke=q.listener,ht=q.ha||q.src;q.fa&&Uo(a.i,q),L=ke.call(ht,g)!==!1&&L}}return L&&!g.defaultPrevented}function gn(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Bo(a){a.g=gn(()=>{a.g=null,a.i&&(a.i=!1,Bo(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Na extends de{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(a){de.call(this),this.h=a,this.g={}}R(hr,de);var Da=[];function Ho(a){U(a.g,function(h,f){this.g.hasOwnProperty(f)&&mn(h)},a),a.g={}}hr.prototype.N=function(){hr.aa.N.call(this),Ho(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=l.JSON.stringify,Va=l.JSON.parse,Wo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function qo(){}qo.prototype.h=null;function Go(a){return a.h||(a.h=a.i())}function La(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){Ce.call(this,"d")}R(pr,Ce);function mr(){Ce.call(this,"c")}R(mr,Ce);var $n={},Oa=null;function x(){return Oa=Oa||new Je}$n.La="serverreachability";function V(a){Ce.call(this,$n.La,a)}R(V,Ce);function O(a){const h=x();Ze(h,new V(h))}$n.STAT_EVENT="statevent";function B(a,h){Ce.call(this,$n.STAT_EVENT,a),this.stat=h}R(B,Ce);function W(a){const h=x();Ze(h,new B(h,a))}$n.Ma="timingevent";function ie(a,h){Ce.call(this,$n.Ma,a),this.size=h}R(ie,Ce);function ne(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function J(){this.g=!0}J.prototype.xa=function(){this.g=!1};function ee(a,h,f,g,L,b){a.info(function(){if(a.g)if(b)for(var q="",ke=b.split("&"),ht=0;ht<ke.length;ht++){var Ee=ke[ht].split("=");if(1<Ee.length){var _t=Ee[0];Ee=Ee[1];var Et=_t.split("_");q=2<=Et.length&&Et[1]=="type"?q+(_t+"="+Ee+"&"):q+(_t+"=redacted&")}}else q=null;else q=b;return"XMLHTTP REQ ("+g+") [attempt "+L+"]: "+h+`
`+f+`
`+q})}function K(a,h,f,g,L,b,q){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+L+"]: "+h+`
`+f+`
`+b+" "+q})}function Z(a,h,f,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ge(a,f)+(g?" "+g:"")})}function oe(a,h){a.info(function(){return"TIMEOUT: "+h})}J.prototype.info=function(){};function ge(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var L=g[1];if(Array.isArray(L)&&!(1>L.length)){var b=L[0];if(b!="noop"&&b!="stop"&&b!="close")for(var q=1;q<L.length;q++)L[q]=""}}}}return dr(f)}catch{return h}}var xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},et={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function Pe(){}R(Pe,qo),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},be=new Pe;function Ae(a,h,f,g){this.j=a,this.i=h,this.l=f,this.R=g||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var gr={},Bt={};function Ot(a,h,f){a.L=1,a.v=Ua(qn(h)),a.m=f,a.P=!0,Mi(a,null)}function Mi(a,h){a.F=Date.now(),Bn(a),a.A=qn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Tp(f.i,"t",g),a.C=0,f=a.j.J,a.h=new zn,a.g=$p(a.j,f?h:null,!a.m),0<a.O&&(a.M=new Na(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,g=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(Da[0]=L.toString()),L=Da);for(var b=0;b<L.length;b++){var q=jo(f,L[b],g||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),O(),ee(a.i,a.u,a.A,a.l,a.R,a.m)}Ae.prototype.ca=function(a){a=a.target;const h=this.M;h&&Gn(a)==3?h.j():this.Y(a)},Ae.prototype.Y=function(a){try{if(a==this.g)e:{const Et=Gn(this.g);var h=this.g.Ba();const Ui=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Pp(this.g)))){this.J||Et!=4||h==7||(h==8||0>=Ui?O(3):O(2)),Te(this);var f=this.g.Z();this.X=f;t:if(yr(this)){var g=Pp(this.g);a="";var L=g.length,b=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Be(this);var q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(b&&h==L-1)});g.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,K(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,ht=this.g;if((ke=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ke)){var Ee=ke;break t}}Ee=null}if(f=Ee)Z(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,f);else{this.o=!1,this.s=3,W(12),en(this),Be(this);break e}}if(this.P){f=!0;let yn;for(;!this.J&&this.C<q.length;)if(yn=jn(this,q),yn==Bt){Et==4&&(this.s=4,W(14),f=!1),Z(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==gr){this.s=4,W(15),Z(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else Z(this.i,this.l,yn,null),Hn(this,yn);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||q.length!=0||this.h.h||(this.s=1,W(16),f=!1),this.o=this.o&&f,!f)Z(this.i,this.l,q,"[Invalid Chunked Response]"),en(this),Be(this);else if(0<q.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),mc(_t),_t.M=!0,W(11))}}else Z(this.i,this.l,q,null),Hn(this,q);Et==4&&en(this),this.o&&!this.J&&(Et==4?Mp(this.j,this):(this.o=!1,Bn(this)))}else bw(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),en(this),Be(this)}}}catch{}finally{}};function yr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function jn(a,h){var f=a.C,g=h.indexOf(`
`,f);return g==-1?Bt:(f=Number(h.substring(f,g)),isNaN(f)?gr:(g+=1,g+f>h.length?Bt:(h=h.slice(g,g+f),a.C=g+f,h)))}Ae.prototype.cancel=function(){this.J=!0,en(this)};function Bn(a){a.S=Date.now()+a.I,oi(a,a.I)}function oi(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ne(m(a.ba,a),h)}function Te(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ae.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(oe(this.i,this.A),this.L!=2&&(O(),W(17)),en(this),this.s=2,Be(this)):oi(this,this.S-a)};function Be(a){a.j.G==0||a.J||Mp(a.j,a)}function en(a){Te(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Ho(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Hn(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||cc(f.h,a))){if(!a.K&&cc(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var L=g;if(L[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Wa(f),Ba(f);else break e;pc(f),W(18)}}else f.za=L[1],0<f.za-f.T&&37500>L[2]&&f.F&&f.v==0&&!f.C&&(f.C=ne(m(f.Za,f),6e3));if(1>=Ma(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ai(f,11)}else if((a.K||f.g==a)&&Wa(f),!_(h))for(L=f.Da.g.parse(h),h=0;h<L.length;h++){let Ee=L[h];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];const _t=Ee[3];_t!=null&&(f.la=_t,f.j.info("VER="+f.la));const Et=Ee[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));const Ui=Ee[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(g=1.5*Ui,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const yn=a.g;if(yn){const Ga=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var b=g.h;b.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(hc(b,b.h),b.h=null))}if(g.D){const gc=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;gc&&(g.ya=gc,Ve(g.I,g.D,gc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var q=a;if(g.qa=Up(g,g.J?g.ia:null,g.W),q.K){pp(g.h,q);var ke=q,ht=g.L;ht&&(ke.I=ht),ke.B&&(Te(ke),Bn(ke)),g.g=q}else Lp(g);0<f.i.length&&Ha(f)}else Ee[0]!="stop"&&Ee[0]!="close"||ai(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?ai(f,7):fc(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}O(4)}catch{}}var He=class{constructor(a,h){this.g=a,this.map=h}};function Wn(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ko(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ma(a){return a.h?1:a.g?a.g.size:0}function cc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function hc(a,h){a.g?a.g.add(h):a.h=h}function pp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Wn.prototype.cancel=function(){if(this.i=mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function mp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return k(a.i)}function Tw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,g=0;g<f;g++)h.push(a[g]);return h}h=[],f=0;for(g in a)h[f++]=a[g];return h}function Sw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const g in a)h[f++]=g;return h}}}function gp(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=Sw(a),g=Tw(a),L=g.length,b=0;b<L;b++)h.call(void 0,g[b],f&&f[b],a)}var yp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Iw(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),L=null;if(0<=g){var b=a[f].substring(0,g);L=a[f].substring(g+1)}else b=a[f];h(b,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function si(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof si){this.h=a.h,ba(this,a.j),this.o=a.o,this.g=a.g,Fa(this,a.s),this.l=a.l;var h=a.i,f=new Xo;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),vp(this,f),this.m=a.m}else a&&(h=String(a).match(yp))?(this.h=!1,ba(this,h[1]||"",!0),this.o=Qo(h[2]||""),this.g=Qo(h[3]||"",!0),Fa(this,h[4]),this.l=Qo(h[5]||"",!0),vp(this,h[6]||"",!0),this.m=Qo(h[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}si.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Yo(h,_p,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Yo(h,_p,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Yo(f,f.charAt(0)=="/"?Aw:Rw,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Yo(f,Pw)),a.join("")};function qn(a){return new si(a)}function ba(a,h,f){a.j=f?Qo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Fa(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function vp(a,h,f){h instanceof Xo?(a.i=h,kw(a.i,a.h)):(f||(h=Yo(h,xw)),a.i=new Xo(h,a.h))}function Ve(a,h,f){a.i.set(h,f)}function Ua(a){return Ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yo(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,Cw),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Cw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var _p=/[#\/\?@]/g,Rw=/[#\?:]/g,Aw=/[#\?]/g,xw=/[#\?@]/g,Pw=/#/g;function Xo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function vr(a){a.g||(a.g=new Map,a.h=0,a.i&&Iw(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Xo.prototype,t.add=function(a,h){vr(this),this.i=null,a=bi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function Ep(a,h){vr(a),h=bi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function wp(a,h){return vr(a),h=bi(a,h),a.g.has(h)}t.forEach=function(a,h){vr(this),this.g.forEach(function(f,g){f.forEach(function(L){a.call(h,L,g,this)},this)},this)},t.na=function(){vr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let g=0;g<h.length;g++){const L=a[g];for(let b=0;b<L.length;b++)f.push(h[g])}return f},t.V=function(a){vr(this);let h=[];if(typeof a=="string")wp(this,a)&&(h=h.concat(this.g.get(bi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return vr(this),this.i=null,a=bi(this,a),wp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Tp(a,h,f){Ep(a,h),0<f.length&&(a.i=null,a.g.set(bi(a,h),k(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var g=h[f];const b=encodeURIComponent(String(g)),q=this.V(g);for(g=0;g<q.length;g++){var L=b;q[g]!==""&&(L+="="+encodeURIComponent(String(q[g]))),a.push(L)}}return this.i=a.join("&")};function bi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function kw(a,h){h&&!a.j&&(vr(a),a.i=null,a.g.forEach(function(f,g){var L=g.toLowerCase();g!=L&&(Ep(this,g),Tp(this,L,f))},a)),a.j=h}function Nw(a,h){const f=new J;if(l.Image){const g=new Image;g.onload=v(_r,f,"TestLoadImage: loaded",!0,h,g),g.onerror=v(_r,f,"TestLoadImage: error",!1,h,g),g.onabort=v(_r,f,"TestLoadImage: abort",!1,h,g),g.ontimeout=v(_r,f,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function Dw(a,h){const f=new J,g=new AbortController,L=setTimeout(()=>{g.abort(),_r(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(b=>{clearTimeout(L),b.ok?_r(f,"TestPingServer: ok",!0,h):_r(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),_r(f,"TestPingServer: error",!1,h)})}function _r(a,h,f,g,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),g(f)}catch{}}function Vw(){this.g=new Wo}function Lw(a,h,f){const g=f||"";try{gp(a,function(L,b){let q=L;c(L)&&(q=dr(L)),h.push(g+b+"="+encodeURIComponent(q))})}catch(L){throw h.push(g+"type="+encodeURIComponent("_badmap")),L}}function $a(a){this.l=a.Ub||null,this.j=a.eb||!1}R($a,qo),$a.prototype.g=function(){return new za(this.l,this.j)},$a.prototype.i=function(a){return function(){return a}}({});function za(a,h){Je.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(za,Je),t=za.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Zo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Jo(this):Zo(this),this.readyState==3&&Sp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Jo(this))},t.Qa=function(a){this.g&&(this.response=a,Jo(this))},t.ga=function(){this.g&&Jo(this)};function Jo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Zo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function Zo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ip(a){let h="";return U(a,function(f,g){h+=g,h+=":",h+=f,h+=`\r
`}),h}function dc(a,h,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Ip(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ve(a,h,f))}function We(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(We,Je);var Ow=/^https?$/i,Mw=["POST","PUT"];t=We.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?Go(this.o):Go(be),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(b){Cp(this,b);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var L in g)f.set(L,g[L]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const b of g.keys())f.set(b,g.get(b));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(b=>b.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Mw,h,void 0))||g||L||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,q]of f)this.g.setRequestHeader(b,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xp(this),this.u=!0,this.g.send(a),this.u=!1}catch(b){Cp(this,b)}};function Cp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Rp(a),ja(a)}function Rp(a){a.A||(a.A=!0,Ze(a,"complete"),Ze(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ze(this,"complete"),Ze(this,"abort"),ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ap(this):this.bb())},t.bb=function(){Ap(this)};function Ap(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Gn(a)!=4||a.Z()!=2)){if(a.u&&Gn(a)==4)gn(a.Ea,0,a);else if(Ze(a,"readystatechange"),Gn(a)==4){a.h=!1;try{const q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var g;if(g=q===0){var L=String(a.D).match(yp)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),g=!Ow.test(L?L.toLowerCase():"")}f=g}if(f)Ze(a,"complete"),Ze(a,"success");else{a.m=6;try{var b=2<Gn(a)?a.g.statusText:""}catch{b=""}a.l=b+" ["+a.Z()+"]",Rp(a)}}finally{ja(a)}}}}function ja(a,h){if(a.g){xp(a);const f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ze(a,"ready");try{f.onreadystatechange=g}catch{}}}function xp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Gn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Va(h)}};function Pp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function bw(a){const h={};a=(a.g&&2<=Gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(_(a[g]))continue;var f=P(a[g]);const L=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const b=h[L]||[];h[L]=b,b.push(f)}S(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function kp(a){this.Aa=0,this.i=[],this.j=new J,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,a),this.cb=es("retryDelaySeedMs",1e4,a),this.Wa=es("forwardChannelMaxRetries",2,a),this.wa=es("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Wn(a&&a.concurrentRequestLimit),this.Da=new Vw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kp.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,g){W(0),this.W=a,this.H=h||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Up(this,null,this.W),Ha(this)};function fc(a){if(Np(a),a.G==3){var h=a.U++,f=qn(a.I);if(Ve(f,"SID",a.K),Ve(f,"RID",h),Ve(f,"TYPE","terminate"),ts(a,f),h=new Ae(a,a.j,h),h.L=2,h.v=Ua(qn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=$p(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Bn(h)}Fp(a)}function Ba(a){a.g&&(mc(a),a.g.cancel(),a.g=null)}function Np(a){Ba(a),a.u&&(l.clearTimeout(a.u),a.u=null),Wa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ha(a){if(!Ko(a.h)&&!a.s){a.s=!0;var h=a.Ga;Pt||se(),G||(Pt(),G=!0),te.add(h,a),a.B=0}}function Fw(a,h){return Ma(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ne(m(a.Ga,a,h),bp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new Ae(this,this.j,a);let b=this.o;if(this.S&&(b?(b=y(b),I(b,this.S)):b=this.S),this.m!==null||this.O||(L.H=b,b=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=Vp(this,L,h),f=qn(this.I),Ve(f,"RID",a),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),ts(this,f),b&&(this.O?h="headers="+encodeURIComponent(String(Ip(b)))+"&"+h:this.m&&dc(f,this.m,b)),hc(this.h,L),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",h),Ve(f,"SID","null"),L.T=!0,Ot(L,f,null)):Ot(L,f,h),this.G=2}}else this.G==3&&(a?Dp(this,a):this.i.length==0||Ko(this.h)||Dp(this))};function Dp(a,h){var f;h?f=h.l:f=a.U++;const g=qn(a.I);Ve(g,"SID",a.K),Ve(g,"RID",f),Ve(g,"AID",a.T),ts(a,g),a.m&&a.o&&dc(g,a.m,a.o),f=new Ae(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Vp(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),hc(a.h,f),Ot(f,g,h)}function ts(a,h){a.H&&U(a.H,function(f,g){Ve(h,g,f)}),a.l&&gp({},function(f,g){Ve(h,g,f)})}function Vp(a,h,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var L=a.i;let b=-1;for(;;){const q=["count="+f];b==-1?0<f?(b=L[0].g,q.push("ofs="+b)):b=0:q.push("ofs="+b);let ke=!0;for(let ht=0;ht<f;ht++){let Ee=L[ht].g;const _t=L[ht].map;if(Ee-=b,0>Ee)b=Math.max(0,L[ht].g-100),ke=!1;else try{Lw(_t,q,"req"+Ee+"_")}catch{g&&g(_t)}}if(ke){g=q.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,g}function Lp(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Pt||se(),G||(Pt(),G=!0),te.add(h,a),a.v=0}}function pc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ne(m(a.Fa,a),bp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Op(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ne(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),Ba(this),Op(this))};function mc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Op(a){a.g=new Ae(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=qn(a.qa);Ve(h,"RID","rpc"),Ve(h,"SID",a.K),Ve(h,"AID",a.T),Ve(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ve(h,"TO",a.ja),Ve(h,"TYPE","xmlhttp"),ts(a,h),a.m&&a.o&&dc(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Ua(qn(h)),f.m=null,f.P=!0,Mi(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Ba(this),pc(this),W(19))};function Wa(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Mp(a,h){var f=null;if(a.g==h){Wa(a),mc(a),a.g=null;var g=2}else if(cc(a.h,h))f=h.D,pp(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var L=a.B;g=x(),Ze(g,new ie(g,f)),Ha(a)}else Lp(a);else if(L=h.s,L==3||L==0&&0<h.X||!(g==1&&Fw(a,h)||g==2&&pc(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),L){case 1:ai(a,5);break;case 4:ai(a,10);break;case 3:ai(a,6);break;default:ai(a,2)}}}function bp(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function ai(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),g=a.Xa;const L=!g;g=new si(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ba(g,"https"),Ua(g),L?Nw(g.toString(),f):Dw(g.toString(),f)}else W(2);a.G=0,a.l&&a.l.sa(h),Fp(a),Np(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function Fp(a){if(a.G=0,a.ka=[],a.l){const h=mp(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Up(a,h,f){var g=f instanceof si?qn(f):new si(f);if(g.g!="")h&&(g.g=h+"."+g.g),Fa(g,g.s);else{var L=l.location;g=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var b=new si(null);g&&ba(b,g),h&&(b.g=h),L&&Fa(b,L),f&&(b.l=f),g=b}return f=a.D,h=a.ya,f&&h&&Ve(g,f,h),Ve(g,"VER",a.la),ts(a,g),g}function $p(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new We(new $a({eb:f})):new We(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zp(){}t=zp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qa(){}qa.prototype.g=function(a,h){return new Ht(a,h)};function Ht(a,h){Je.call(this),this.g=new kp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!_(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Fi(this)}R(Ht,Je),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){fc(this.g)},Ht.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=dr(a),a=f);h.i.push(new He(h.Ya++,a)),h.G==3&&Ha(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,fc(this.g),delete this.g,Ht.aa.N.call(this)};function jp(a){pr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}R(jp,pr);function Bp(){mr.call(this),this.status=1}R(Bp,mr);function Fi(a){this.g=a}R(Fi,zp),Fi.prototype.ua=function(){Ze(this.g,"a")},Fi.prototype.ta=function(a){Ze(this.g,new jp(a))},Fi.prototype.sa=function(a){Ze(this.g,new Bp)},Fi.prototype.ra=function(){Ze(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,G0=function(){return new qa},q0=function(){return x()},W0=$n,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,Ol=xe,et.COMPLETE="complete",H0=et,La.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Je.prototype.listen=Je.prototype.K,_s=La,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,B0=We}).apply(typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{});const Zg="@firebase/firestore",ey="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new M0("@firebase/firestore");function Bi(){return Ci.logLevel}function Q(t,...e){if(Ci.logLevel<=ve.DEBUG){const n=e.map(Lf);Ci.debug(`Firestore (${Lo}): ${t}`,...n)}}function or(t,...e){if(Ci.logLevel<=ve.ERROR){const n=e.map(Lf);Ci.error(`Firestore (${Lo}): ${t}`,...n)}}function So(t,...e){if(Ci.logLevel<=ve.WARN){const n=e.map(Lf);Ci.warn(`Firestore (${Lo}): ${t}`,...n)}}function Lf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Se(t,e){t||ae()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class XA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JA{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Br,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Br)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new K0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new It(e)}}class ZA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ex{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tx{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,VA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0);const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ty(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new ty(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function id(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const o=Q0(),s=rx(o.encode(ny(t,n)),o.encode(ny(e,n)));return s!==0?s:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function ny(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function rx(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function Io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-62135596800,iy=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iy);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ry)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iy}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new rt(0,0))}static max(){return new le(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="__name__";class Nn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Nn.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return he(e.length,n.length)}static compareSegments(e,n){const r=Nn.isNumericId(e),i=Nn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Nn.extractNumericId(e).compare(Nn.extractNumericId(n)):id(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class Oe extends Nn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Nn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return ix.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oy}static keyField(){return new pt([oy])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Oe.fromString(e))}static fromName(e){return new re(Oe.fromString(e).popFirst(5))}static empty(){return new re(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=-1;function ox(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Kr(i,re.empty(),e)}function sx(t){return new Kr(t.readTime,t.key,oa)}class Kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(le.min(),re.empty(),oa)}static max(){return new Kr(le.max(),re.empty(),oa)}}function ax(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ux{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==lx)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function cx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ku.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=-1;function Qu(t){return t==null}function vu(t){return t===0&&1/t==-1/0}function hx(t){return typeof t=="number"&&Number.isInteger(t)&&!vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="";function dx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sy(e)),e=fx(t.get(n),e);return sy(e)}function fx(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case X0:n+="";break;default:n+=o}}return n}function sy(t){return t+X0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:ft.RED,this.left=i!=null?i:ft.EMPTY,this.right=o!=null?o:ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ft(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ly(this.data.getIterator())}getIteratorFrom(e){return new ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new it(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Z0("Invalid base64 string: "+o):o}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(Se(!!t),typeof t=="string"){let e=0;const n=px.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",tE="__type__",nE="__previous_value__",rE="__local_write_time__";function Mf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tE])===null||n===void 0?void 0:n.stringValue)===eE}function Yu(t){const e=t.mapValue.fields[nE];return Mf(e)?Yu(e):e}function sa(t){const e=Qr(t.mapValue.fields[rE].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}const _u="(default)";class aa{constructor(e,n){this.projectId=e,this.database=n||_u}static empty(){return new aa("","")}get isDefaultDatabase(){return this.database===_u}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__type__",oE="__max__",ml={mapValue:{fields:{__type__:{stringValue:oE}}}},sE="__vector__",Eu="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mf(t)?4:yx(t)?9007199254740991:gx(t)?10:11:ae()}function Fn(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sa(t).isEqual(sa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Qr(i.timestampValue),l=Qr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Yr(i.bytesValue).isEqual(Yr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ge(i.doubleValue),l=Ge(o.doubleValue);return s===l?vu(s)===vu(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Io(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(ay(s)!==ay(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Fn(s[u],l[u])))return!1;return!0}(t,e);default:return ae()}}function la(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function Co(t,e){if(t===e)return 0;const n=Xr(t),r=Xr(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return uy(t.timestampValue,e.timestampValue);case 4:return uy(sa(t),sa(e));case 5:return id(t.stringValue,e.stringValue);case 6:return function(o,s){const l=Yr(o),u=Yr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=he(l[c],u[c]);if(d!==0)return d}return he(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=he(Ge(o.latitude),Ge(s.latitude));return l!==0?l:he(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,d;const p=o.fields||{},m=s.fields||{},v=(l=p[Eu])===null||l===void 0?void 0:l.arrayValue,R=(u=m[Eu])===null||u===void 0?void 0:u.arrayValue,k=he(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=R==null?void 0:R.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:cy(v,R)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ml.mapValue&&s===ml.mapValue)return 0;if(o===ml.mapValue)return 1;if(s===ml.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=id(u[p],d[p]);if(m!==0)return m;const v=Co(l[u[p]],c[d[p]]);if(v!==0)return v}return he(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function uy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Qr(t),r=Qr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function cy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Co(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function Ro(t){return od(t)}function od(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=od(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${od(n.fields[s])}`;return i+"}"}(t.mapValue):ae()}function Ml(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yu(t);return e?16+Ml(e):16;case 5:return 2*t.stringValue.length;case 6:return Yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ml(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ni(r.fields,(o,s)=>{i+=o.length+Ml(s)}),i}(t.mapValue);default:throw ae()}}function hy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sd(t){return!!t&&"integerValue"in t}function bf(t){return!!t&&"arrayValue"in t}function dy(t){return!!t&&"nullValue"in t}function fy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bl(t){return!!t&&"mapValue"in t}function gx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iE])===null||n===void 0?void 0:n.stringValue)===sE}function Ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ds(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Ds(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new on(Ds(this.value))}}function aE(t){const e=[];return Ni(t.fields,(n,r)=>{const i=new pt([n]);if(bl(r)){const o=aE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Rt(e,0,le.min(),le.min(),le.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,le.min(),le.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,le.min(),le.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.position=e,this.inclusive=n}}function py(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=Co(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function my(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function vx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{}class Xe extends lE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ex(e,n,r):n==="array-contains"?new Sx(e,r):n==="in"?new Ix(e,r):n==="not-in"?new Cx(e,r):n==="array-contains-any"?new Rx(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wx(e,r):new Tx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Co(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends lE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new An(e,n)}matches(e){return uE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uE(t){return t.op==="and"}function cE(t){return _x(t)&&uE(t)}function _x(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function ad(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(cE(t))return t.filters.map(e=>ad(e)).join(",");{const e=t.filters.map(n=>ad(n)).join(",");return`${t.op}(${e})`}}function hE(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&hE(s,i.filters[l]),!0):!1}(t,e):void ae()}function dE(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(dE).join(" ,")+"}"}(t):"Filter"}class Ex extends Xe{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class wx extends Xe{constructor(e,n){super(e,"in",n),this.keys=fE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tx extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=fE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class Sx extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bf(n)&&la(n.arrayValue,this.value)}}class Ix extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&la(this.value.arrayValue,n)}}class Cx extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!la(this.value.arrayValue,n)}}class Rx extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>la(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.le=null}}function gy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ax(t,e,n,r,i,o,s)}function Ff(t){const e=ue(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ad(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ro(r)).join(",")),e.le=n}return e.le}function Uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!my(t.startAt,e.startAt)&&my(t.endAt,e.endAt)}function ld(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function xx(t,e,n,r,i,o,s,l){return new Ta(t,e,n,r,i,o,s,l)}function pE(t){return new Ta(t)}function yy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mE(t){return t.collectionGroup!==null}function Vs(t){const e=ue(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new it(pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new Tu(o,r))}),n.has(pt.keyField().canonicalString())||e.he.push(new Tu(pt.keyField(),r))}return e.he}function Mn(t){const e=ue(t);return e.Pe||(e.Pe=Px(e,Vs(t))),e.Pe}function Px(t,e){if(t.limitType==="F")return gy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Tu(i.field,o)});const n=t.endAt?new wu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wu(t.startAt.position,t.startAt.inclusive):null;return gy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ud(t,e){const n=t.filters.concat([e]);return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cd(t,e,n){return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xu(t,e){return Uf(Mn(t),Mn(e))&&t.limitType===e.limitType}function gE(t){return`${Ff(Mn(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dE(i)).join(", ")}]`),Qu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ro(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Ju(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=py(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,Vs(r),i)||r.endAt&&!function(s,l,u){const c=py(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,Vs(r),i))}(t,e)}function kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yE(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const o=Nx(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Nx(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Co(u,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new je(re.comparator);function sr(){return Dx}const vE=new je(re.comparator);function Es(...t){let e=vE;for(const n of t)e=e.insert(n.key,n);return e}function _E(t){let e=vE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return Ls()}function EE(){return Ls()}function Ls(){return new Di(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vx=new je(re.comparator),Lx=new it(re.comparator);function me(...t){let e=Lx;for(const n of t)e=e.add(n);return e}const Ox=new it(he);function Mx(){return Ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function wE(t){return{integerValue:""+t}}function bx(t,e){return hx(e)?wE(e):$f(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this._=void 0}}function Fx(t,e,n){return t instanceof ua?function(i,o){const s={fields:{[tE]:{stringValue:eE},[rE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Mf(o)&&(o=Yu(o)),o&&(s.fields[nE]=o),{mapValue:s}}(n,e):t instanceof ca?SE(t,e):t instanceof ha?IE(t,e):function(i,o){const s=TE(i,o),l=vy(s)+vy(i.Ie);return sd(s)&&sd(i.Ie)?wE(l):$f(i.serializer,l)}(t,e)}function Ux(t,e,n){return t instanceof ca?SE(t,e):t instanceof ha?IE(t,e):n}function TE(t,e){return t instanceof Su?function(r){return sd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ua extends Zu{}class ca extends Zu{constructor(e){super(),this.elements=e}}function SE(t,e){const n=CE(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends Zu{constructor(e){super(),this.elements=e}}function IE(t,e){let n=CE(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class Su extends Zu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vy(t){return Ge(t.integerValue||t.doubleValue)}function CE(t){return bf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.field=e,this.transform=n}}function zx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ca&&i instanceof ca||r instanceof ha&&i instanceof ha?Io(r.elements,i.elements,Fn):r instanceof Su&&i instanceof Su?Fn(r.Ie,i.Ie):r instanceof ua&&i instanceof ua}(t.transform,e.transform)}class jx{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ec{}function RE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xE(t.key,Zn.none()):new Sa(t.key,t.data,Zn.none());{const n=t.data,r=on.empty();let i=new it(pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vi(t.key,r,new Sn(i.toArray()),Zn.none())}}function Bx(t,e,n){t instanceof Sa?function(i,o,s){const l=i.value.clone(),u=Ey(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,o,s){if(!Fl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Ey(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AE(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Os(t,e,n,r){return t instanceof Sa?function(o,s,l,u){if(!Fl(o.precondition,s))return l;const c=o.value.clone(),d=wy(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(o,s,l,u){if(!Fl(o.precondition,s))return l;const c=wy(o.fieldTransforms,u,s),d=s.data;return d.setAll(AE(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return Fl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function Hx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=TE(r.transform,i||null);o!=null&&(n===null&&(n=on.empty()),n.set(r.field,o))}return n||null}function _y(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Io(r,i,(o,s)=>zx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sa extends ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends ec{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ey(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,Ux(s,l,n[i]))}return r}function wy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Fx(o,s,e))}return r}class xE extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Bx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Os(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Os(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=RE(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(n,r)=>_y(n,r))&&Io(this.baseMutations,e.baseMutations,(n,r)=>_y(n,r))}}class zf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return Vx}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new zf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ye;function Qx(t){switch(t){case z.OK:return ae();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ae()}}function PE(t){if(t===void 0)return or("GRPC error has no .code"),z.UNKNOWN;switch(t){case Qe.OK:return z.OK;case Qe.CANCELLED:return z.CANCELLED;case Qe.UNKNOWN:return z.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return z.INTERNAL;case Qe.UNAVAILABLE:return z.UNAVAILABLE;case Qe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Qe.NOT_FOUND:return z.NOT_FOUND;case Qe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Qe.ABORTED:return z.ABORTED;case Qe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Qe.DATA_LOSS:return z.DATA_LOSS;default:return ae()}}(ye=Qe||(Qe={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new jr([4294967295,4294967295],0);function Ty(t){const e=Q0().encode(t),n=new j0;return n.update(e),new Uint8Array(n.digest())}function Sy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jr([n,r],0),new jr([i,o],0)]}class jf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ws(`Invalid padding: ${n}`);if(r<0)throw new ws(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ws(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ws(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=jr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(jr.fromNumber(r)));return i.compare(Yx)===1&&(i=new jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Ty(e),[r,i]=Sy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new jf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ee===0)return;const n=Ty(e),[r,i]=Sy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ws extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tc(le.min(),i,new je(he),sr(),me())}}class Ia{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ia(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class kE{constructor(e,n){this.targetId=e,this.ge=n}}class NE{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Iy{constructor(){this.pe=0,this.ye=Cy(),this.we=vt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=me(),n=me(),r=me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Ia(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Cy()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Xx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=gl(),this.Ue=gl(),this.Ke=new je(he)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(ld(o))if(r===0){const s=new re(o.path);this.ze(n,s,Rt.newNoDocument(s,le.min()))}else Se(r===1);else{const s=this.et(n);if(s!==r){const l=this.tt(e),u=l?this.nt(l,e,s):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Yr(r).toUint8Array()}catch(u){if(u instanceof Z0)return So("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new jf(s,i,o)}catch(u){return So(u instanceof ws?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const l=this.Xe(s);if(l){if(o.current&&ld(l.target)){const u=new re(l.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,Rt.newNoDocument(u,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=me();this.Ue.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new tc(e,n,this.Ke,this.Qe,r);return this.Qe=sr(),this.$e=gl(),this.Ue=gl(),this.Ke=new je(he),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Iy,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new it(he),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new it(he),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Iy),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gl(){return new je(re.comparator)}function Cy(){return new je(re.comparator)}const Jx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Zx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eP=(()=>({and:"AND",or:"OR"}))();class tP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hd(t,e){return t.useProto3Json||Qu(e)?e:{value:e}}function Iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nP(t,e){return Iu(t,e.toTimestamp())}function bn(t){return Se(!!t),le.fromTimestamp(function(n){const r=Qr(n);return new rt(r.seconds,r.nanos)}(t))}function Bf(t,e){return dd(t,e).canonicalString()}function dd(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VE(t){const e=Oe.fromString(t);return Se(FE(e)),e}function fd(t,e){return Bf(t.databaseId,e.path)}function Jc(t,e){const n=VE(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(OE(n))}function LE(t,e){return Bf(t.databaseId,e)}function rP(t){const e=VE(t);return e.length===4?Oe.emptyPath():OE(e)}function pd(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OE(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ry(t,e,n){return{name:fd(t,e),fields:n.value.mapValue.fields}}function iP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Se(d===void 0||typeof d=="string"),vt.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const d=c.code===void 0?z.UNKNOWN:PE(c.code);return new X(d,c.message||"")}(s);n=new NE(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jc(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):le.min(),l=new on({mapValue:{fields:r.document.fields}}),u=Rt.newFoundDocument(i,o,s,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ul(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jc(t,r.document),o=r.readTime?bn(r.readTime):le.min(),s=Rt.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Ul([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jc(t,r.document),o=r.removedTargetIds||[];n=new Ul([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Kx(i,o),l=r.targetId;n=new kE(l,s)}}return n}function oP(t,e){let n;if(e instanceof Sa)n={update:Ry(t,e.key,e.value)};else if(e instanceof xE)n={delete:fd(t,e.key)};else if(e instanceof Vi)n={update:Ry(t,e.key,e.data),updateMask:pP(e.fieldMask)};else{if(!(e instanceof Wx))return ae();n={verify:fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof ua)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ca)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ha)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Su)return{fieldPath:s.field.canonicalString(),increment:l.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:nP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae()}(t,e.precondition)),n}function sP(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(le.min())&&(s=bn(o)),new jx(s,i.transformResults||[])}(n,e))):[]}function aP(t,e){return{documents:[LE(t,e.path)]}}function lP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LE(t,i);const o=function(c){if(c.length!==0)return bE(An.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Wi(m.field),direction:hP(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=hd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function uP(t){let e=rP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const m=ME(p);return m instanceof An&&cE(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(R){return new Tu(qi(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Qu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new wu(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,v=p.values||[];return new wu(v,m)}(n.endAt)),xx(e,i,s,o,l,"F",u,c)}function cP(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ME(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qi(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qi(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qi(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qi(n.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(qi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>ME(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function hP(t){return Jx[t]}function dP(t){return Zx[t]}function fP(t){return eP[t]}function Wi(t){return{fieldPath:t.canonicalString()}}function qi(t){return pt.fromServerFormat(t.fieldPath)}function bE(t){return t instanceof Xe?function(n){if(n.op==="=="){if(fy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NAN"}};if(dy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NAN"}};if(dy(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(n.field),op:dP(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>bE(i));return r.length===1?r[0]:{compositeFilter:{op:fP(n.op),filters:r}}}(t):ae()}function pP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,o=le.min(),s=le.min(),l=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.Tt=e}}function gP(t){const e=uP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.Tn=new vP}addToCollectionParentIndex(e,n){return this.Tn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Kr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class vP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(UE,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ao(0)}static Kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LruGarbageCollector",_P=1048576;function Py([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class EP{constructor(e){this.Hn=e,this.buffer=new it(Py),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Py(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Q(xy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?Q(xy,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.er(3e5)})}}class TP{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Ku.ae);const r=new EP(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ay)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Bi()<=ve.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function SP(t,e){return new TP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Os(r.mutation,i,Sn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Es();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=sr();const s=Ls(),l=function(){return Ls()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Vi)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Os(d.mutation,c,d.mutation.getFieldMask(),rt.now())):s.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new CP(d,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ls();let i=new je((s,l)=>s-l),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Sn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||me()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=EE();d.forEach(m=>{if(!o.has(m)){const v=RE(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):$.resolve(gi());let l=oa,u=o;return s.next(c=>$.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,me())).next(d=>({batchId:l,changes:_E(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Es();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Es();return this.indexManager.getCollectionParents(e,o).next(l=>$.forEach(l,u=>{const c=function(p,m){return new Ta(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Rt.newInvalidDocument(d)))});let l=Es();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&Os(d.mutation,c,Sn.empty(),rt.now()),Ju(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:gP(i.bundledQuery),readTime:bn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.overlays=new je(re.comparator),this.Rr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gi();return $.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=gi(),o=n.length+1,s=new re(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=gi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=gi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return $.resolve(l)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Gx(n,r));let o=this.Rr.get(n);o===void 0&&(o=me(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.Vr=new it(ot.mr),this.gr=new it(ot.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new ot(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new re(new Oe([])),r=new ot(n,e),i=new ot(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new re(new Oe([])),r=new ot(n,e),i=new ot(n,e+1);let o=me();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ot(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return re.comparator(e.key,n.key)||he(e.Cr,n.Cr)}static pr(e,n){return he(e.Cr,n.Cr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new it(ot.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qx(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Mr=this.Mr.add(new ot(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Of:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const l=this.Or(s.Cr);o.push(l)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(he);return n.forEach(i=>{const o=new ot(i,0),s=new ot(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],l=>{r=r.add(l.Cr)})}),$.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;re.isDocumentKey(o)||(o=o.child(""));const s=new ot(new re(o),0);let l=new it(he);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Cr)),!0)},s),$.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return $.forEach(n.mutations,i=>{const o=new ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new ot(n,0),i=this.Mr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.kr=e,this.docs=function(){return new je(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=sr();const s=n.path,l=new re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ax(sx(d),r)<=0||(i.has(d.key)||Ju(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae()}qr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DP(this)}getSize(e){return $.resolve(this.size)}}class DP extends IP{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.persistence=e,this.Qr=new Di(n=>Ff(n),Uf),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hf,this.targetCount=0,this.Kr=Ao.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),$.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.zn(n),$.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ku(0),this.zr=!1,this.zr=!0,this.jr=new PP,this.referenceDelegate=e(this),this.Hr=new VP(this),this.indexManager=new yP,this.remoteDocumentCache=function(i){return new NP(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new mP(n),this.Yr=new AP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new kP(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new LP(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return $.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class LP extends ux{constructor(e){super(),this.currentSequenceNumber=e}}class Wf{constructor(e){this.persistence=e,this.ti=new Hf,this.ni=null}static ri(e){return new Wf(e)}get ii(){if(this.ni)return this.ni;throw ae()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,r=>{const i=re.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Cu{constructor(e,n){this.persistence=e,this.oi=new Di(r=>dx(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=SP(this,n)}static ri(e,n){return new Cu(e,n)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return $.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(l=>{l||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ml(e.data.value)),n}ar(e,n,r){return $.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=me(),i=me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kR()?8:cx(xR())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new OP;return this._s(e,n,s).next(l=>{if(o.result=l,this.Xi)return this.us(e,n,s,l.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Bi()<=ve.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Bi()<=ve.DEBUG&&Q("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Bi()<=ve.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):$.resolve())}rs(e,n){if(yy(n))return $.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cd(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=me(...o);return this.ns.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.cs(n,l);return this.ls(n,c,s,u.readTime)?this.rs(e,cd(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,r,i){return yy(n)||i.isEqual(le.min())?$.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?$.resolve(null):(Bi()<=ve.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.hs(e,s,n,ox(i,oa)).next(l=>l))})}cs(e,n){let r=new it(yE(e));return n.forEach((i,o)=>{Ju(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return Bi()<=ve.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.ns.getDocumentsMatchingQuery(e,n,Kr.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="LocalStore",bP=3e8;class FP{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new je(he),this.Is=new Di(o=>Ff(o),Uf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function UP(t,e,n,r){return new FP(t,e,n,r)}async function zE(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=me();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:l}))})})}function $P(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let v=$.resolve();return m.forEach(R=>{v=v.next(()=>d.getEntry(u,R)).next(k=>{const N=c.docVersions.get(R);Se(N!==null),k.version.compareTo(N)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),d.addEntry(k)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=me();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jE(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function zP(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Hr.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(o,d.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(vt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),function(k,N,w){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=bP?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,d)&&l.push(n.Hr.updateTargetData(o,v))});let u=sr(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(jP(o,s,e.documentUpdates).next(d=>{u=d.Vs,c=d.fs})),!r.isEqual(le.min())){const d=n.Hr.getLastRemoteSnapshotVersion(o).next(p=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return $.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ts=i,o))}function jP(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=sr();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Q(Gf,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function BP(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Of),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HP(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new kr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function md(t,e,n){const r=ue(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mo(s))throw s;Q(Gf,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function ky(t,e,n){const r=ue(t);let i=le.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const p=ue(u),m=p.Is.get(d);return m!==void 0?$.resolve(p.Ts.get(m)):p.Hr.getTargetData(c,d)}(r,s,Mn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:me())).next(l=>(WP(r,kx(e),l),{documents:l,gs:o})))}function WP(t,e,n){let r=t.Es.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class Ny{constructor(){this.activeTargetIds=Mx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qP{constructor(){this.ho=new Ny,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ny,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="ConnectivityMonitor";class Vy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Q(Dy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Q(Dy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl=null;function gd(){return yl===null?yl=function(){return 268435456+Math.round(2147483648*Math.random())}():yl++,"0x"+yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="RestConnection",KP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===_u?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=gd(),l=this.bo(e,n.toUriEncodedString());Q(Zc,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,l,u,r).then(c=>(Q(Zc,`Received RPC '${e}' ${s}: `,c),c),c=>{throw So(Zc,`RPC '${e}' ${s} failed with error: `,c,"url: ",l,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=KP[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class XP extends QP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=gd();return new Promise((s,l)=>{const u=new B0;u.setWithCredentials(!0),u.listenOnce(H0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ol.NO_ERROR:const d=u.getResponseJson();Q(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ol.TIMEOUT:Q(St,`RPC '${e}' ${o} timed out`),l(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Ol.HTTP_ERROR:const p=u.getStatus();if(Q(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const R=function(N){const w=N.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(v.status);l(new X(R,v.message))}else l(new X(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(z.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Q(St,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Q(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=gd(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=G0(),l=q0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");Q(St,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=s.createWebChannel(d,u);let m=!1,v=!1;const R=new YP({Fo:N=>{v?Q(St,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(Q(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Q(St,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Mo:()=>p.close()}),k=(N,w,_)=>{N.listen(w,E=>{try{_(E)}catch(M){setTimeout(()=>{throw M},0)}})};return k(p,_s.EventType.OPEN,()=>{v||(Q(St,`RPC '${e}' stream ${i} transport opened.`),R.Qo())}),k(p,_s.EventType.CLOSE,()=>{v||(v=!0,Q(St,`RPC '${e}' stream ${i} transport closed`),R.Uo())}),k(p,_s.EventType.ERROR,N=>{v||(v=!0,So(St,`RPC '${e}' stream ${i} transport errored:`,N),R.Uo(new X(z.UNAVAILABLE,"The operation could not be completed")))}),k(p,_s.EventType.MESSAGE,N=>{var w;if(!v){const _=N.data[0];Se(!!_);const E=_,M=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(M){Q(St,`RPC '${e}' stream ${i} received error:`,M);const A=M.status;let U=function(T){const I=Qe[T];if(I!==void 0)return PE(I)}(A),S=M.message;U===void 0&&(U=z.INTERNAL,S="Unknown error status: "+A+" with message "+M.message),v=!0,R.Uo(new X(U,S)),p.close()}else Q(St,`RPC '${e}' stream ${i} received:`,_),R.Ko(_)}}),k(l,W0.STAT_EVENT,N=>{N.stat===rd.PROXY?Q(St,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===rd.NOPROXY&&Q(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){return new tP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="PersistentStream";class HE{constructor(e,n,r,i,o,s,l,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Q(Ly,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Q(Ly,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JP extends HE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=iP(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?bn(s.readTime):le.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=pd(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=ld(u)?{documents:aP(o,u)}:{query:lP(o,u).ht},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=DE(o,s.resumeToken);const c=hd(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(le.min())>0){l.readTime=Iu(o,s.snapshotVersion.toTimestamp());const c=hd(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=cP(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=pd(this.serializer),n.removeTarget=e,this.I_(n)}}class ZP extends HE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=sP(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=pd(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oP(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{}class tk extends ek{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,dd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Co(e,dd(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(z.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(or(n),this.N_=!1):Q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="RemoteStore";class rk{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Li(this)&&(Q(Ri,"Restarting streams for network reachability change."),await async function(u){const c=ue(u);c.W_.add(4),await Ca(c),c.j_.set("Unknown"),c.W_.delete(4),await rc(c)}(this))})}),this.j_=new nk(r,i)}}async function rc(t){if(Li(t))for(const e of t.G_)await e(!0)}async function Ca(t){for(const e of t.G_)await e(!1)}function WE(t,e){const n=ue(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Xf(n)?Yf(n):bo(n).c_()&&Qf(n,e))}function Kf(t,e){const n=ue(t),r=bo(n);n.K_.delete(e),r.c_()&&qE(n,e),n.K_.size===0&&(r.c_()?r.P_():Li(n)&&n.j_.set("Unknown"))}function Qf(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).y_(e)}function qE(t,e){t.H_.Ne(e),bo(t).w_(e)}function Yf(t){t.H_=new Xx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.j_.B_()}function Xf(t){return Li(t)&&!bo(t).u_()&&t.K_.size>0}function Li(t){return ue(t).W_.size===0}function GE(t){t.H_=void 0}async function ik(t){t.j_.set("Online")}async function ok(t){t.K_.forEach((e,n)=>{Qf(t,e)})}async function sk(t,e){GE(t),Xf(t)?(t.j_.q_(e),Yf(t)):t.j_.set("Unknown")}async function ak(t,e,n){if(t.j_.set("Online"),e instanceof NE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.K_.delete(l),i.H_.removeTarget(l))}(t,e)}catch(r){Q(Ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ru(t,r)}else if(e instanceof Ul?t.H_.We(e):e instanceof kE?t.H_.Ze(e):t.H_.je(e),!n.isEqual(le.min()))try{const r=await jE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.H_.ot(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.K_.get(c);d&&o.K_.set(c,d.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const d=o.K_.get(u);if(!d)return;o.K_.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),qE(o,u);const p=new kr(d.target,u,c,d.sequenceNumber);Qf(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q(Ri,"Failed to raise snapshot:",r),await Ru(t,r)}}async function Ru(t,e,n){if(!Mo(e))throw e;t.W_.add(1),await Ca(t),t.j_.set("Offline"),n||(n=()=>jE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Ri,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await rc(t)})}function KE(t,e){return e().catch(n=>Ru(t,n,e))}async function ic(t){const e=ue(t),n=Jr(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Of;for(;lk(e);)try{const i=await BP(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,uk(e,i)}catch(i){await Ru(e,i)}QE(e)&&YE(e)}function lk(t){return Li(t)&&t.U_.length<10}function uk(t,e){t.U_.push(e);const n=Jr(t);n.c_()&&n.S_&&n.b_(e.mutations)}function QE(t){return Li(t)&&!Jr(t).u_()&&t.U_.length>0}function YE(t){Jr(t).start()}async function ck(t){Jr(t).C_()}async function hk(t){const e=Jr(t);for(const n of t.U_)e.b_(n.mutations)}async function dk(t,e,n){const r=t.U_.shift(),i=zf.from(r,e,n);await KE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ic(t)}async function fk(t,e){e&&Jr(t).S_&&await async function(r,i){if(function(s){return Qx(s)&&s!==z.ABORTED}(i.code)){const o=r.U_.shift();Jr(r).h_(),await KE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ic(r)}}(t,e),QE(t)&&YE(t)}async function Oy(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(Ri,"RemoteStore received new credentials");const r=Li(n);n.W_.add(3),await Ca(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await rc(n)}async function pk(t,e){const n=ue(t);e?(n.W_.delete(2),await rc(n)):e||(n.W_.add(2),await Ca(n),n.j_.set("Unknown"))}function bo(t){return t.J_||(t.J_=function(n,r,i){const o=ue(n);return o.M_(),new JP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:ik.bind(null,t),No:ok.bind(null,t),Lo:sk.bind(null,t),p_:ak.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Xf(t)?Yf(t):t.j_.set("Unknown")):(await t.J_.stop(),GE(t))})),t.J_}function Jr(t){return t.Y_||(t.Y_=function(n,r,i){const o=ue(n);return o.M_(),new ZP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:ck.bind(null,t),Lo:fk.bind(null,t),D_:hk.bind(null,t),v_:dk.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await ic(t)):(await t.Y_.stop(),t.U_.length>0&&(Q(Ri,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Jf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zf(t,e){if(or("AsyncQueue",`${e}: ${t}`),Mo(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Es(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Z_=new je(re.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xo{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new xo(e,n,po.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gk{constructor(){this.queries=by(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ue(n),o=i.queries;i.queries=by(),o.forEach((s,l)=>{for(const u of l.ta)u.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function by(){return new Di(t=>gE(t),Xu)}async function yk(t,e){const n=ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new mk,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Zf(s,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&ep(n)}async function vk(t,e){const n=ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _k(t,e){const n=ue(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ta)l.oa(i)&&(r=!0);s.ea=i}}r&&ep(n)}function Ek(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function ep(t){t.ia.forEach(e=>{e.next()})}var yd,Fy;(Fy=yd||(yd={}))._a="default",Fy.Cache="cache";class wk{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class Tk{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=me(),this.mutatedKeys=me(),this.ya=yE(e),this.wa=new po(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new My,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),v=Ju(this.query,p)?p:null,R=!!m&&this.mutatedKeys.has(m.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let N=!1;m&&v?m.data.isEqual(v.data)?R!==k&&(r.track({type:3,doc:v}),N=!0):this.va(m,v)||(r.track({type:2,doc:v}),N=!0,(u&&this.ya(v,u)>0||c&&this.ya(v,c)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),N=!0):m&&!v&&(r.track({type:1,doc:m}),N=!0,(u||c)&&(l=!0)),N&&(v?(s=s.add(v),o=k?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{wa:s,Da:r,ls:l,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((d,p)=>function(v,R){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return k(v)-k(R)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(r),i=i!=null&&i;const l=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,c=u!==this.ga;return this.ga=u,s.length!==0||c?{snapshot:new xo(this.query,e.wa,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new My,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new JE(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new XE(r))}),n}Oa(e){this.fa=e.gs,this.pa=me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return xo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tp="SyncEngine";class Sk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ik{constructor(e){this.key=e,this.Ba=!1}}class Ck{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Di(l=>gE(l),Xu),this.qa=new Map,this.Qa=new Set,this.$a=new je(re.comparator),this.Ua=new Map,this.Ka=new Hf,this.Wa={},this.Ga=new Map,this.za=Ao.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Rk(t,e,n=!0){const r=iw(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await ZE(r,e,n,!0),i}async function Ak(t,e){const n=iw(t);await ZE(n,e,!0,!1)}async function ZE(t,e,n,r){const i=await HP(t.localStore,Mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await xk(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&WE(t.remoteStore,i),l}async function xk(t,e,n,r,i){t.Ha=(p,m,v)=>async function(k,N,w,_){let E=N.view.ba(w);E.ls&&(E=await ky(k.localStore,N.query,!1).then(({documents:S})=>N.view.ba(S,E)));const M=_&&_.targetChanges.get(N.targetId),A=_&&_.targetMismatches.get(N.targetId)!=null,U=N.view.applyChanges(E,k.isPrimaryClient,M,A);return $y(k,N.targetId,U.Ma),U.snapshot}(t,p,m,v);const o=await ky(t.localStore,e,!0),s=new Tk(e,o.gs),l=s.ba(o.documents),u=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);$y(t,n,c.Ma);const d=new Sk(e,n,s);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function Pk(t,e,n){const r=ue(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Xu(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await md(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kf(r.remoteStore,i.targetId),vd(r,i.targetId)}).catch(Oo)):(vd(r,i.targetId),await md(r.localStore,i.targetId,!0))}async function kk(t,e){const n=ue(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kf(n.remoteStore,r.targetId))}async function Nk(t,e,n){const r=Fk(t);try{const i=await function(s,l){const u=ue(s),c=rt.now(),d=l.reduce((v,R)=>v.add(R.key),me());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let R=sr(),k=me();return u.ds.getEntries(v,d).next(N=>{R=N,R.forEach((w,_)=>{_.isValidDocument()||(k=k.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,R)).next(N=>{p=N;const w=[];for(const _ of l){const E=Hx(_,p.get(_.key).overlayedDocument);E!=null&&w.push(new Vi(_.key,E,aE(E.value.mapValue),Zn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,w,l)}).next(N=>{m=N;const w=N.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(v,N.batchId,w)})}).then(()=>({batchId:m.batchId,changes:_E(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.Wa[s.currentUser.toKey()];c||(c=new je(he)),c=c.insert(l,u),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ra(r,i.changes),await ic(r.remoteStore)}catch(i){const o=Zf(i,"Failed to persist write");n.reject(o)}}async function ew(t,e){const n=ue(t);try{const r=await zP(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?Se(s.Ba):i.removedDocuments.size>0&&(Se(s.Ba),s.Ba=!1))}),await Ra(n,r,e)}catch(r){await Oo(r)}}function Uy(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const l=s.view.sa(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ue(s);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.ta)m.sa(l)&&(c=!0)}),c&&ep(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dk(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new je(re.comparator);s=s.insert(o,Rt.newNoDocument(o,le.min()));const l=me().add(o),u=new tc(le.min(),new Map,new je(he),s,l);await ew(r,u),r.$a=r.$a.remove(o),r.Ua.delete(e),np(r)}else await md(r.localStore,e,!1).then(()=>vd(r,e,n)).catch(Oo)}async function Vk(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await $P(n.localStore,e);nw(n,r,null),tw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ra(n,i)}catch(i){await Oo(i)}}async function Lk(t,e,n){const r=ue(t);try{const i=await function(s,l){const u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Se(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);nw(r,e,n),tw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ra(r,i)}catch(i){await Oo(i)}}function tw(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function nw(t,e,n){const r=ue(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||rw(t,r)})}function rw(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Kf(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),np(t))}function $y(t,e,n){for(const r of n)r instanceof XE?(t.Ka.addReference(r.key,e),Ok(t,r)):r instanceof JE?(Q(tp,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||rw(t,r.key)):ae()}function Ok(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Q(tp,"New document in limbo: "+n),t.Qa.add(r),np(t))}function np(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new re(Oe.fromString(e)),r=t.za.next();t.Ua.set(r,new Ik(n)),t.$a=t.$a.insert(n,r),WE(t.remoteStore,new kr(Mn(pE(n.path)),r,"TargetPurposeLimboResolution",Ku.ae))}}async function Ra(t,e,n){const r=ue(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((l,u)=>{s.push(r.Ha(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=qf.Yi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.La.p_(i),await async function(u,c){const d=ue(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>$.forEach(c,m=>$.forEach(m.Hi,v=>d.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>$.forEach(m.Ji,v=>d.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Mo(p))throw p;Q(Gf,"Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const v=d.Ts.get(m),R=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(R);d.Ts=d.Ts.insert(m,k)}}}(r.localStore,o))}async function Mk(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(tp,"User change. New user:",e.toKey());const r=await zE(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(l=>{l.forEach(u=>{u.reject(new X(z.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ra(n,r.Rs)}}function bk(t,e){const n=ue(t),r=n.Ua.get(e);if(r&&r.Ba)return me().add(r.key);{let i=me();const o=n.qa.get(e);if(!o)return i;for(const s of o){const l=n.ka.get(s);i=i.unionWith(l.view.Sa)}return i}}function iw(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dk.bind(null,e),e.La.p_=_k.bind(null,e.eventManager),e.La.Ja=Ek.bind(null,e.eventManager),e}function Fk(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lk.bind(null,e),e}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return UP(this.persistence,new MP,e.initialUser,this.serializer)}Xa(e){return new $E(Wf.ri,this.serializer)}Za(e){return new qP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class Uk extends Au{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Se(this.persistence.referenceDelegate instanceof Cu);const r=this.persistence.referenceDelegate.garbageCollector;return new wP(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new $E(r=>Cu.ri(r,n),this.serializer)}}class _d{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mk.bind(null,this.syncEngine),await pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gk}()}createDatastore(e){const n=nc(e.databaseInfo.databaseId),r=function(o){return new XP(o)}(e.databaseInfo);return function(o,s,l,u){return new tk(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new rk(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Uy(this.syncEngine,n,0),function(){return Vy.D()?new Vy:new GP}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,d){const p=new Ck(i,o,s,l,u,c);return d&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ue(i);Q(Ri,"RemoteStore shutting down."),o.W_.add(5),await Ca(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_d.provider={build:()=>new _d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class zk{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Q(Zr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q(Zr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function th(t,e){t.asyncQueue.verifyOperationInProgress(),Q(Zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jk(t);Q(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Oy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Oy(e.remoteStore,i)),t._onlineComponents=e}async function jk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(Zr,"Using user provided OfflineComponentProvider");try{await th(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await th(t,new Au)}}else Q(Zr,"Using default OfflineComponentProvider"),await th(t,new Uk(void 0));return t._offlineComponents}async function ow(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(Zr,"Using user provided OnlineComponentProvider"),await zy(t,t._uninitializedComponentsProvider._online)):(Q(Zr,"Using default OnlineComponentProvider"),await zy(t,new _d))),t._onlineComponents}function Bk(t){return ow(t).then(e=>e.syncEngine)}async function Hk(t){const e=await ow(t),n=e.eventManager;return n.onListen=Rk.bind(null,e.syncEngine),n.onUnlisten=Pk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ak.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kk.bind(null,e.syncEngine),n}function Wk(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new $k({next:m=>{d.su(),s.enqueueAndForget(()=>vk(o,p)),m.fromCache&&u.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new wk(l,d,{includeMetadataChanges:!0,Ta:!0});return yk(o,p)}(await Hk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qk(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function By(t){if(!re.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hy(t){if(re.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function xu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oc(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firestore.googleapis.com",Wy=!0;class qy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=Wy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Wy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_P)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YA;switch(r.type){case"firstParty":return new ex(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jy.get(n);r&&(Q("ComponentProvider","Removing Datastore"),jy.delete(n),r.terminate())}(this),Promise.resolve()}}function Gk(t,e,n,r={}){var i;const o=(t=xu(t,sc))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==lw&&o.host!==l&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:!1,emulatorOptions:r});if(!mu(u,s)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=It.MOCK_USER;else{c=AR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new It(p)}t._authCredentials=new XA(new K0(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Hr extends Fo{constructor(e,n,r){super(e,n,pE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new re(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Ed(t,e,...n){if(t=To(t),aw("collection","path",e),t instanceof sc){const r=Oe.fromString(e,...n);return Hy(r),new Hr(t,null,r)}{if(!(t instanceof ln||t instanceof Hr))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Hy(r),new Hr(t.firestore,null,r)}}function Kk(t,e,...n){if(t=To(t),arguments.length===1&&(e=Y0.newId()),aw("doc","path",e),t instanceof sc){const r=Oe.fromString(e,...n);return By(r),new ln(t,null,new re(r))}{if(!(t instanceof ln||t instanceof Hr))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return By(r),new ln(t.firestore,t instanceof Hr?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="AsyncQueue";class Ky{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BE(this,"async_queue_retry"),this.Su=()=>{const r=eh();r&&Q(Gy,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Br;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Mo(e))throw e;Q(Gy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Jf.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class rp extends sc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ky,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ky(e),this._firestoreClient=void 0,await e}}}function Qk(t,e){const n=typeof t=="object"?t:bA(),r=typeof t=="string"?t:e||_u,i=DA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=CR("firestore");o&&Gk(i,...o)}return i}function uw(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yk(t),t._firestoreClient}function Yk(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,d){return new mx(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sw(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||((n=i.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=i.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zk(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Po(vt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Po(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=/^__.*__$/;class Jk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sa(e,this.data,n,this.fieldTransforms)}}function cw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class lp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cw(this.Lu)&&Xk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Zk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nc(e)}ju(e,n,r,i=!1){return new lp({Lu:e,methodName:n,zu:r,path:pt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hw(t){const e=t._freezeSettings(),n=nc(t._databaseId);return new Zk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eN(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);pw("Data must be an object, but it was:",s,r);const l=dw(r,s);let u,c;if(o.merge)u=new Sn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const m=nN(e,p,n);if(!s.contains(m))throw new X(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);iN(d,m)||d.push(m)}u=new Sn(d),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new Jk(new on(l),u,c)}class up extends op{_toFieldTransform(e){return new $x(e.path,new ua)}isEqual(e){return e instanceof up}}function tN(t,e,n,r=!1){return cp(n,t.ju(r?4:3,e))}function cp(t,e){if(fw(t=To(t)))return pw("Unsupported field value:",e,t),dw(t,e);if(t instanceof op)return function(r,i){if(!cw(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=cp(l,i.Ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=To(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:Iu(i.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Iu(i.serializer,o)}}if(r instanceof sp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Po)return{bytesValue:DE(i.serializer,r._byteString)};if(r instanceof ln){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ap)return function(s,l){return{mapValue:{fields:{[iE]:{stringValue:sE},[Eu]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Wu("VectorValues must only contain numeric values.");return $f(l.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${oc(r)}`)}(t,e)}function dw(t,e){const n={};return J0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{const o=cp(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function fw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof sp||t instanceof Po||t instanceof ln||t instanceof op||t instanceof ap)}function pw(t,e,n){if(!fw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=oc(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function nN(t,e,n){if((e=To(e))instanceof ip)return e._internalPath;if(typeof e=="string")return mw(t,e);throw Pu("Field path arguments must be of type string or ",t,!1,void 0,n)}const rN=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(rN)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ip(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new X(z.INVALID_ARGUMENT,l+t+u)}function iN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oN extends gw{data(){return super.data()}}function hp(t,e){return typeof e=="string"?mw(t,e):e instanceof ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dp{}class aN extends dp{}function yw(t,e,...n){let r=[];e instanceof dp&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof fp).length,l=o.filter(u=>u instanceof ac).length;if(s>1||s>0&&l>0)throw new X(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ac extends aN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ac(e,n,r)}_apply(e){const n=this._parse(e);return _w(e._query,n),new Fo(e.firestore,e.converter,ud(e._query,n))}_parse(e){const n=hw(e.firestore);return function(o,s,l,u,c,d,p){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Yy(p,d);const R=[];for(const k of p)R.push(Qy(u,o,k));m={arrayValue:{values:R}}}else m=Qy(u,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Yy(p,d),m=tN(l,s,p,d==="in"||d==="not-in");return Xe.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vw(t,e,n){const r=e,i=hp("where",t);return ac._create(i,r,n)}class fp extends dp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)_w(s,u),s=ud(s,u)}(e._query,n),new Fo(e.firestore,e.converter,ud(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qy(t,e,n){if(typeof(n=To(n))=="string"){if(n==="")throw new X(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&n.indexOf("/")!==-1)throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!re.isDocumentKey(r))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hy(t,new re(r))}if(n instanceof ln)return hy(t,n._key);throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oc(n)}.`)}function Yy(t,e){if(!Array.isArray(t)||t.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _w(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lN{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Eu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new ap(o)}convertGeoPoint(e){return new sp(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Se(FE(r));const i=new aa(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(n)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cN extends gw{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $l extends cN{data(e={}){return super.data(e)}}class hN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $l(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new $l(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new $l(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:dN(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}class fN extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Ew(t){t=xu(t,Fo);const e=xu(t.firestore,rp),n=uw(e),r=new fN(e);return sN(t._query),Wk(n,t._query).then(i=>new hN(e,r,t,i))}function pN(t,e){const n=xu(t.firestore,rp),r=Kk(t),i=uN(t.converter,e);return mN(n,[eN(hw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function mN(t,e){return function(r,i){const o=new Br;return r.asyncQueue.enqueueAndForget(async()=>Nk(await Bk(r),i,o)),o.promise}(uw(t),e)}function gN(){return new up("serverTimestamp")}(function(e,n=!0){(function(i){Lo=i})(MA),yu(new ra("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new rp(new JA(r.getProvider("auth-internal")),new tx(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),fo(Zg,ey,e),fo(Zg,ey,"esm2017")})();const yN={apiKey:"AIzaSyBnmOz6UCCXOSzQ5pXZukrEfPqFFSzRorA",authDomain:"blus-66a71.firebaseapp.com",projectId:"blus-66a71",storageBucket:"blus-66a71.appspot.com",messagingSenderId:"540656880223",appId:"1:540656880223:web:b121a0e860e0be55a629ea",measurementId:"G-SW58F3YWFD"},vN=U0(yN),wd=Qk(vN),_N="AIzaSyCukB7QL_HtkwWeKaK2IsC3X_CDmAwmUHg",EN=new pR(_N),ww=`
IMPORTANT RULE: DO NOT USE MARKDOWN FORMATTING, ONLY PLAIN TEXT!
You are trying to check for signs of suspicious/fraudulent activity in emails and texts. 
  The user will input the content of an email and text.You should examine the sender address (optional), subject (optional) and body content to check for the potential red flags outlined below.
  
  EMAIL SENDER RED FLAGS:
  Suspicious Sender Addresses:
    If the email address looks strange or doesn't match the company's official domain, it's a strong indicator of a phishing attempt. 
  ****NOTE: ONLY IF EXTENSION IMPLEMENTED.should check if this person has ever sent emails to the user before***

  EMAIL BODY RED FLAGS:
  Generic Greetings:
    Phishing emails often use vague greetings like "Dear Sir/Madam" instead of addressing the user by name.
  Urgent or Threatening Language:
    Emails that create a sense of urgency o threaten immediate consequences are red flags. Especially 
  Suspicious Links and Attachments:
    Be cautious of clicking links or opening attachments from unknown or suspicious sources. 
  Grammar and Spelling Mistakes:
    Legitimate companies usually have professional email templates and proofread their messages carefully, so poor grammar and spelling can be a sign of a phishing scam. 
  Requests for Personal Information:
    Legitimate companies will never ask for sensitive information like login credentials or financial information via email. 
  "Too Good to Be True" Offers:
    Be wary of emails offering unrealistic deals or prizes.
    Financial scams are often advertised as easy jobs that offer a profit for purchasing items or reimbursement for an acquaintance who is in a hurry. There is no legitimate reason for you to handle payments or financial transactions for somebody else. If you are asked to purchase gift cards, services, do a wire transfer, deposit money, forward money, or perform any financial transaction you are likely involved in a scam.
  Signature or Email Display Name: 
    They may be using a fake signature or email display name that will lead you to believe the message is from someone else, such as the Help Desk, Microsoft, an Email Admin team or something similar.
  Suspicious Links:
    If the email contains a suspicious link, be wary. Combined with other red flags, it is a strong sign of malicious activity
 It may be a malicious link.
  Suspicious Attachments:
    Again, similar to the links, combined with other red flags, attachments are a strong indication of malicious content and can have serious effects. You will not be able to see whether or not the email has attachments (only the sender, subject, and content will be included) but there may be textual `,wN=EN.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:ww}),TN=async t=>{try{const e=yw(Ed(wd,"maliciousEmails"),vw("email","==",t)),n=await Ew(e);return console.log("Firestore Query Snapshot:",n),!n.empty}catch(e){return console.error("Error checking malicious email:",e),!1}},SN=async t=>{try{console.log("Adding to blacklist:",t),(await Ew(yw(Ed(wd,"maliciousEmails"),vw("email","==",t)))).empty?(console.log("Email not found, adding to Firestore"),await pN(Ed(wd,"maliciousEmails"),{email:t,detectedAt:gN()}),console.log("Malicious email added to Firestore.")):console.log("Email already in blacklist")}catch(e){console.error("Error adding malicious email:",e)}};function IN(){const[t,e]=F.exports.useState(!1),[n,r]=F.exports.useState([]),[i,o]=F.exports.useState(""),[s,l]=F.exports.useState(""),[u,c]=F.exports.useState("");async function d(p){if(p.preventDefault(),u.length)try{await TN(i)&&r(k=>[...k,{type:"model",text:"Warning: This sender has been flagged as malicious."}]),e(!0);const m=`
          Sender: ${i||"Not provided"}
          Subject: ${s||"Not provided"}
          Content: ${u}
        `,v=await wN.generateContent(ww+`

Analyze this email:
`+m);console.log("API Result:",v);const R=v.response.candidates[0].content.parts[0].text;console.log("Response Text:",R),r(k=>[...k,{type:"model",text:R}]),await SN(i),c(""),l(""),o("")}catch(m){console.error("Error:",m),r(v=>[...v,{type:"error",text:`Error: ${m.message}`}])}}return we("section",{className:`input-section ${ce.paddingY} max-w-[1200px]`,children:[j("h1",{className:"text-4xl font-bold text-white mb-5 text-center",children:"Email Scanner"}),we("form",{children:[j("input",{className:"subject-input-box",type:"text",placeholder:"Subject (Optional)",value:s,onChange:p=>l(p.target.value)}),j("input",{className:"sender-input-box",type:"text",placeholder:"Sender (Optional)",value:i,onChange:p=>o(p.target.value)}),j("textarea",{className:"content-input-box",placeholder:"Content",value:u,onChange:p=>c(p.target.value)}),j(kf,{type:"submit",className:"submit-button",text:"Submit",handleOnClick:d,styles:`bg-blue-gradient w-[500px] font-poppins font-semibold text-[18px] text-primary outline-none rounded-[10px] ${ce.flexCenter} w-1000`})]}),j("br",{}),t&&j("div",{className:"output mt-5 p-4 rounded-xl text-white min-h-[200px] w-full",style:{wordWrap:"break-word",whiteSpace:"pre-wrap",overflowWrap:"break-word",borderRadius:"10px"},children:n.map((p,m)=>j("div",{className:p.type==="error"?"error":"model",children:j("p",{children:p.text})},m))})]})}function CN({question:t,options:e,points:n,onSelect:r}){const[i,o]=F.exports.useState(null),[s,l]=F.exports.useState(!1),[u,c]=F.exports.useState(0),d=(m,v)=>{s||(o(m),l(!0),c(n[v]),console.log(`Earned ${n[v]} points!`),r(n[v]))},p=m=>`w-full p-4 mb-3 rounded-xl text-left transition-all duration-300 font-poppins
            ${s?"":"bg-[#6d6d6d] hover:bg-blue-gradient text-white cursor-pointer"}
            ${s&&m===i?"bg-[#304675] text-black":""} 
            ${s&&m!==i?"bg-gray-800 text-gray-400":""}`;return j("div",{className:`${ce.flexCenter} flex-col w-full max-w-[800px] mx-auto my-8`,children:we("div",{className:"w-full bg-black-gradient-2 rounded-2xl p-8 mb-8",children:[j("div",{className:"flex justify-between items-center mb-8",children:j("h2",{className:"font-poppins font-semibold text-[24px] text-white leading-[1.2]",children:t})}),j("div",{className:"flex flex-col gap-4",children:e.map((m,v)=>j("button",{className:p(m),onClick:()=>d(m,v),disabled:s,children:j("div",{className:"flex justify-between items-center",children:j("span",{className:"font-poppins font-normal text-[16px] text-white",children:m})})},v))}),s&&j("div",{className:"mt-8 text-center",children:we("p",{className:"font-poppins font-semibold text-gradient text-[18px]",children:["Answer recorded! +",u," points \u2705"]})})]})})}const RN=()=>we("div",{className:"bg-primary w-full overflow-hidden",children:[j("div",{className:`${ce.paddingX} ${ce.flexCenter}`,children:j("div",{className:`${ce.boxWidth}`,children:j(Pf,{})})}),j("div",{className:`bg-primary ${ce.paddingX} ${ce.flexCenter}`,children:we("div",{className:`${ce.boxWidth}`,children:[j(FC,{}),j(OC,{}),j(VC,{}),j(MC,{}),j(bC,{})]})})]}),AN=()=>we("div",{className:"bg-primary",children:[j("div",{className:`${ce.paddingX} ${ce.flexCenter}`,children:j("div",{className:`${ce.boxWidth}`,children:j(Pf,{})})}),j("div",{className:`bg-primary ${ce.paddingX} ${ce.flexCenter}`,children:j("div",{className:`${ce.boxWidth}`,children:j(IN,{})})})]}),xN=()=>{const[t,e]=F.exports.useState(0),[n,r]=F.exports.useState(0),i=5,o=[{question:"Does your password have 10 or more characters (which include a diverse array of characters)",options:["Yes","No"],points:[10,0]},{question:"Do you use two-factor authentication?",options:["Yes","No"],points:[10,0]},{question:"Do you have a VPN and/or malware checker?",options:["Yes","No"],points:[10,0]},{question:"Do you have a secure email provider like Gmail and account recovery options?",options:["Yes","No"],points:[10,0]},{question:"Do you click on attachments in emails?",options:["Yes","No"],points:[10,0]}],s=l=>{e(u=>u+l),r(u=>u+1)};return we("div",{className:"bg-primary",children:[j("div",{className:`${ce.paddingX} ${ce.flexCenter}`,children:j("div",{className:`${ce.boxWidth}`,children:j(Pf,{})})}),j("div",{className:`bg-primary ${ce.paddingX} ${ce.flexCenter}`,children:we("div",{className:`${ce.boxWidth}`,children:[we("div",{className:"w-full max-w-[800px] mx-auto mt-4 mb-8",children:[j("h1",{className:"text-4xl font-bold text-white mb-5 text-center",children:"Financial Quiz"}),we("div",{className:"bg-black-gradient-2 rounded-xl p-4 flex justify-between items-center",children:[we("span",{className:"font-poppins text-dimWhite text-[16px]",children:["Score: ",t," points"]}),we("span",{className:"font-poppins text-dimWhite text-[16px]",children:["Questions: ",n,"/",i]})]})]}),j("br",{}),o.map((l,u)=>j(CN,{question:l.question,options:l.options,points:l.points,onSelect:s},u)),n===i&&j("div",{className:"w-full max-w-[800px] mx-auto my-8 text-center",children:we("div",{className:"bg-black-gradient-2 rounded-xl p-8",children:[j("h2",{className:"font-poppins font-bold text-[32px] text-gradient mb-4",children:"Quiz Complete!"}),we("p",{className:"font-poppins text-white text-[20px] mb-2",children:["Final Score: ",t," points"]}),j("p",{className:"font-poppins text-dimWhite text-[18px]",children:t===50&&"Perfect score!"})]})})]})})]})},PN=pC([{path:"/",element:j(RN,{})},{path:"/product",element:j(AN,{})},{path:"/quiz",element:j(xN,{})}]),kN=()=>j(RC,{router:PN});nh.createRoot(document.getElementById("root")).render(j(tT.StrictMode,{children:j(kN,{})}));
